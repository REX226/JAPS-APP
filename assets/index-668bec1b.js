function yv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Op={exports:{}},xo={},kp={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),Ev=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),Av=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),xv=Symbol.for("react.memo"),Rv=Symbol.for("react.lazy"),Jc=Symbol.iterator;function Ov(e){return e===null||typeof e!="object"?null:(e=Jc&&e[Jc]||e["@@iterator"],typeof e=="function"?e:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pp=Object.assign,Lp={};function Mr(e,t,n){this.props=e,this.context=t,this.refs=Lp,this.updater=n||Dp}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=Mr.prototype;function wu(e,t,n){this.props=e,this.context=t,this.refs=Lp,this.updater=n||Dp}var Iu=wu.prototype=new bp;Iu.constructor=wu;Pp(Iu,Mr.prototype);Iu.isPureReactComponent=!0;var Zc=Array.isArray,Mp=Object.prototype.hasOwnProperty,Tu={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Fp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Mp.call(t,r)&&!Up.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ki,type:e,key:s,ref:o,props:i,_owner:Tu.current}}function kv(e,t){return{$$typeof:Ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Au(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ki}function Dv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ed=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dv(""+e.key):t.toString(36)}function ks(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ki:case Ev:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ul(o,0):r,Zc(i)?(n="",e!=null&&(n=e.replace(ed,"$&/")+"/"),ks(i,t,n,"",function(u){return u})):i!=null&&(Au(i)&&(i=kv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ed,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Zc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+ul(s,l);o+=ks(s,t,n,a,i)}else if(a=Ov(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+ul(s,l++),o+=ks(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ls(e,t,n){if(e==null)return e;var r=[],i=0;return ks(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Pv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ds={transition:null},Lv={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Tu};function jp(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ls,forEach:function(e,t,n){ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!Au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=Mr;M.Fragment=Sv;M.Profiler=Iv;M.PureComponent=wu;M.StrictMode=wv;M.Suspense=Cv;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv;M.act=jp;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Tu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Mp.call(t,a)&&!Up.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ki,type:e.type,key:i,ref:s,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:Av,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tv,_context:e},e.Consumer=e};M.createElement=Fp;M.createFactory=function(e){var t=Fp.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Nv,render:e}};M.isValidElement=Au;M.lazy=function(e){return{$$typeof:Rv,_payload:{_status:-1,_result:e},_init:Pv}};M.memo=function(e,t){return{$$typeof:xv,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};M.unstable_act=jp;M.useCallback=function(e,t){return be.current.useCallback(e,t)};M.useContext=function(e){return be.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return be.current.useDeferredValue(e)};M.useEffect=function(e,t){return be.current.useEffect(e,t)};M.useId=function(){return be.current.useId()};M.useImperativeHandle=function(e,t,n){return be.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return be.current.useMemo(e,t)};M.useReducer=function(e,t,n){return be.current.useReducer(e,t,n)};M.useRef=function(e){return be.current.useRef(e)};M.useState=function(e){return be.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return be.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return be.current.useTransition()};M.version="18.3.1";kp.exports=M;var w=kp.exports;const Bp=vv(w),bv=yv({__proto__:null,default:Bp},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=w,Uv=Symbol.for("react.element"),Fv=Symbol.for("react.fragment"),jv=Object.prototype.hasOwnProperty,Bv=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hv={key:!0,ref:!0,__self:!0,__source:!0};function Hp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)jv.call(t,r)&&!Hv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Uv,type:e,key:s,ref:o,props:i,_owner:Bv.current}}xo.Fragment=Fv;xo.jsx=Hp;xo.jsxs=Hp;Op.exports=xo;var m=Op.exports,ta={},Vp={exports:{}},Xe={},$p={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,T){var D=x.length;x.push(T);e:for(;0<D;){var G=D-1>>>1,Y=x[G];if(0<i(Y,T))x[G]=T,x[D]=Y,D=G;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var T=x[0],D=x.pop();if(D!==T){x[0]=D;e:for(var G=0,Y=x.length,xt=Y>>>1;G<xt;){var P=2*(G+1)-1,V=x[P],ee=P+1,he=x[ee];if(0>i(V,D))ee<Y&&0>i(he,V)?(x[G]=he,x[ee]=D,G=ee):(x[G]=V,x[P]=D,G=P);else if(ee<Y&&0>i(he,D))x[G]=he,x[ee]=D,G=ee;else break e}}return T}function i(x,T){var D=x.sortIndex-T.sortIndex;return D!==0?D:x.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(x){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=x)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function S(x){if(E=!1,y(x),!_)if(n(a)!==null)_=!0,Ct(A);else{var T=n(u);T!==null&&Sn(S,T.startTime-x)}}function A(x,T){_=!1,E&&(E=!1,p(R),R=-1),g=!0;var D=f;try{for(y(T),d=n(a);d!==null&&(!(d.expirationTime>T)||x&&!ae());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var Y=G(d.expirationTime<=T);T=e.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(a)&&r(a),y(T)}else r(a);d=n(a)}if(d!==null)var xt=!0;else{var P=n(u);P!==null&&Sn(S,P.startTime-T),xt=!1}return xt}finally{d=null,f=D,g=!1}}var C=!1,k=null,R=-1,b=5,L=-1;function ae(){return!(e.unstable_now()-L<b)}function We(){if(k!==null){var x=e.unstable_now();L=x;var T=!0;try{T=k(!0,x)}finally{T?Ze():(C=!1,k=null)}}else C=!1}var Ze;if(typeof h=="function")Ze=function(){h(We)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,En=vn.port2;vn.port1.onmessage=We,Ze=function(){En.postMessage(null)}}else Ze=function(){v(We,0)};function Ct(x){k=x,C||(C=!0,Ze())}function Sn(x,T){R=v(function(){x(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,Ct(A))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var D=f;f=T;try{return x()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,T){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=f;f=x;try{return T()}finally{f=D}},e.unstable_scheduleCallback=function(x,T,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,x){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,x={id:c++,callback:T,priorityLevel:x,startTime:D,expirationTime:Y,sortIndex:-1},D>G?(x.sortIndex=D,t(u,x),n(a)===null&&x===n(u)&&(E?(p(R),R=-1):E=!0,Sn(S,D-G))):(x.sortIndex=Y,t(a,x),_||g||(_=!0,Ct(A))),x},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(x){var T=f;return function(){var D=f;f=T;try{return x.apply(this,arguments)}finally{f=D}}}})(Wp);$p.exports=Wp;var Vv=$p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=w,Qe=Vv;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gp=new Set,Si={};function zn(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(Si[e]=t,e=0;e<t.length;e++)Gp.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,Wv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,td={},nd={};function Gv(e){return na.call(nd,e)?!0:na.call(td,e)?!1:Wv.test(e)?nd[e]=!0:(td[e]=!0,!1)}function zv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kv(e,t,n,r){if(t===null||typeof t>"u"||zv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nu=/[\-:]([a-z])/g;function Cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nu,Cu);we[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nu,Cu);we[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nu,Cu);we[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var i=we.hasOwnProperty(t)?we[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kv(t,n,i,r)&&(n=null),r||i===null?Gv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $t=$v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),ra=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Kp=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),rd=Symbol.iterator;function Wr(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,cl;function ri(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ri(e):""}function Yv(e){switch(e.tag){case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case ra:return"Profiler";case Ru:return"StrictMode";case ia:return"Suspense";case sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kp:return(e.displayName||"Context")+".Consumer";case zp:return(e._context.displayName||"Context")+".Provider";case Ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ku:return t=e.displayName||null,t!==null?t:oa(e.type)||"Memo";case zt:t=e._payload,e=e._init;try{return oa(e(t))}catch{}}return null}function qv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(t);case 8:return t===Ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qv(e){var t=qp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=Qv(e))}function Qp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function id(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xp(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function aa(e,t){Xp(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,n):t.hasOwnProperty("defaultValue")&&ua(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ua(e,t,n){(t!=="number"||Ws(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ii=Array.isArray;function gr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function od(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(ii(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function Jp(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ld(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xv=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){Xv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function tm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function nm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jv=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(Jv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,_r=null,yr=null;function ad(e){if(e=Qi(e)){if(typeof ma!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Po(t),ma(e.stateNode,e.type,t))}}function rm(e){_r?yr?yr.push(e):yr=[e]:_r=e}function im(){if(_r){var e=_r,t=yr;if(yr=_r=null,ad(e),t)for(e=0;e<t.length;e++)ad(t[e])}}function sm(e,t){return e(t)}function om(){}var hl=!1;function lm(e,t,n){if(hl)return e(t,n);hl=!0;try{return sm(e,t,n)}finally{hl=!1,(_r!==null||yr!==null)&&(om(),im())}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var r=Po(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ga=!1;if(Ft)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{ga=!1}function Zv(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ui=!1,Gs=null,zs=!1,_a=null,e0={onError:function(e){ui=!0,Gs=e}};function t0(e,t,n,r,i,s,o,l,a){ui=!1,Gs=null,Zv.apply(e0,arguments)}function n0(e,t,n,r,i,s,o,l,a){if(t0.apply(this,arguments),ui){if(ui){var u=Gs;ui=!1,Gs=null}else throw Error(I(198));zs||(zs=!0,_a=u)}}function Kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ud(e){if(Kn(e)!==e)throw Error(I(188))}function r0(e){var t=e.alternate;if(!t){if(t=Kn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ud(i),e;if(s===r)return ud(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function um(e){return e=r0(e),e!==null?cm(e):null}function cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cm(e);if(t!==null)return t;e=e.sibling}return null}var dm=Qe.unstable_scheduleCallback,cd=Qe.unstable_cancelCallback,i0=Qe.unstable_shouldYield,s0=Qe.unstable_requestPaint,le=Qe.unstable_now,o0=Qe.unstable_getCurrentPriorityLevel,Pu=Qe.unstable_ImmediatePriority,fm=Qe.unstable_UserBlockingPriority,Ks=Qe.unstable_NormalPriority,l0=Qe.unstable_LowPriority,hm=Qe.unstable_IdlePriority,Ro=null,Tt=null;function a0(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ro,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:d0,u0=Math.log,c0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(u0(e)/c0|0)|0}var ds=64,fs=4194304;function si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=si(l):(s&=o,s!==0&&(r=si(s)))}else o=n&~i,o!==0?r=si(o):s!==0&&(r=si(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),i=1<<n,r|=e[n],t&=~i;return r}function f0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-mt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=f0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pm(){var e=ds;return ds<<=1,!(ds&4194240)&&(ds=64),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function p0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Lu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $=0;function mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gm,bu,_m,ym,vm,va=!1,hs=[],en=null,tn=null,nn=null,Ti=new Map,Ai=new Map,Yt=[],m0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function zr(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Qi(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g0(e,t,n,r,i){switch(t){case"focusin":return en=zr(en,e,t,n,r,i),!0;case"dragenter":return tn=zr(tn,e,t,n,r,i),!0;case"mouseover":return nn=zr(nn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ti.set(s,zr(Ti.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ai.set(s,zr(Ai.get(s)||null,e,t,n,r,i)),!0}return!1}function Em(e){var t=Nn(e.target);if(t!==null){var n=Kn(t);if(n!==null){if(t=n.tag,t===13){if(t=am(n),t!==null){e.blockedOn=t,vm(e.priority,function(){_m(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ea(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pa=r,n.target.dispatchEvent(r),pa=null}else return t=Qi(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function fd(e,t,n){Ps(e)&&n.delete(t)}function _0(){va=!1,en!==null&&Ps(en)&&(en=null),tn!==null&&Ps(tn)&&(tn=null),nn!==null&&Ps(nn)&&(nn=null),Ti.forEach(fd),Ai.forEach(fd)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,va||(va=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,_0)))}function Ni(e){function t(i){return Kr(i,e)}if(0<hs.length){Kr(hs[0],e);for(var n=1;n<hs.length;n++){var r=hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&Kr(en,e),tn!==null&&Kr(tn,e),nn!==null&&Kr(nn,e),Ti.forEach(t),Ai.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&Yt.shift()}var vr=$t.ReactCurrentBatchConfig,qs=!0;function y0(e,t,n,r){var i=$,s=vr.transition;vr.transition=null;try{$=1,Mu(e,t,n,r)}finally{$=i,vr.transition=s}}function v0(e,t,n,r){var i=$,s=vr.transition;vr.transition=null;try{$=4,Mu(e,t,n,r)}finally{$=i,vr.transition=s}}function Mu(e,t,n,r){if(qs){var i=Ea(e,t,n,r);if(i===null)Tl(e,t,r,Qs,n),dd(e,r);else if(g0(i,e,t,n,r))r.stopPropagation();else if(dd(e,r),t&4&&-1<m0.indexOf(e)){for(;i!==null;){var s=Qi(i);if(s!==null&&gm(s),s=Ea(e,t,n,r),s===null&&Tl(e,t,r,Qs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tl(e,t,r,null,n)}}var Qs=null;function Ea(e,t,n,r){if(Qs=null,e=Du(r),e=Nn(e),e!==null)if(t=Kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=am(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Sm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o0()){case Pu:return 1;case fm:return 4;case Ks:case l0:return 16;case hm:return 536870912;default:return 16}default:return 16}}var Qt=null,Uu=null,Ls=null;function wm(){if(Ls)return Ls;var e,t=Uu,n=t.length,r,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ls=i.slice(e,1<r?1-r:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function hd(){return!1}function Je(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ps:hd,this.isPropagationStopped=hd,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=Je(Ur),qi=se({},Ur,{view:0,detail:0}),E0=Je(qi),ml,gl,Yr,Oo=se({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(ml=e.screenX-Yr.screenX,gl=e.screenY-Yr.screenY):gl=ml=0,Yr=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),pd=Je(Oo),S0=se({},Oo,{dataTransfer:0}),w0=Je(S0),I0=se({},qi,{relatedTarget:0}),_l=Je(I0),T0=se({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),A0=Je(T0),N0=se({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C0=Je(N0),x0=se({},Ur,{data:0}),md=Je(x0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k0[e])?!!t[e]:!1}function ju(){return D0}var P0=se({},qi,{key:function(e){if(e.key){var t=R0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L0=Je(P0),b0=se({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Je(b0),M0=se({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),U0=Je(M0),F0=se({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),j0=Je(F0),B0=se({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=Je(B0),V0=[9,13,27,32],Bu=Ft&&"CompositionEvent"in window,ci=null;Ft&&"documentMode"in document&&(ci=document.documentMode);var $0=Ft&&"TextEvent"in window&&!ci,Im=Ft&&(!Bu||ci&&8<ci&&11>=ci),_d=String.fromCharCode(32),yd=!1;function Tm(e,t){switch(e){case"keyup":return V0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function W0(e,t){switch(e){case"compositionend":return Am(t);case"keypress":return t.which!==32?null:(yd=!0,_d);case"textInput":return e=t.data,e===_d&&yd?null:e;default:return null}}function G0(e,t){if(rr)return e==="compositionend"||!Bu&&Tm(e,t)?(e=wm(),Ls=Uu=Qt=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Im&&t.locale!=="ko"?null:t.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z0[e.type]:t==="textarea"}function Nm(e,t,n,r){rm(r),t=Xs(t,"onChange"),0<t.length&&(n=new Fu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var di=null,Ci=null;function K0(e){Um(e,0)}function ko(e){var t=or(e);if(Qp(t))return e}function Y0(e,t){if(e==="change")return t}var Cm=!1;if(Ft){var yl;if(Ft){var vl="oninput"in document;if(!vl){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),vl=typeof Ed.oninput=="function"}yl=vl}else yl=!1;Cm=yl&&(!document.documentMode||9<document.documentMode)}function Sd(){di&&(di.detachEvent("onpropertychange",xm),Ci=di=null)}function xm(e){if(e.propertyName==="value"&&ko(Ci)){var t=[];Nm(t,Ci,e,Du(e)),lm(K0,t)}}function q0(e,t,n){e==="focusin"?(Sd(),di=t,Ci=n,di.attachEvent("onpropertychange",xm)):e==="focusout"&&Sd()}function Q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(Ci)}function X0(e,t){if(e==="click")return ko(t)}function J0(e,t){if(e==="input"||e==="change")return ko(t)}function Z0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Z0;function xi(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!na.call(t,i)||!yt(e[i],t[i]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var n=wd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wd(n)}}function Rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Om(){for(var e=window,t=Ws();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eE(e){var t=Om(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rm(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Id(n,s);var o=Id(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tE=Ft&&"documentMode"in document&&11>=document.documentMode,ir=null,Sa=null,fi=null,wa=!1;function Td(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wa||ir==null||ir!==Ws(r)||(r=ir,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fi&&xi(fi,r)||(fi=r,r=Xs(Sa,"onSelect"),0<r.length&&(t=new Fu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},El={},km={};Ft&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Do(e){if(El[e])return El[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in km)return El[e]=t[n];return e}var Dm=Do("animationend"),Pm=Do("animationiteration"),Lm=Do("animationstart"),bm=Do("transitionend"),Mm=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(e,t){Mm.set(e,t),zn(t,[e])}for(var Sl=0;Sl<Ad.length;Sl++){var wl=Ad[Sl],nE=wl.toLowerCase(),rE=wl[0].toUpperCase()+wl.slice(1);gn(nE,"on"+rE)}gn(Dm,"onAnimationEnd");gn(Pm,"onAnimationIteration");gn(Lm,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(bm,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iE=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Nd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,n0(r,t,void 0,e),e.currentTarget=null}function Um(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Nd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Nd(i,l,u),s=a}}}if(zs)throw e=_a,zs=!1,_a=null,e}function q(e,t){var n=t[Ca];n===void 0&&(n=t[Ca]=new Set);var r=e+"__bubble";n.has(r)||(Fm(t,e,2,!1),n.add(r))}function Il(e,t,n){var r=0;t&&(r|=4),Fm(n,e,r,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Ri(e){if(!e[gs]){e[gs]=!0,Gp.forEach(function(n){n!=="selectionchange"&&(iE.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,Il("selectionchange",!1,t))}}function Fm(e,t,n,r){switch(Sm(t)){case 1:var i=y0;break;case 4:i=v0;break;default:i=Mu}n=i.bind(null,t,n,e),i=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}lm(function(){var u=s,c=Du(n),d=[];e:{var f=Mm.get(e);if(f!==void 0){var g=Fu,_=e;switch(e){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":g=L0;break;case"focusin":_="focus",g=_l;break;case"focusout":_="blur",g=_l;break;case"beforeblur":case"afterblur":g=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=U0;break;case Dm:case Pm:case Lm:g=A0;break;case bm:g=j0;break;case"scroll":g=E0;break;case"wheel":g=H0;break;case"copy":case"cut":case"paste":g=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gd}var E=(t&4)!==0,v=!E&&e==="scroll",p=E?f!==null?f+"Capture":null:f;E=[];for(var h=u,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=Ii(h,p),S!=null&&E.push(Oi(h,S,y)))),v)break;h=h.return}0<E.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==pa&&(_=n.relatedTarget||n.fromElement)&&(Nn(_)||_[jt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Nn(_):null,_!==null&&(v=Kn(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(E=pd,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=gd,S="onPointerLeave",p="onPointerEnter",h="pointer"),v=g==null?f:or(g),y=_==null?f:or(_),f=new E(S,h+"leave",g,n,c),f.target=v,f.relatedTarget=y,S=null,Nn(c)===u&&(E=new E(p,h+"enter",_,n,c),E.target=y,E.relatedTarget=v,S=E),v=S,g&&_)t:{for(E=g,p=_,h=0,y=E;y;y=Jn(y))h++;for(y=0,S=p;S;S=Jn(S))y++;for(;0<h-y;)E=Jn(E),h--;for(;0<y-h;)p=Jn(p),y--;for(;h--;){if(E===p||p!==null&&E===p.alternate)break t;E=Jn(E),p=Jn(p)}E=null}else E=null;g!==null&&Cd(d,f,g,E,!1),_!==null&&v!==null&&Cd(d,v,_,E,!0)}}e:{if(f=u?or(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var A=Y0;else if(vd(f))if(Cm)A=J0;else{A=Q0;var C=q0}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=X0);if(A&&(A=A(e,u))){Nm(d,A,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ua(f,"number",f.value)}switch(C=u?or(u):window,e){case"focusin":(vd(C)||C.contentEditable==="true")&&(ir=C,Sa=u,fi=null);break;case"focusout":fi=Sa=ir=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Td(d,n,c);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":Td(d,n,c)}var k;if(Bu)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else rr?Tm(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Im&&n.locale!=="ko"&&(rr||R!=="onCompositionStart"?R==="onCompositionEnd"&&rr&&(k=wm()):(Qt=c,Uu="value"in Qt?Qt.value:Qt.textContent,rr=!0)),C=Xs(u,R),0<C.length&&(R=new md(R,e,null,n,c),d.push({event:R,listeners:C}),k?R.data=k:(k=Am(n),k!==null&&(R.data=k)))),(k=$0?W0(e,n):G0(e,n))&&(u=Xs(u,"onBeforeInput"),0<u.length&&(c=new md("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Um(d,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ii(e,n),s!=null&&r.unshift(Oi(e,s,i)),s=Ii(e,t),s!=null&&r.push(Oi(e,s,i))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ii(n,s),a!=null&&o.unshift(Oi(n,a,l))):i||(a=Ii(n,s),a!=null&&o.push(Oi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var sE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function xd(e){return(typeof e=="string"?e:""+e).replace(sE,`
`).replace(oE,"")}function _s(e,t,n){if(t=xd(t),xd(e)!==t&&n)throw Error(I(425))}function Js(){}var Ia=null,Ta=null;function Aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Na=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(uE)}:Na;function uE(e){setTimeout(function(){throw e})}function Al(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ni(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ni(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),wt="__reactFiber$"+Fr,ki="__reactProps$"+Fr,jt="__reactContainer$"+Fr,Ca="__reactEvents$"+Fr,cE="__reactListeners$"+Fr,dE="__reactHandles$"+Fr;function Nn(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Od(e);e!==null;){if(n=e[wt])return n;e=Od(e)}return t}e=n,n=e.parentNode}return null}function Qi(e){return e=e[wt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Po(e){return e[ki]||null}var xa=[],lr=-1;function _n(e){return{current:e}}function J(e){0>lr||(e.current=xa[lr],xa[lr]=null,lr--)}function K(e,t){lr++,xa[lr]=e.current,e.current=t}var dn={},Oe=_n(dn),Be=_n(!1),bn=dn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function He(e){return e=e.childContextTypes,e!=null}function Zs(){J(Be),J(Oe)}function kd(e,t,n){if(Oe.current!==dn)throw Error(I(168));K(Oe,t),K(Be,n)}function jm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,qv(e)||"Unknown",i));return se({},n,r)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,bn=Oe.current,K(Oe,e),K(Be,Be.current),!0}function Dd(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=jm(e,t,bn),r.__reactInternalMemoizedMergedChildContext=e,J(Be),J(Oe),K(Oe,e)):J(Be),K(Be,n)}var kt=null,Lo=!1,Nl=!1;function Bm(e){kt===null?kt=[e]:kt.push(e)}function fE(e){Lo=!0,Bm(e)}function yn(){if(!Nl&&kt!==null){Nl=!0;var e=0,t=$;try{var n=kt;for($=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,Lo=!1}catch(i){throw kt!==null&&(kt=kt.slice(e+1)),dm(Pu,yn),i}finally{$=t,Nl=!1}}return null}var ar=[],ur=0,to=null,no=0,et=[],tt=0,Mn=null,Dt=1,Pt="";function wn(e,t){ar[ur++]=no,ar[ur++]=to,to=e,no=t}function Hm(e,t,n){et[tt++]=Dt,et[tt++]=Pt,et[tt++]=Mn,Mn=e;var r=Dt;e=Pt;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var s=32-mt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dt=1<<32-mt(t)+i|n<<i|r,Pt=s+e}else Dt=1<<s|n<<i|r,Pt=e}function Vu(e){e.return!==null&&(wn(e,1),Hm(e,1,0))}function $u(e){for(;e===to;)to=ar[--ur],ar[ur]=null,no=ar[--ur],ar[ur]=null;for(;e===Mn;)Mn=et[--tt],et[tt]=null,Pt=et[--tt],et[tt]=null,Dt=et[--tt],et[tt]=null}var Ke=null,ze=null,te=!1,ft=null;function Vm(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ke=e,ze=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ke=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:Dt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ke=e,ze=null,!0):!1;default:return!1}}function Ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oa(e){if(te){var t=ze;if(t){var n=t;if(!Pd(e,t)){if(Ra(e))throw Error(I(418));t=rn(n.nextSibling);var r=Ke;t&&Pd(e,t)?Vm(r,n):(e.flags=e.flags&-4097|2,te=!1,Ke=e)}}else{if(Ra(e))throw Error(I(418));e.flags=e.flags&-4097|2,te=!1,Ke=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ke=e}function ys(e){if(e!==Ke)return!1;if(!te)return Ld(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Aa(e.type,e.memoizedProps)),t&&(t=ze)){if(Ra(e))throw $m(),Error(I(418));for(;t;)Vm(e,t),t=rn(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Ke?rn(e.stateNode.nextSibling):null;return!0}function $m(){for(var e=ze;e;)e=rn(e.nextSibling)}function Cr(){ze=Ke=null,te=!1}function Wu(e){ft===null?ft=[e]:ft.push(e)}var hE=$t.ReactCurrentBatchConfig;function qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bd(e){var t=e._init;return t(e._payload)}function Wm(e){function t(p,h){if(e){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=an(p,h),p.index=0,p.sibling=null,p}function s(p,h,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,y,S){return h===null||h.tag!==6?(h=Pl(y,p.mode,S),h.return=p,h):(h=i(h,y),h.return=p,h)}function a(p,h,y,S){var A=y.type;return A===nr?c(p,h,y.props.children,S,y.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===zt&&bd(A)===h.type)?(S=i(h,y.props),S.ref=qr(p,h,y),S.return=p,S):(S=Vs(y.type,y.key,y.props,null,p.mode,S),S.ref=qr(p,h,y),S.return=p,S)}function u(p,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Ll(y,p.mode,S),h.return=p,h):(h=i(h,y.children||[]),h.return=p,h)}function c(p,h,y,S,A){return h===null||h.tag!==7?(h=Dn(y,p.mode,S,A),h.return=p,h):(h=i(h,y),h.return=p,h)}function d(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Pl(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case as:return y=Vs(h.type,h.key,h.props,null,p.mode,y),y.ref=qr(p,null,h),y.return=p,y;case tr:return h=Ll(h,p.mode,y),h.return=p,h;case zt:var S=h._init;return d(p,S(h._payload),y)}if(ii(h)||Wr(h))return h=Dn(h,p.mode,y,null),h.return=p,h;vs(p,h)}return null}function f(p,h,y,S){var A=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:l(p,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case as:return y.key===A?a(p,h,y,S):null;case tr:return y.key===A?u(p,h,y,S):null;case zt:return A=y._init,f(p,h,A(y._payload),S)}if(ii(y)||Wr(y))return A!==null?null:c(p,h,y,S,null);vs(p,y)}return null}function g(p,h,y,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,l(h,p,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case as:return p=p.get(S.key===null?y:S.key)||null,a(h,p,S,A);case tr:return p=p.get(S.key===null?y:S.key)||null,u(h,p,S,A);case zt:var C=S._init;return g(p,h,y,C(S._payload),A)}if(ii(S)||Wr(S))return p=p.get(y)||null,c(h,p,S,A,null);vs(h,S)}return null}function _(p,h,y,S){for(var A=null,C=null,k=h,R=h=0,b=null;k!==null&&R<y.length;R++){k.index>R?(b=k,k=null):b=k.sibling;var L=f(p,k,y[R],S);if(L===null){k===null&&(k=b);break}e&&k&&L.alternate===null&&t(p,k),h=s(L,h,R),C===null?A=L:C.sibling=L,C=L,k=b}if(R===y.length)return n(p,k),te&&wn(p,R),A;if(k===null){for(;R<y.length;R++)k=d(p,y[R],S),k!==null&&(h=s(k,h,R),C===null?A=k:C.sibling=k,C=k);return te&&wn(p,R),A}for(k=r(p,k);R<y.length;R++)b=g(k,p,R,y[R],S),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?R:b.key),h=s(b,h,R),C===null?A=b:C.sibling=b,C=b);return e&&k.forEach(function(ae){return t(p,ae)}),te&&wn(p,R),A}function E(p,h,y,S){var A=Wr(y);if(typeof A!="function")throw Error(I(150));if(y=A.call(y),y==null)throw Error(I(151));for(var C=A=null,k=h,R=h=0,b=null,L=y.next();k!==null&&!L.done;R++,L=y.next()){k.index>R?(b=k,k=null):b=k.sibling;var ae=f(p,k,L.value,S);if(ae===null){k===null&&(k=b);break}e&&k&&ae.alternate===null&&t(p,k),h=s(ae,h,R),C===null?A=ae:C.sibling=ae,C=ae,k=b}if(L.done)return n(p,k),te&&wn(p,R),A;if(k===null){for(;!L.done;R++,L=y.next())L=d(p,L.value,S),L!==null&&(h=s(L,h,R),C===null?A=L:C.sibling=L,C=L);return te&&wn(p,R),A}for(k=r(p,k);!L.done;R++,L=y.next())L=g(k,p,R,L.value,S),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?R:L.key),h=s(L,h,R),C===null?A=L:C.sibling=L,C=L);return e&&k.forEach(function(We){return t(p,We)}),te&&wn(p,R),A}function v(p,h,y,S){if(typeof y=="object"&&y!==null&&y.type===nr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case as:e:{for(var A=y.key,C=h;C!==null;){if(C.key===A){if(A=y.type,A===nr){if(C.tag===7){n(p,C.sibling),h=i(C,y.props.children),h.return=p,p=h;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===zt&&bd(A)===C.type){n(p,C.sibling),h=i(C,y.props),h.ref=qr(p,C,y),h.return=p,p=h;break e}n(p,C);break}else t(p,C);C=C.sibling}y.type===nr?(h=Dn(y.props.children,p.mode,S,y.key),h.return=p,p=h):(S=Vs(y.type,y.key,y.props,null,p.mode,S),S.ref=qr(p,h,y),S.return=p,p=S)}return o(p);case tr:e:{for(C=y.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=i(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ll(y,p.mode,S),h.return=p,p=h}return o(p);case zt:return C=y._init,v(p,h,C(y._payload),S)}if(ii(y))return _(p,h,y,S);if(Wr(y))return E(p,h,y,S);vs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,y),h.return=p,p=h):(n(p,h),h=Pl(y,p.mode,S),h.return=p,p=h),o(p)):n(p,h)}return v}var xr=Wm(!0),Gm=Wm(!1),ro=_n(null),io=null,cr=null,Gu=null;function zu(){Gu=cr=io=null}function Ku(e){var t=ro.current;J(ro),e._currentValue=t}function ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){io=e,Gu=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(Gu!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(io===null)throw Error(I(308));cr=e,io.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Cn=null;function Yu(e){Cn===null?Cn=[e]:Cn.push(e)}function zm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bt(e,n)}return i=r.interleaved,i===null?(t.next=t,Yu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bt(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}function Md(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var i=e.updateQueue;Kt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(f=t,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=se({},d,f);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fn|=o,e.lanes=o,e.memoizedState=d}}function Ud(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Xi={},At=_n(Xi),Di=_n(Xi),Pi=_n(Xi);function xn(e){if(e===Xi)throw Error(I(174));return e}function Qu(e,t){switch(K(Pi,t),K(Di,e),K(At,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=da(t,e)}J(At),K(At,t)}function Rr(){J(At),J(Di),J(Pi)}function Ym(e){xn(Pi.current);var t=xn(At.current),n=da(t,e.type);t!==n&&(K(Di,e),K(At,n))}function Xu(e){Di.current===e&&(J(At),J(Di))}var re=_n(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function Ju(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var Us=$t.ReactCurrentDispatcher,xl=$t.ReactCurrentBatchConfig,Un=0,ie=null,de=null,me=null,lo=!1,hi=!1,Li=0,pE=0;function Te(){throw Error(I(321))}function Zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function ec(e,t,n,r,i,s){if(Un=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?yE:vE,e=n(r,i),hi){s=0;do{if(hi=!1,Li=0,25<=s)throw Error(I(301));s+=1,me=de=null,t.updateQueue=null,Us.current=EE,e=n(r,i)}while(hi)}if(Us.current=ao,t=de!==null&&de.next!==null,Un=0,me=de=ie=null,lo=!1,t)throw Error(I(300));return e}function tc(){var e=Li!==0;return Li=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=e:me=me.next=e,me}function ot(){if(de===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=me===null?ie.memoizedState:me.next;if(t!==null)me=t,de=e;else{if(e===null)throw Error(I(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?ie.memoizedState=me=e:me=me.next=e}return me}function bi(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=de,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Un&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ie.lanes|=c,Fn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,yt(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ie.lanes|=s,Fn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ol(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);yt(s,t.memoizedState)||(Fe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qm(){}function Qm(e,t){var n=ie,r=ot(),i=t(),s=!yt(r.memoizedState,i);if(s&&(r.memoizedState=i,Fe=!0),r=r.queue,nc(Zm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Mi(9,Jm.bind(null,n,r,i,t),void 0,null),ye===null)throw Error(I(349));Un&30||Xm(n,t,i)}return i}function Xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jm(e,t,n,r){t.value=n,t.getSnapshot=r,eg(t)&&tg(e)}function Zm(e,t,n){return n(function(){eg(t)&&tg(e)})}function eg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function tg(e){var t=Bt(e,1);t!==null&&gt(t,e,1,-1)}function Fd(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=_E.bind(null,ie,e),[t.memoizedState,e]}function Mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ng(){return ot().memoizedState}function Fs(e,t,n,r){var i=Et();ie.flags|=e,i.memoizedState=Mi(1|t,n,void 0,r===void 0?null:r)}function bo(e,t,n,r){var i=ot();r=r===void 0?null:r;var s=void 0;if(de!==null){var o=de.memoizedState;if(s=o.destroy,r!==null&&Zu(r,o.deps)){i.memoizedState=Mi(t,n,s,r);return}}ie.flags|=e,i.memoizedState=Mi(1|t,n,s,r)}function jd(e,t){return Fs(8390656,8,e,t)}function nc(e,t){return bo(2048,8,e,t)}function rg(e,t){return bo(4,2,e,t)}function ig(e,t){return bo(4,4,e,t)}function sg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function og(e,t,n){return n=n!=null?n.concat([e]):null,bo(4,4,sg.bind(null,t,e),n)}function rc(){}function lg(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ag(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ug(e,t,n){return Un&21?(yt(n,t)||(n=pm(),ie.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function mE(e,t){var n=$;$=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{$=n,xl.transition=r}}function cg(){return ot().memoizedState}function gE(e,t,n){var r=ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dg(e))fg(t,n);else if(n=zm(e,t,n,r),n!==null){var i=Pe();gt(n,e,r,i),hg(n,t,r)}}function _E(e,t,n){var r=ln(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dg(e))fg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,yt(l,o)){var a=t.interleaved;a===null?(i.next=i,Yu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=zm(e,t,i,r),n!==null&&(i=Pe(),gt(n,e,r,i),hg(n,t,r))}}function dg(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function fg(e,t){hi=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}var ao={readContext:st,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},yE={readContext:st,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:jd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fs(4194308,4,sg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gE.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Fd,useDebugValue:rc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Fd(!1),t=e[0];return e=mE.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,i=Et();if(te){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ye===null)throw Error(I(349));Un&30||Xm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,jd(Zm.bind(null,r,s,e),[e]),r.flags|=2048,Mi(9,Jm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Et(),t=ye.identifierPrefix;if(te){var n=Pt,r=Dt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vE={readContext:st,useCallback:lg,useContext:st,useEffect:nc,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:ag,useReducer:Rl,useRef:ng,useState:function(){return Rl(bi)},useDebugValue:rc,useDeferredValue:function(e){var t=ot();return ug(t,de.memoizedState,e)},useTransition:function(){var e=Rl(bi)[0],t=ot().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Qm,useId:cg,unstable_isNewReconciler:!1},EE={readContext:st,useCallback:lg,useContext:st,useEffect:nc,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:ag,useReducer:Ol,useRef:ng,useState:function(){return Ol(bi)},useDebugValue:rc,useDeferredValue:function(e){var t=ot();return de===null?t.memoizedState=e:ug(t,de.memoizedState,e)},useTransition:function(){var e=Ol(bi)[0],t=ot().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Qm,useId:cg,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Da(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),i=ln(e),s=bt(r,i);s.payload=t,n!=null&&(s.callback=n),t=sn(e,s,i),t!==null&&(gt(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),i=ln(e),s=bt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sn(e,s,i),t!==null&&(gt(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=ln(e),i=bt(n,r);i.tag=2,t!=null&&(i.callback=t),t=sn(e,i,r),t!==null&&(gt(t,e,r,n),Ms(t,e,r))}};function Bd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!xi(n,r)||!xi(i,s):!0}function pg(e,t,n){var r=!1,i=dn,s=t.contextType;return typeof s=="object"&&s!==null?s=st(s):(i=He(t)?bn:Oe.current,r=t.contextTypes,s=(r=r!=null)?Nr(e,i):dn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=st(s):(s=He(t)?bn:Oe.current,i.context=Nr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Da(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),so(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=Yv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SE=typeof WeakMap=="function"?WeakMap:Map;function mg(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,Wa=r),La(e,t)},n}function gg(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){La(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){La(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bE.bind(null,e,t,n),t.then(e,e))}function $d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var wE=$t.ReactCurrentOwner,Fe=!1;function De(e,t,n,r){t.child=e===null?Gm(t,null,n,r):xr(t,e.child,n,r)}function Gd(e,t,n,r,i){n=n.render;var s=t.ref;return Er(t,i),r=ec(e,t,n,r,s,i),n=tc(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(te&&n&&Vu(t),t.flags|=1,De(e,t,r,i),t.child)}function zd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!dc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_g(e,t,s,r,i)):(e=Vs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(o,r)&&e.ref===t.ref)return Ht(e,t,i)}return t.flags|=1,e=an(s,r),e.ref=t.ref,e.return=t,t.child=e}function _g(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(xi(s,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,Ht(e,t,i)}return ba(e,t,n,r,i)}function yg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(fr,Ge),Ge|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(fr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(fr,Ge),Ge|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,K(fr,Ge),Ge|=r;return De(e,t,i,n),t.child}function vg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ba(e,t,n,r,i){var s=He(n)?bn:Oe.current;return s=Nr(t,s),Er(t,i),n=ec(e,t,n,r,s,i),r=tc(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(te&&r&&Vu(t),t.flags|=1,De(e,t,n,i),t.child)}function Kd(e,t,n,r,i){if(He(n)){var s=!0;eo(t)}else s=!1;if(Er(t,i),t.stateNode===null)js(e,t),pg(t,n,r),Pa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=He(n)?bn:Oe.current,u=Nr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Hd(t,o,r,u),Kt=!1;var f=t.memoizedState;o.state=f,so(t,r,o,i),a=t.memoizedState,l!==r||f!==a||Be.current||Kt?(typeof c=="function"&&(Da(t,n,c,r),a=t.memoizedState),(l=Kt||Bd(t,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Km(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ct(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=st(a):(a=He(n)?bn:Oe.current,a=Nr(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Hd(t,o,r,a),Kt=!1,f=t.memoizedState,o.state=f,so(t,r,o,i);var _=t.memoizedState;l!==d||f!==_||Be.current||Kt?(typeof g=="function"&&(Da(t,n,g,r),_=t.memoizedState),(u=Kt||Bd(t,n,u,r,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,s,i)}function Ma(e,t,n,r,i,s){vg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Dd(t,n,!1),Ht(e,t,s);r=t.stateNode,wE.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xr(t,e.child,null,s),t.child=xr(t,null,l,s)):De(e,t,l,s),t.memoizedState=r.state,i&&Dd(t,n,!0),t.child}function Eg(e){var t=e.stateNode;t.pendingContext?kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kd(e,t.context,!1),Qu(e,t.containerInfo)}function Yd(e,t,n,r,i){return Cr(),Wu(i),t.flags|=256,De(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sg(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),K(re,i&1),e===null)return Oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jo(o,r,0,null),e=Dn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fa(n),t.memoizedState=Ua,e):ic(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return IE(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=an(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=an(l,s):(s=Dn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Fa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ua,r}return s=e.child,e=s.sibling,r=an(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ic(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Es(e,t,n,r){return r!==null&&Wu(r),xr(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IE(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=kl(Error(I(422))),Es(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jo({mode:"visible",children:r.children},i,0,null),s=Dn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&xr(t,e.child,null,o),t.child.memoizedState=Fa(o),t.memoizedState=Ua,s);if(!(t.mode&1))return Es(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=kl(s,r,void 0),Es(e,t,o,r)}if(l=(o&e.childLanes)!==0,Fe||l){if(r=ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bt(e,i),gt(r,e,i,-1))}return cc(),r=kl(Error(I(421))),Es(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ME.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ze=rn(i.nextSibling),Ke=t,te=!0,ft=null,e!==null&&(et[tt++]=Dt,et[tt++]=Pt,et[tt++]=Mn,Dt=e.id,Pt=e.overflow,Mn=t),t=ic(t,r.children),t.flags|=4096,t)}function qd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ka(e.return,t,n)}function Dl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(De(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qd(e,n,t);else if(e.tag===19)qd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dl(t,!0,n,null,s);break;case"together":Dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TE(e,t,n){switch(t.tag){case 3:Eg(t),Cr();break;case 5:Ym(t);break;case 1:He(t.type)&&eo(t);break;case 4:Qu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;K(ro,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Sg(e,t,n):(K(re,re.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);K(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,yg(e,t,n)}return Ht(e,t,n)}var Ig,ja,Tg,Ag;Ig=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};Tg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xn(At.current);var s=null;switch(n){case"input":i=la(e,i),r=la(e,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=ca(e,i),r=ca(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}fa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ag=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AE(e,t,n){var r=t.pendingProps;switch($u(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return He(t.type)&&Zs(),Ae(t),null;case 3:return r=t.stateNode,Rr(),J(Be),J(Oe),Ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Ka(ft),ft=null))),ja(e,t),Ae(t),null;case 5:Xu(t);var i=xn(Pi.current);if(n=t.type,e!==null&&t.stateNode!=null)Tg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}if(e=xn(At.current),ys(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wt]=t,r[ki]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<oi.length;i++)q(oi[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":id(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":od(r,s),q("invalid",r)}fa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&_s(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_s(r.textContent,l,e),i=["children",""+l]):Si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":us(r),sd(r,s,!0);break;case"textarea":us(r),ld(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Js)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wt]=t,e[ki]=r,Ig(e,t,!1,!1),t.stateNode=e;e:{switch(o=ha(n,r),n){case"dialog":q("cancel",e),q("close",e),i=r;break;case"iframe":case"object":case"embed":q("load",e),i=r;break;case"video":case"audio":for(i=0;i<oi.length;i++)q(oi[i],e);i=r;break;case"source":q("error",e),i=r;break;case"img":case"image":case"link":q("error",e),q("load",e),i=r;break;case"details":q("toggle",e),i=r;break;case"input":id(e,r),i=la(e,r),q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),q("invalid",e);break;case"textarea":od(e,r),i=ca(e,r),q("invalid",e);break;default:i=r}fa(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?nm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&em(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&wi(e,a):typeof a=="number"&&wi(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Si.hasOwnProperty(s)?a!=null&&s==="onScroll"&&q("scroll",e):a!=null&&xu(e,s,a,o))}switch(n){case"input":us(e),sd(e,r,!1);break;case"textarea":us(e),ld(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?gr(e,!!r.multiple,s,!1):r.defaultValue!=null&&gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Ag(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=xn(Pi.current),xn(At.current),ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(s=r.nodeValue!==n)&&(e=Ke,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return Ae(t),null;case 13:if(J(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&ze!==null&&t.mode&1&&!(t.flags&128))$m(),Cr(),t.flags|=98560,s=!1;else if(s=ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[wt]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else ft!==null&&(Ka(ft),ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?fe===0&&(fe=3):cc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Rr(),ja(e,t),e===null&&Ri(t.stateNode.containerInfo),Ae(t),null;case 10:return Ku(t.type._context),Ae(t),null;case 17:return He(t.type)&&Zs(),Ae(t),null;case 19:if(J(re),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Qr(s,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oo(e),o!==null){for(t.flags|=128,Qr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&le()>kr&&(t.flags|=128,r=!0,Qr(s,!1),t.lanes=4194304)}else{if(!r)if(e=oo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Ae(t),null}else 2*le()-s.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,Qr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,n=re.current,K(re,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function NE(e,t){switch($u(t),t.tag){case 1:return He(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr(),J(Be),J(Oe),Ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xu(t),null;case 13:if(J(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(re),null;case 4:return Rr(),null;case 10:return Ku(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Ss=!1,Ne=!1,CE=typeof WeakSet=="function"?WeakSet:Set,O=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function Ba(e,t,n){try{n()}catch(r){oe(e,t,r)}}var Qd=!1;function xE(e,t){if(Ia=qs,e=Om(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},qs=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,v=_.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?E:ct(t.type,E),v);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){oe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=Qd,Qd=!1,_}function pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ba(t,n,s)}i=i.next}while(i!==r)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ha(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ng(e){var t=e.alternate;t!==null&&(e.alternate=null,Ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[ki],delete t[Ca],delete t[cE],delete t[dE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cg(e){return e.tag===5||e.tag===3||e.tag===4}function Xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function $a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($a(e,t,n),e=e.sibling;e!==null;)$a(e,t,n),e=e.sibling}var ve=null,dt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)xg(e,t,n),n=n.sibling}function xg(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ro,n)}catch{}switch(n.tag){case 5:Ne||dr(n,t);case 6:var r=ve,i=dt;ve=null,Gt(e,t,n),ve=r,dt=i,ve!==null&&(dt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(dt?(e=ve,n=n.stateNode,e.nodeType===8?Al(e.parentNode,n):e.nodeType===1&&Al(e,n),Ni(e)):Al(ve,n.stateNode));break;case 4:r=ve,i=dt,ve=n.stateNode.containerInfo,dt=!0,Gt(e,t,n),ve=r,dt=i;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ba(n,t,o),i=i.next}while(i!==r)}Gt(e,t,n);break;case 1:if(!Ne&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){oe(n,t,l)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Gt(e,t,n),Ne=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function Jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CE),t.forEach(function(r){var i=UE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,dt=!1;break e;case 3:ve=l.stateNode.containerInfo,dt=!0;break e;case 4:ve=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(ve===null)throw Error(I(160));xg(s,o,i),ve=null,dt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rg(t,e),t=t.sibling}function Rg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),vt(e),r&4){try{pi(3,e,e.return),Uo(3,e)}catch(E){oe(e,e.return,E)}try{pi(5,e,e.return)}catch(E){oe(e,e.return,E)}}break;case 1:ut(t,e),vt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(ut(t,e),vt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var i=e.stateNode;try{wi(i,"")}catch(E){oe(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Xp(i,s),ha(l,o);var u=ha(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?nm(i,d):c==="dangerouslySetInnerHTML"?em(i,d):c==="children"?wi(i,d):xu(i,c,d,u)}switch(l){case"input":aa(i,s);break;case"textarea":Jp(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?gr(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?gr(i,!!s.multiple,s.defaultValue,!0):gr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ki]=s}catch(E){oe(e,e.return,E)}}break;case 6:if(ut(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){oe(e,e.return,E)}}break;case 3:if(ut(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(E){oe(e,e.return,E)}break;case 4:ut(t,e),vt(e);break;case 13:ut(t,e),vt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lc=le())),r&4&&Jd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||c,ut(t,e),Ne=u):ut(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,g=f.child,f.tag){case 0:case 11:case 14:case 15:pi(4,f,f.return);break;case 1:dr(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){oe(r,n,E)}}break;case 5:dr(f,f.return);break;case 22:if(f.memoizedState!==null){ef(d);continue}}g!==null?(g.return=f,O=g):ef(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tm("display",o))}catch(E){oe(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){oe(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(t,e),vt(e),r&4&&Jd(e);break;case 21:break;default:ut(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wi(i,""),r.flags&=-33);var s=Xd(e);$a(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Xd(e);Va(e,l,o);break;default:throw Error(I(161))}}catch(a){oe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RE(e,t,n){O=e,Og(e)}function Og(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ss;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ne;l=Ss;var u=Ne;if(Ss=o,(Ne=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?tf(i):a!==null?(a.return=o,O=a):tf(i);for(;s!==null;)O=s,Og(s),s=s.sibling;O=i,Ss=l,Ne=u}Zd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Zd(e)}}function Zd(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ud(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ud(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ni(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ne||t.flags&512&&Ha(t)}catch(f){oe(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function ef(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function tf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uo(4,t)}catch(a){oe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){oe(t,i,a)}}var s=t.return;try{Ha(t)}catch(a){oe(t,s,a)}break;case 5:var o=t.return;try{Ha(t)}catch(a){oe(t,o,a)}}}catch(a){oe(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var OE=Math.ceil,uo=$t.ReactCurrentDispatcher,sc=$t.ReactCurrentOwner,it=$t.ReactCurrentBatchConfig,B=0,ye=null,ue=null,Se=0,Ge=0,fr=_n(0),fe=0,Ui=null,Fn=0,Fo=0,oc=0,mi=null,Ue=null,lc=0,kr=1/0,Rt=null,co=!1,Wa=null,on=null,ws=!1,Xt=null,fo=0,gi=0,Ga=null,Bs=-1,Hs=0;function Pe(){return B&6?le():Bs!==-1?Bs:Bs=le()}function ln(e){return e.mode&1?B&2&&Se!==0?Se&-Se:hE.transition!==null?(Hs===0&&(Hs=pm()),Hs):(e=$,e!==0||(e=window.event,e=e===void 0?16:Sm(e.type)),e):1}function gt(e,t,n,r){if(50<gi)throw gi=0,Ga=null,Error(I(185));Yi(e,n,r),(!(B&2)||e!==ye)&&(e===ye&&(!(B&2)&&(Fo|=n),fe===4&&qt(e,Se)),Ve(e,r),n===1&&B===0&&!(t.mode&1)&&(kr=le()+500,Lo&&yn()))}function Ve(e,t){var n=e.callbackNode;h0(e,t);var r=Ys(e,e===ye?Se:0);if(r===0)n!==null&&cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cd(n),t===1)e.tag===0?fE(nf.bind(null,e)):Bm(nf.bind(null,e)),aE(function(){!(B&6)&&yn()}),n=null;else{switch(mm(r)){case 1:n=Pu;break;case 4:n=fm;break;case 16:n=Ks;break;case 536870912:n=hm;break;default:n=Ks}n=Fg(n,kg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kg(e,t){if(Bs=-1,Hs=0,B&6)throw Error(I(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var r=Ys(e,e===ye?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ho(e,r);else{t=r;var i=B;B|=2;var s=Pg();(ye!==e||Se!==t)&&(Rt=null,kr=le()+500,kn(e,t));do try{PE();break}catch(l){Dg(e,l)}while(1);zu(),uo.current=s,B=i,ue!==null?t=0:(ye=null,Se=0,t=fe)}if(t!==0){if(t===2&&(i=ya(e),i!==0&&(r=i,t=za(e,i))),t===1)throw n=Ui,kn(e,0),qt(e,r),Ve(e,le()),n;if(t===6)qt(e,r);else{if(i=e.current.alternate,!(r&30)&&!kE(i)&&(t=ho(e,r),t===2&&(s=ya(e),s!==0&&(r=s,t=za(e,s))),t===1))throw n=Ui,kn(e,0),qt(e,r),Ve(e,le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:In(e,Ue,Rt);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=lc+500-le(),10<t)){if(Ys(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Na(In.bind(null,e,Ue,Rt),t);break}In(e,Ue,Rt);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-mt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OE(r/1960))-r,10<r){e.timeoutHandle=Na(In.bind(null,e,Ue,Rt),r);break}In(e,Ue,Rt);break;case 5:In(e,Ue,Rt);break;default:throw Error(I(329))}}}return Ve(e,le()),e.callbackNode===n?kg.bind(null,e):null}function za(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=ho(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Ka(t)),e}function Ka(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function kE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~oc,t&=~Fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function nf(e){if(B&6)throw Error(I(327));Sr();var t=Ys(e,0);if(!(t&1))return Ve(e,le()),null;var n=ho(e,t);if(e.tag!==0&&n===2){var r=ya(e);r!==0&&(t=r,n=za(e,r))}if(n===1)throw n=Ui,kn(e,0),qt(e,t),Ve(e,le()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,Ue,Rt),Ve(e,le()),null}function ac(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(kr=le()+500,Lo&&yn())}}function jn(e){Xt!==null&&Xt.tag===0&&!(B&6)&&Sr();var t=B;B|=1;var n=it.transition,r=$;try{if(it.transition=null,$=1,e)return e()}finally{$=r,it.transition=n,B=t,!(B&6)&&yn()}}function uc(){Ge=fr.current,J(fr)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lE(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch($u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zs();break;case 3:Rr(),J(Be),J(Oe),Ju();break;case 5:Xu(r);break;case 4:Rr();break;case 13:J(re);break;case 19:J(re);break;case 10:Ku(r.type._context);break;case 22:case 23:uc()}n=n.return}if(ye=e,ue=e=an(e.current,null),Se=Ge=t,fe=0,Ui=null,oc=Fo=Fn=0,Ue=mi=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cn=null}return e}function Dg(e,t){do{var n=ue;try{if(zu(),Us.current=ao,lo){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lo=!1}if(Un=0,me=de=ie=null,hi=!1,Li=0,sc.current=null,n===null||n.return===null){fe=1,Ui=t,ue=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$d(o);if(g!==null){g.flags&=-257,Wd(g,o,l,s,t),g.mode&1&&Vd(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(a),t.updateQueue=E}else _.add(a);break e}else{if(!(t&1)){Vd(s,u,t),cc();break e}a=Error(I(426))}}else if(te&&l.mode&1){var v=$d(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Wd(v,o,l,s,t),Wu(Or(a,l));break e}}s=a=Or(a,l),fe!==4&&(fe=2),mi===null?mi=[s]:mi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=mg(s,a,t);Md(s,p);break e;case 1:l=a;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(on===null||!on.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=gg(s,l,t);Md(s,S);break e}}s=s.return}while(s!==null)}bg(n)}catch(A){t=A,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(1)}function Pg(){var e=uo.current;return uo.current=ao,e===null?ao:e}function cc(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(Fn&268435455)&&!(Fo&268435455)||qt(ye,Se)}function ho(e,t){var n=B;B|=2;var r=Pg();(ye!==e||Se!==t)&&(Rt=null,kn(e,t));do try{DE();break}catch(i){Dg(e,i)}while(1);if(zu(),B=n,uo.current=r,ue!==null)throw Error(I(261));return ye=null,Se=0,fe}function DE(){for(;ue!==null;)Lg(ue)}function PE(){for(;ue!==null&&!i0();)Lg(ue)}function Lg(e){var t=Ug(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?bg(e):ue=t,sc.current=null}function bg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NE(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ue=null;return}}else if(n=AE(n,t,Ge),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);fe===0&&(fe=5)}function In(e,t,n){var r=$,i=it.transition;try{it.transition=null,$=1,LE(e,t,n,r)}finally{it.transition=i,$=r}return null}function LE(e,t,n,r){do Sr();while(Xt!==null);if(B&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(p0(e,s),e===ye&&(ue=ye=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,Fg(Ks,function(){return Sr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=it.transition,it.transition=null;var o=$;$=1;var l=B;B|=4,sc.current=null,xE(e,n),Rg(n,e),eE(Ta),qs=!!Ia,Ta=Ia=null,e.current=n,RE(n),s0(),B=l,$=o,it.transition=s}else e.current=n;if(ws&&(ws=!1,Xt=e,fo=i),s=e.pendingLanes,s===0&&(on=null),a0(n.stateNode),Ve(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(co)throw co=!1,e=Wa,Wa=null,e;return fo&1&&e.tag!==0&&Sr(),s=e.pendingLanes,s&1?e===Ga?gi++:(gi=0,Ga=e):gi=0,yn(),null}function Sr(){if(Xt!==null){var e=mm(fo),t=it.transition,n=$;try{if(it.transition=null,$=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,fo=0,B&6)throw Error(I(331));var i=B;for(B|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:pi(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,g=c.return;if(Ng(c),c===u){O=null;break}if(f!==null){f.return=g,O=f;break}O=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var h=e.current;for(O=h;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uo(9,l)}}catch(A){oe(l,l.return,A)}if(l===o){O=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,O=S;break e}O=l.return}}if(B=i,yn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ro,e)}catch{}r=!0}return r}finally{$=n,it.transition=t}}return!1}function rf(e,t,n){t=Or(n,t),t=mg(e,t,1),e=sn(e,t,1),t=Pe(),e!==null&&(Yi(e,1,t),Ve(e,t))}function oe(e,t,n){if(e.tag===3)rf(e,e,n);else for(;t!==null;){if(t.tag===3){rf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=Or(n,e),e=gg(t,e,1),t=sn(t,e,1),e=Pe(),t!==null&&(Yi(t,1,e),Ve(t,e));break}}t=t.return}}function bE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(Se&n)===n&&(fe===4||fe===3&&(Se&130023424)===Se&&500>le()-lc?kn(e,0):oc|=n),Ve(e,t)}function Mg(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=Pe();e=Bt(e,t),e!==null&&(Yi(e,t,n),Ve(e,n))}function ME(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mg(e,n)}function UE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Mg(e,n)}var Ug;Ug=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,TE(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,te&&t.flags&1048576&&Hm(t,no,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var i=Nr(t,Oe.current);Er(t,n),i=ec(null,t,r,e,i,n);var s=tc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(s=!0,eo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qu(t),i.updater=Mo,t.stateNode=i,i._reactInternals=t,Pa(t,r,e,n),t=Ma(null,t,r,!0,s,n)):(t.tag=0,te&&s&&Vu(t),De(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=jE(r),e=ct(r,e),i){case 0:t=ba(null,t,r,e,n);break e;case 1:t=Kd(null,t,r,e,n);break e;case 11:t=Gd(null,t,r,e,n);break e;case 14:t=zd(null,t,r,ct(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),ba(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),Kd(e,t,r,i,n);case 3:e:{if(Eg(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Km(e,t),so(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Or(Error(I(423)),t),t=Yd(e,t,r,n,i);break e}else if(r!==i){i=Or(Error(I(424)),t),t=Yd(e,t,r,n,i);break e}else for(ze=rn(t.stateNode.containerInfo.firstChild),Ke=t,te=!0,ft=null,n=Gm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===i){t=Ht(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return Ym(t),e===null&&Oa(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Aa(r,i)?o=null:s!==null&&Aa(r,s)&&(t.flags|=32),vg(e,t),De(e,t,o,n),t.child;case 6:return e===null&&Oa(t),null;case 13:return Sg(e,t,n);case 4:return Qu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),Gd(e,t,r,i,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,K(ro,r._currentValue),r._currentValue=o,s!==null)if(yt(s.value,o)){if(s.children===i.children&&!Be.current){t=Ht(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ka(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ka(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}De(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Er(t,n),i=st(i),r=r(i),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,i=ct(r,t.pendingProps),i=ct(r.type,i),zd(e,t,r,i,n);case 15:return _g(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ct(r,i),js(e,t),t.tag=1,He(r)?(e=!0,eo(t)):e=!1,Er(t,n),pg(t,r,i),Pa(t,r,i,n),Ma(null,t,r,!0,e,n);case 19:return wg(e,t,n);case 22:return yg(e,t,n)}throw Error(I(156,t.tag))};function Fg(e,t){return dm(e,t)}function FE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new FE(e,t,n,r)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jE(e){if(typeof e=="function")return dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ou)return 11;if(e===ku)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")dc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nr:return Dn(n.children,i,s,t);case Ru:o=8,i|=8;break;case ra:return e=nt(12,n,t,i|2),e.elementType=ra,e.lanes=s,e;case ia:return e=nt(13,n,t,i),e.elementType=ia,e.lanes=s,e;case sa:return e=nt(19,n,t,i),e.elementType=sa,e.lanes=s,e;case Yp:return jo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zp:o=10;break e;case Kp:o=9;break e;case Ou:o=11;break e;case ku:o=14;break e;case zt:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=nt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Dn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function jo(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Yp,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Ll(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fc(e,t,n,r,i,s,o,l,a){return e=new BE(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=nt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(s),e}function HE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jg(e){if(!e)return dn;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(He(n))return jm(e,n,t)}return t}function Bg(e,t,n,r,i,s,o,l,a){return e=fc(n,r,!0,e,i,s,o,l,a),e.context=jg(null),n=e.current,r=Pe(),i=ln(n),s=bt(r,i),s.callback=t??null,sn(n,s,i),e.current.lanes=i,Yi(e,i,r),Ve(e,r),e}function Bo(e,t,n,r){var i=t.current,s=Pe(),o=ln(i);return n=jg(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sn(i,t,o),e!==null&&(gt(e,i,o,s),Ms(e,i,o)),o}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hc(e,t){sf(e,t),(e=e.alternate)&&sf(e,t)}function VE(){return null}var Hg=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}Ho.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Bo(e,t,null,null)};Ho.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){Bo(null,e,null,null)}),t[jt]=null}};function Ho(e){this._internalRoot=e}Ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=ym();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&Em(e)}};function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function of(){}function $E(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=po(o);s.call(u)}}var o=Bg(t,r,e,0,null,!1,!1,"",of);return e._reactRootContainer=o,e[jt]=o.current,Ri(e.nodeType===8?e.parentNode:e),jn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=po(a);l.call(u)}}var a=fc(e,0,!1,null,null,!1,!1,"",of);return e._reactRootContainer=a,e[jt]=a.current,Ri(e.nodeType===8?e.parentNode:e),jn(function(){Bo(t,a,n,r)}),a}function $o(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=po(o);l.call(a)}}Bo(t,o,e,i)}else o=$E(n,t,e,i,r);return po(o)}gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=si(t.pendingLanes);n!==0&&(Lu(t,n|1),Ve(t,le()),!(B&6)&&(kr=le()+500,yn()))}break;case 13:jn(function(){var r=Bt(e,1);if(r!==null){var i=Pe();gt(r,e,1,i)}}),hc(e,1)}};bu=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=Pe();gt(t,e,134217728,n)}hc(e,134217728)}};_m=function(e){if(e.tag===13){var t=ln(e),n=Bt(e,t);if(n!==null){var r=Pe();gt(n,e,t,r)}hc(e,t)}};ym=function(){return $};vm=function(e,t){var n=$;try{return $=e,t()}finally{$=n}};ma=function(e,t,n){switch(t){case"input":if(aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Po(r);if(!i)throw Error(I(90));Qp(r),aa(r,i)}}}break;case"textarea":Jp(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};sm=ac;om=jn;var WE={usingClientEntryPoint:!1,Events:[Qi,or,Po,rm,im,ac]},Xr={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GE={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=um(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||VE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Ro=Is.inject(GE),Tt=Is}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WE;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(t))throw Error(I(200));return HE(e,t,null,n)};Xe.createRoot=function(e,t){if(!mc(e))throw Error(I(299));var n=!1,r="",i=Hg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fc(e,1,!1,null,null,n,!1,r,i),e[jt]=t.current,Ri(e.nodeType===8?e.parentNode:e),new pc(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=um(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return jn(e)};Xe.hydrate=function(e,t,n){if(!Vo(t))throw Error(I(200));return $o(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!mc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Hg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Bg(t,null,e,1,n??null,i,!1,s,o),e[jt]=t.current,Ri(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ho(t)};Xe.render=function(e,t,n){if(!Vo(t))throw Error(I(200));return $o(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!Vo(e))throw Error(I(40));return e._reactRootContainer?(jn(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Xe.unstable_batchedUpdates=ac;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vo(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return $o(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vg)}catch(e){console.error(e)}}Vg(),Vp.exports=Xe;var zE=Vp.exports,lf=zE;ta.createRoot=lf.createRoot,ta.hydrateRoot=lf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const af="popstate";function KE(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=Yn(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ya("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:$g(s))}function r(i,s){Wo(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return qE(t,n,r,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YE(){return Math.random().toString(36).substr(2,8)}function uf(e,t){return{usr:e.state,key:e.key,idx:t}}function Ya(e,t,n,r){return n===void 0&&(n=null),Fi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yn(t):t,{state:n,key:t&&t.key||r||YE()})}function $g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Jt.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Fi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Jt.Pop;let v=c(),p=v==null?null:v-u;u=v,a&&a({action:l,location:E.location,delta:p})}function f(v,p){l=Jt.Push;let h=Ya(E.location,v,p);n&&n(h,v),u=c()+1;let y=uf(h,u),S=E.createHref(h);try{o.pushState(y,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}s&&a&&a({action:l,location:E.location,delta:1})}function g(v,p){l=Jt.Replace;let h=Ya(E.location,v,p);n&&n(h,v),u=c();let y=uf(h,u),S=E.createHref(h);o.replaceState(y,"",S),s&&a&&a({action:l,location:E.location,delta:0})}function _(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof v=="string"?v:$g(v);return h=h.replace(/ $/,"%20"),ce(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let E={get action(){return l},get location(){return e(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(af,d),a=v,()=>{i.removeEventListener(af,d),a=null}},createHref(v){return t(i,v)},createURL:_,encodeLocation(v){let p=_(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(v){return o.go(v)}};return E}var cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cf||(cf={}));function QE(e,t,n){return n===void 0&&(n="/"),XE(e,t,n,!1)}function XE(e,t,n,r){let i=typeof t=="string"?Yn(t):t,s=zg(i.pathname||"/",n);if(s==null)return null;let o=Wg(e);JE(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=uS(s);l=lS(o[a],u,r)}return l}function Wg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ce(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Pn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ce(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wg(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:sS(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Gg(s.path))i(s,o,a)}),t}function Gg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Gg(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function JE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZE=/^:[\w-]+$/,eS=3,tS=2,nS=1,rS=10,iS=-2,df=e=>e==="*";function sS(e,t){let n=e.split("/"),r=n.length;return n.some(df)&&(r+=iS),t&&(r+=tS),n.filter(i=>!df(i)).reduce((i,s)=>i+(ZE.test(s)?eS:s===""?nS:rS),r)}function oS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=ff({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=ff({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Pn([s,d.pathname]),pathnameBase:pS(Pn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Pn([s,d.pathnameBase]))}return o}function ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let E=l[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[d];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function aS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Wo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dS=e=>cS.test(e);function fS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Yn(e):e,s;if(n)if(dS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Wo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=hf(n.substring(1),"/"):s=hf(n,t)}else s=t;return{pathname:s,search:mS(r),hash:gS(i)}}function hf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kg(e,t){let n=hS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Yn(e):(i=Fi({},e),ce(!i.pathname||!i.pathname.includes("?"),bl("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),bl("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),bl("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=fS(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Pn=e=>e.join("/").replace(/\/\/+/g,"/"),pS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _S(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qg=["post","put","patch","delete"];new Set(qg);const yS=["get",...qg];new Set(yS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)}const gc=w.createContext(null),vS=w.createContext(null),Ji=w.createContext(null),Go=w.createContext(null),qn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Qg=w.createContext(null);function Zi(){return w.useContext(Go)!=null}function _c(){return Zi()||ce(!1),w.useContext(Go).location}function Xg(e){w.useContext(Ji).static||w.useLayoutEffect(e)}function zo(){let{isDataRoute:e}=w.useContext(qn);return e?DS():ES()}function ES(){Zi()||ce(!1);let e=w.useContext(gc),{basename:t,future:n,navigator:r}=w.useContext(Ji),{matches:i}=w.useContext(qn),{pathname:s}=_c(),o=JSON.stringify(Kg(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return Xg(()=>{l.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Yg(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Pn([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function SS(e,t){return wS(e,t)}function wS(e,t,n,r){Zi()||ce(!1);let{navigator:i}=w.useContext(Ji),{matches:s}=w.useContext(qn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=_c(),c;if(t){var d;let v=typeof t=="string"?Yn(t):t;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||ce(!1),c=v}else c=u;let f=c.pathname||"/",g=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=QE(e,{pathname:g}),E=CS(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pn([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Pn([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&E?w.createElement(Go.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Jt.Pop}},E):E}function IS(){let e=kS(),t=_S(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const TS=w.createElement(IS,null);class AS extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(qn.Provider,{value:this.props.routeContext},w.createElement(Qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NS(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(gc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(qn.Provider,{value:t},r)}function CS(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ce(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:g}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let g,_=!1,E=null,v=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||TS,a&&(u<0&&f===0?(PS("route-fallback",!1),_=!0,v=null):u===f&&(_=!0,v=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),h=()=>{let y;return g?y=E:_?y=v:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(NS,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(AS,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var Jg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jg||{}),mo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mo||{});function xS(e){let t=w.useContext(gc);return t||ce(!1),t}function RS(e){let t=w.useContext(vS);return t||ce(!1),t}function OS(e){let t=w.useContext(qn);return t||ce(!1),t}function Zg(e){let t=OS(),n=t.matches[t.matches.length-1];return n.route.id||ce(!1),n.route.id}function kS(){var e;let t=w.useContext(Qg),n=RS(mo.UseRouteError),r=Zg(mo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function DS(){let{router:e}=xS(Jg.UseNavigateStable),t=Zg(mo.UseNavigateStable),n=w.useRef(!1);return Xg(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ji({fromRouteId:t},s)))},[e,t])}const pf={};function PS(e,t,n){!t&&!pf[e]&&(pf[e]=!0)}function LS(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function bS(e){let{to:t,replace:n,state:r,relative:i}=e;Zi()||ce(!1);let{future:s,static:o}=w.useContext(Ji),{matches:l}=w.useContext(qn),{pathname:a}=_c(),u=zo(),c=Yg(t,Kg(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function $s(e){ce(!1)}function MS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Jt.Pop,navigator:s,static:o=!1,future:l}=e;Zi()&&ce(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o,future:ji({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=Yn(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:_="default"}=r,E=w.useMemo(()=>{let v=zg(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:_},navigationType:i}},[a,c,d,f,g,_,i]);return E==null?null:w.createElement(Ji.Provider,{value:u},w.createElement(Go.Provider,{children:n,value:E}))}function US(e){let{children:t,location:n}=e;return SS(qa(t),n)}new Promise(()=>{});function qa(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,qa(r.props.children,s));return}r.type!==$s&&ce(!1),!r.props.index||!r.props.children||ce(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qa(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FS="6";try{window.__reactRouterVersion=FS}catch{}const jS="startTransition",mf=bv[jS];function BS(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=KE({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(d=>{u&&mf?mf(()=>a(d)):a(d)},[a,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.useEffect(()=>LS(r),[r]),w.createElement(MS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var gf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gf||(gf={}));var _f;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_f||(_f={}));const Qa="SENTINEL_REMOTE_DB_URL",Bi=()=>(localStorage.getItem(Qa)||"").replace(/\/$/,""),HS=e=>{if(!e)localStorage.removeItem(Qa);else{const t=e.replace(/\/$/,"");localStorage.setItem(Qa,t)}},$e=()=>{const e=Bi();return!!e&&e.length>0},Dr="sentinel_alerts_v1",fn="sentinel_recurring_v1",Xa="sentinel_status/monitor",e_=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),yc=async e=>{if(!$e())return null;const t=Bi();try{const n=await fetch(`${t}/${e}.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return e!==Xa&&localStorage.setItem(`cache_${e}`,JSON.stringify(r)),r}catch(n){if(e!==Xa){console.warn(`Cloud fetch error for ${e}, falling back to cache:`,n);const r=localStorage.getItem(`cache_${e}`);return r?JSON.parse(r):null}return null}},es=async(e,t)=>{if(!$e())return;const n=Bi();localStorage.setItem(`cache_${e}`,JSON.stringify(t));try{await fetch(`${n}/${e}.json`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}catch(r){console.error("Cloud write error:",r)}},VS=async()=>await yc(Xa),Ko=async()=>{if($e()){const e=await yc(Dr);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(Dr);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load alerts",e),[]}},$S=async e=>{const n=[...await Ko(),e];$e()?await es(Dr,n):localStorage.setItem(Dr,JSON.stringify(n))},WS=(e,t,n)=>({id:e_(),content:e,scheduledTime:t,createdAt:Date.now(),severity:n,isSent:!1}),GS=async e=>{const n=(await Ko()).filter(r=>r.id!==e);$e()?await es(Dr,n):localStorage.setItem(Dr,JSON.stringify(n))},ts=async()=>{if($e()){const e=await yc(fn);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(fn);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load recurring alerts",e),[]}},zS=async e=>{const n=[...await ts(),e];$e()?await es(fn,n):localStorage.setItem(fn,JSON.stringify(n))},KS=(e,t,n)=>({id:e_(),content:e,scheduledTime:t,severity:n,isActive:!0,createdAt:Date.now()}),YS=async e=>{const n=(await ts()).map(r=>r.id===e?{...r,isActive:!r.isActive}:r);$e()?await es(fn,n):localStorage.setItem(fn,JSON.stringify(n))},qS=async e=>{const n=(await ts()).filter(r=>r.id!==e);$e()?await es(fn,n):localStorage.setItem(fn,JSON.stringify(n))},QS=async()=>{const e=Date.now();return(await Ko()).filter(n=>n.scheduledTime>e).sort((n,r)=>n.scheduledTime-r.scheduledTime)},t_=async()=>{const e=new Date,t=e.getTime(),n=e.toDateString(),i=(await Ko()).filter(a=>a.scheduledTime<=t),o=(await ts()).filter(a=>a.isActive),l=[];return o.forEach(a=>{try{const[u,c]=a.scheduledTime.split(":").map(Number),d=new Date(e);d.setHours(u,c,0,0),t>=d.getTime()&&l.push({id:`recurring-${a.id}-${n}`,content:`[DAILY REPEAT] ${a.content}`,scheduledTime:d.getTime(),createdAt:a.createdAt,severity:a.severity,isSent:!0})}catch(u){console.error("Error parsing recurring time",u)}}),[...i,...l].sort((a,u)=>u.scheduledTime-a.scheduledTime)};var St=(e=>(e.INFO="INFO",e.WARNING="WARNING",e.CRITICAL="CRITICAL",e))(St||{});const yf={username:"admin",password:"yogiji"},Ja=({alert:e,isAdmin:t,onDelete:n})=>{const r={[St.INFO]:"border-l-blue-500 bg-blue-900/20 text-blue-100",[St.WARNING]:"border-l-yellow-500 bg-yellow-900/20 text-yellow-100",[St.CRITICAL]:"border-l-red-500 bg-red-900/20 text-red-100 animate-pulse-fast"},i={[St.INFO]:"fa-info-circle",[St.WARNING]:"fa-exclamation-triangle",[St.CRITICAL]:"fa-radiation"},s=o=>{const l=new Date(o),a=new Date,u=l.getDate()===a.getDate()&&l.getMonth()===a.getMonth()&&l.getFullYear()===a.getFullYear(),c=l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return u?c:`${l.toLocaleDateString()} ${c}`};return m.jsxs("div",{className:`p-4 rounded-r-lg border-l-4 mb-3 relative flex items-start gap-4 shadow-lg backdrop-blur-sm ${r[e.severity]}`,children:[m.jsx("div",{className:"text-2xl pt-1",children:m.jsx("i",{className:`fas ${i[e.severity]}`})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("h3",{className:"font-bold text-lg uppercase tracking-wider",children:[e.severity," ALERT"]}),m.jsx("span",{className:"text-xs opacity-70 font-mono bg-black/30 px-2 py-1 rounded",children:s(e.scheduledTime)})]}),m.jsx("p",{className:"mt-2 text-lg font-medium leading-relaxed",children:e.content}),t&&m.jsx("div",{className:"mt-3 flex justify-end",children:m.jsx("button",{onClick:o=>{o.stopPropagation(),n&&n(e.id)},className:"text-xs text-red-400 hover:text-red-300 underline",children:"Recall/Delete"})})]})]})},Zt=({children:e,variant:t="primary",fullWidth:n=!1,className:r="",...i})=>{const s="px-4 py-2 rounded-md font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900",o={primary:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-500",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-500",secondary:"bg-slate-700 hover:bg-slate-600 text-white focus:ring-slate-500",outline:"border border-slate-600 text-slate-300 hover:bg-slate-800 focus:ring-slate-500"};return m.jsx("button",{className:`${s} ${o[t]} ${n?"w-full":""} ${r}`,...i,children:e})},XS="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAASAAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA",JS=()=>{var xt;const e=zo(),[t,n]=w.useState([]),[r,i]=w.useState(!1),[s,o]=w.useState(null),[l,a]=w.useState(null),[u,c]=w.useState(!1),[d,f]=w.useState(!1),[g,_]=w.useState(!1),[E,v]=w.useState(!1),[p,h]=w.useState(null),[y,S]=w.useState(!1),[A,C]=w.useState(Date.now()),[k,R]=w.useState(!1),b=w.useRef(null),L=w.useRef(null),ae=w.useRef(null),We=w.useRef(null),Ze=w.useRef(()=>{});w.useEffect(()=>{localStorage.getItem("sentinel_armed")==="true"&&Ct(!0),window.matchMedia("(display-mode: standalone)").matches&&f(!0),"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]);const vn=async()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.permission!=="denied"&&await Notification.requestPermission()},En=async()=>{if("wakeLock"in navigator)try{const P=await navigator.wakeLock.request("screen");h(P),S(!1),console.log(" Screen Wake Lock acquired"),P.addEventListener("release",()=>{console.log(" Screen Wake Lock released"),h(null),document.visibilityState==="visible"&&localStorage.getItem("sentinel_armed")==="true"&&En()})}catch(P){console.error(`Wake Lock failed: ${P.name}, ${P.message}`),S(!0)}else S(!0)};w.useEffect(()=>{const P=()=>{document.visibilityState==="visible"&&r&&(En(),b.current&&b.current.state==="suspended"&&b.current.resume())};return document.addEventListener("visibilitychange",P),()=>document.removeEventListener("visibilitychange",P)},[r]);const Ct=(P=!1)=>{if(!b.current){const ee=window.AudioContext||window.webkitAudioContext;b.current=new ee}const V=b.current;if(V.state==="suspended"&&V.resume().catch(()=>console.log("Auto-resume waiting for gesture")),L.current){const ee=L.current.play();ee!==void 0&&ee.then(()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:"Sentinel Active",artist:"Emergency Broadcast System",artwork:[{src:"https://cdn-icons-png.flaticon.com/512/564/564619.png",sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",()=>{var he;(he=L.current)==null||he.play()}),navigator.mediaSession.playbackState="playing")}).catch(()=>console.log("Auto-play prevented"))}if(i(!0),localStorage.setItem("sentinel_armed","true"),vn(),En(),!P)try{const ee=V.createOscillator(),he=V.createGain();ee.connect(he),he.connect(V.destination),ee.frequency.setValueAtTime(880,V.currentTime),he.gain.setValueAtTime(.1,V.currentTime),he.gain.exponentialRampToValueAtTime(1e-5,V.currentTime+.1),ee.start(),ee.stop(V.currentTime+.1)}catch(ee){console.error(ee)}},Sn=()=>{i(!1),localStorage.removeItem("sentinel_armed"),_(!1),x(),p&&p.release().then(()=>h(null)),b.current&&b.current.suspend(),L.current&&L.current.pause()},x=()=>{ae.current&&(clearInterval(ae.current),ae.current=null),navigator.vibrate&&navigator.vibrate(0)},T=w.useCallback(()=>{if(_(!0),setTimeout(()=>{_(!1),x()},15e3),navigator.vibrate&&(navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100]),ae.current&&clearInterval(ae.current),ae.current=setInterval(()=>{navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100])},3e3)),!r||!b.current)return;const P=b.current;P.state==="suspended"&&P.resume();try{const V=P.createOscillator(),ee=P.createGain();V.connect(ee),ee.connect(P.destination),V.type="sawtooth";const he=P.currentTime;for(let ll=0;ll<15;ll++){const al=he+ll;V.frequency.setValueAtTime(600,al),V.frequency.linearRampToValueAtTime(1200,al+.5),V.frequency.linearRampToValueAtTime(600,al+1)}ee.gain.setValueAtTime(.5,he),ee.gain.linearRampToValueAtTime(.001,he+15),V.start(he),V.stop(he+15)}catch(V){console.error(V)}},[r]),D=w.useCallback(async()=>{v($e());const P=await t_();n(P),s!==null&&P.length>s&&(T(),document.visibilityState==="hidden"&&P.length>0&&G(P[0])),o(P.length)},[s,T]);w.useEffect(()=>{Ze.current=D},[D]),w.useEffect(()=>{if(A){R(!0);const P=setTimeout(()=>R(!1),500);return()=>clearTimeout(P)}},[A]),w.useEffect(()=>{try{We.current=new Worker(new URL("./polling-worker.js",window.location.origin+window.location.pathname.replace(/\/[^/]*$/,"/")).href),We.current.onmessage=P=>{P.data==="tick"&&(C(Date.now()),Ze.current&&Ze.current())},We.current.postMessage("start")}catch{}return()=>{var P;return(P=We.current)==null?void 0:P.terminate()}},[]);const G=P=>{if(!(!("Notification"in window)||Notification.permission!=="granted"))try{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.ready.then(V=>{V.showNotification(` ${P.severity}`,{body:P.content,icon:"https://cdn-icons-png.flaticon.com/512/564/564619.png",tag:"sentinel-alert",renotify:!0,requireInteraction:!0,vibrate:[500,200,500,200,1e3]})})}catch{}};w.useEffect(()=>{const P=V=>{V.preventDefault(),a(V),c(!0)};return window.addEventListener("beforeinstallprompt",P),window.addEventListener("appinstalled",()=>{f(!0),c(!1)}),()=>window.removeEventListener("beforeinstallprompt",P)},[]);const Y=()=>{l&&(l.prompt(),l.userChoice.then(P=>{P.outcome==="accepted"&&c(!1),a(null)}))};return m.jsxs("div",{className:`min-h-screen text-white flex flex-col transition-colors duration-500 ${g?"alarm-flash":"bg-slate-900"}`,children:[m.jsx("audio",{ref:L,src:XS,loop:!0,playsInline:!0,style:{display:"none"}}),m.jsx("header",{className:"bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-50 shadow-md",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 bg-red-600 rounded-full flex items-center justify-center ${g?"animate-spin":"animate-pulse"}`,children:m.jsx("i",{className:"fas fa-bullhorn text-white text-xl"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold tracking-wider text-red-500",children:"SENTINEL"}),m.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[10px] font-mono",children:[E?m.jsx("span",{className:"text-green-400",children:" CLOUD"}):m.jsx("span",{className:"text-yellow-500",children:" LOCAL"}),r&&(p?m.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[m.jsx("i",{className:"fas fa-desktop"})," SCREEN ON"]}):m.jsxs("span",{className:`${y?"text-red-400":"text-slate-500"} flex items-center gap-1`,children:[m.jsx("i",{className:"fas fa-desktop"})," ",y?"LOCK FAILED":"NORMAL"]})),m.jsx("span",{className:`transition-opacity duration-200 ${k?"opacity-100 text-blue-400":"opacity-20 text-slate-500"}`,children:m.jsx("i",{className:"fas fa-heartbeat"})})]})]})]}),m.jsx("div",{className:"flex gap-2 items-center",children:r?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center text-green-400 text-sm font-mono bg-green-900/20 px-3 py-1 rounded border border-green-900 h-10",children:[m.jsx("i",{className:"fas fa-satellite-dish mr-2 animate-pulse"})," ARMED"]}),m.jsx(Zt,{onClick:Sn,variant:"secondary",className:"text-xs opacity-60 hover:opacity-100",children:"STOP"})]}):m.jsx(Zt,{onClick:()=>Ct(!1),variant:"danger",className:"animate-bounce font-bold shadow-lg shadow-red-900/50",children:"ACTIVATE SYSTEM"})})]})}),u&&!d&&m.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-slate-800 border-t border-slate-600 p-4 shadow-2xl animate-pulse",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-slate-700 p-2 rounded",children:m.jsx("i",{className:"fas fa-download text-blue-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-white",children:"Install App"}),m.jsx("p",{className:"text-xs text-slate-400",children:"Install Sentinel for reliable background alerts."})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>c(!1),className:"px-3 py-1 text-xs text-slate-400 font-medium",children:"Dismiss"}),m.jsx(Zt,{onClick:Y,className:"text-xs px-4 py-1",children:"Install"})]})]})}),m.jsx("main",{className:"flex-1 max-w-4xl mx-auto w-full p-4 md:p-8 mb-16",children:t.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[m.jsx("i",{className:"fas fa-shield-alt text-6xl mb-4 opacity-20"}),m.jsx("p",{className:"text-xl",children:"Monitoring Active"}),r&&((xt=b.current)==null?void 0:xt.state)==="suspended"&&m.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/30 text-yellow-500 border border-yellow-800 rounded text-sm animate-pulse cursor-pointer",onClick:()=>Ct(!1),children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," Audio suspended. Tap to fix."]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("div",{className:"inline-block bg-slate-950 p-4 rounded-lg border border-slate-800 text-xs text-left",children:[m.jsxs("p",{className:"font-bold text-slate-400 mb-2",children:[m.jsx("i",{className:"fas fa-lightbulb text-yellow-500"})," BEST PRACTICES"]}),m.jsxs("ul",{className:"space-y-1 text-slate-500 list-disc pl-4",children:[m.jsxs("li",{children:["Turn Volume ",m.jsx("strong",{children:"MAX"}),"."]}),m.jsxs("li",{children:["Keep this screen ",m.jsx("strong",{children:"OPEN"})," (Do not swipe away)."]}),m.jsxs("li",{children:["Screen will stay ",m.jsx("strong",{children:"ON"})," (Wake Lock: ",p?"Active":"Inactive",")."]})]})]})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 animate-ping"}),m.jsx("h2",{className:"text-slate-400 uppercase tracking-widest text-sm font-semibold",children:"Live Alert"})]}),t.map(P=>m.jsx(Ja,{alert:P},P.id))]})}),m.jsx("footer",{className:"bg-slate-950 p-6 text-center text-slate-600 text-xs border-t border-slate-900",children:m.jsx("button",{onClick:()=>e("/admin"),className:"text-slate-800 hover:text-slate-500",children:"Admin Access"})})]})},ZS=({onLogin:e})=>{const t=zo(),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),a=u=>{u.preventDefault(),n===yf.username&&i===yf.password?(e(),t("/dashboard")):l("Invalid credentials")};return m.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-lg shadow-2xl border border-slate-700",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("i",{className:"fas fa-shield-alt text-4xl text-blue-500 mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-white font-oswald",children:"Admin Access"})]}),m.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o&&m.jsx("div",{className:"bg-red-500/20 text-red-400 p-3 rounded text-sm text-center border border-red-500/50",children:o}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsx(Zt,{type:"submit",fullWidth:!0,children:"Login"}),m.jsx("div",{className:"text-center pt-2",children:m.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-slate-500 hover:text-slate-300",children:" Back to Public Broadcast"})})]}),m.jsxs("div",{className:"mt-8 p-4 bg-slate-900/50 rounded text-xs text-slate-500 font-mono text-center",children:[m.jsx("p",{children:"Demo Credentials:"}),m.jsx("p",{children:"User: admin | Pass: yogiji"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vf||(vf={}));var Ef;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Ef||(Ef={}));var Sf;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Sf||(Sf={}));var wf;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(wf||(wf={}));var If;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(If||(If={}));var Tf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Tf||(Tf={}));var Af;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Af||(Af={}));var Nf;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Nf||(Nf={}));var Cf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Cf||(Cf={}));var xf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(xf||(xf={}));var Rf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Rf||(Rf={}));var Of;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Of||(Of={}));var kf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(kf||(kf={}));var Df;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Df||(Df={}));var Pf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Pf||(Pf={}));var Lf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lf||(Lf={}));var bf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bf||(bf={}));var Mf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Mf||(Mf={}));var Uf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Uf||(Uf={}));var Ff;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Ff||(Ff={}));var jf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jf||(jf={}));var Bf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bf||(Bf={}));var Hf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hf||(Hf={}));var Vf;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vf||(Vf={}));var $f;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})($f||($f={}));var Wf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Wf||(Wf={}));var Gf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Gf||(Gf={}));var zf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Kf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Kf||(Kf={}));var Yf;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Yf||(Yf={}));var qf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(qf||(qf={}));var Qf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Qf||(Qf={}));var Xf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Xf||(Xf={}));var Jf;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Jf||(Jf={}));var Zf;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zf||(Zf={}));var eh;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eh||(eh={}));var th;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(th||(th={}));var nh;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nh||(nh={}));var rh;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(rh||(rh={}));var ih;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ih||(ih={}));var sh;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(sh||(sh={}));var oh;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(oh||(oh={}));var lh;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lh||(lh={}));var ah;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(ah||(ah={}));var uh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(uh||(uh={}));var ch;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ch||(ch={}));var dh;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(dh||(dh={}));var fh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(fh||(fh={}));var hh;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hh||(hh={}));var ph;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ph||(ph={}));var mh;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mh||(mh={}));var gh;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(gh||(gh={}));var _h;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_h||(_h={}));var yh;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yh||(yh={}));var vh;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(vh||(vh={}));var Eh;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Eh||(Eh={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sh;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Sh||(Sh={}));function go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(e){return this instanceof ne?(this.v=e,this):new ne(e)}function _i(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function l(g,_){r[g]&&(i[g]=function(E){return new Promise(function(v,p){s.push([g,E,v,p])>1||a(g,E)})},_&&(i[g]=_(i[g])))}function a(g,_){try{u(r[g](_))}catch(E){f(s[0][3],E)}}function u(g){g.value instanceof ne?Promise.resolve(g.value.v).then(c,d):f(s[0][2],g)}function c(g){a("next",g)}function d(g){a("throw",g)}function f(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wh=="function"?wh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let n_=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return n_=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const ew=()=>n_();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Za(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const eu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lt extends Error{}class Le extends lt{constructor(t,n,r,i){super(`${Le.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Yo({message:r,cause:eu(n)});const s=n;return t===400?new i_(t,s,r,i):t===401?new s_(t,s,r,i):t===403?new o_(t,s,r,i):t===404?new l_(t,s,r,i):t===409?new a_(t,s,r,i):t===422?new u_(t,s,r,i):t===429?new c_(t,s,r,i):t>=500?new d_(t,s,r,i):new Le(t,s,r,i)}}class tu extends Le{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Yo extends Le{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class r_ extends Yo{constructor({message:t}={}){super({message:t??"Request timed out."})}}class i_ extends Le{}class s_ extends Le{}class o_ extends Le{}class l_ extends Le{}class a_ extends Le{}class u_ extends Le{}class c_ extends Le{}class d_ extends Le{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tw=/^[a-z][a-z0-9+.-]*:/i,nw=e=>tw.test(e);let nu=e=>(nu=Array.isArray,nu(e));const rw=nu;let iw=rw;const Ih=iw;function sw(e){if(!e)return!0;for(const t in e)return!1;return!0}function ow(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const lw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new lt(`${e} must be an integer`);if(t<0)throw new lt(`${e} must be a positive integer`);return t},aw=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uw=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const er="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dw=()=>{var e,t,n,r,i;const s=cw();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Ah(Deno.build.os),"X-Stainless-Arch":Th(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":Ah((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Th((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=fw();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":er,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fw(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const Th=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ah=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ts;const hw=()=>Ts??(Ts=dw());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function f_(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function mw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return f_({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function h_(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p_=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ml(e,t,n){return p_(),new File(e,t??"unknown_file",n)}function yw(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const vw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m_=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ew=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&m_(e),Sw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function ww(e,t,n){if(p_(),e=await e,Ew(e))return e instanceof File?e:Ml([await e.arrayBuffer()],e.name);if(Sw(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ml(await ru(i),t,n)}const r=await ru(e);if(t||(t=yw(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Ml(r,t,n)}async function ru(e){var t,n,r,i,s;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(m_(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(vw(e))try{for(var l=!0,a=wr(e),u;u=await a.next(),t=u.done,!t;l=!0){i=u.value,l=!1;const c=i;o.push(...await ru(c))}}catch(c){n={error:c}}finally{try{!l&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}else{const c=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${Iw(e)}`)}return o}function Iw(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g_{constructor(t){this._client=t}}g_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Nh=Object.freeze(Object.create(null)),Tw=(e=__)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((c,d,f)=>{var g,_,E;/[?#]/.test(d)&&(i=!0);const v=r[f];let p=(i?encodeURIComponent:e)(""+v);return f!==r.length&&(v==null||typeof v=="object"&&v.toString===((E=Object.getPrototypeOf((_=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:Nh))!==null&&_!==void 0?_:Nh))===null||E===void 0?void 0:E.toString))&&(p=v+"",s.push({start:c.length+d.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":p)},""),l=o.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=a.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((c,d)=>c.start-d.start),s.length>0){let c=0;const d=s.reduce((f,g)=>{const _=" ".repeat(g.start-c),E="^".repeat(g.length);return c=g.start+g.length,f+_+E},"");throw new lt(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},As=Tw(__);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends g_{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,s=go(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new lt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new lt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(As`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(As`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(As`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=go(s,["api_version"]);return this._client.get(As`/${o}/interactions/${t}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}y_._key=Object.freeze(["interactions"]);class v_ extends y_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Ns;function vc(e){let t;return(Ns??(t=new globalThis.TextEncoder,Ns=t.encode.bind(t)))(e)}let Cs;function Ch(e){let t;return(Cs??(t=new globalThis.TextDecoder,Cs=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?vc(t):t;this.buffer=Aw([this.buffer,n]);const r=[];let i;for(;(i=Nw(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Ch(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Ch(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}qo.NEWLINE_CHARS=new Set([`
`,"\r"]);qo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Nw(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Cw(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _o={off:0,error:200,warn:300,info:400,debug:500},xh=(e,t,n)=>{if(e){if(ow(_o,e))return e;ke(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(_o))}`)}};function li(){}function xs(e,t,n){return!t||_o[e]>_o[n]?li:t[e].bind(t)}const xw={error:li,warn:li,info:li,debug:li};let Rh=new WeakMap;function ke(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return xw;const i=Rh.get(n);if(i&&i[0]===r)return i[1];const s={error:xs("error",n,r),warn:xs("warn",n,r),info:xs("info",n,r),debug:xs("debug",n,r)};return Rh.set(n,[r,s]),s}const Tn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hr{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const s=r?ke(r):console;function o(){return _i(this,arguments,function*(){var a,u,c,d;if(i)throw new lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=wr(Rw(t,n)),E;E=yield ne(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;if(!f)if(v.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield ne(JSON.parse(v.data))}catch(p){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),p}}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield ne(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Za(v))return yield ne(void 0);throw v}finally{f||n.abort()}})}return new hr(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function s(){return _i(this,arguments,function*(){var a,u,c,d;const f=new qo,g=h_(t);try{for(var _=!0,E=wr(g),v;v=yield ne(E.next()),a=v.done,!a;_=!0){d=v.value,_=!1;const p=d;for(const h of f.decode(p))yield yield ne(h)}}catch(p){u={error:p}}finally{try{!_&&!a&&(c=E.return)&&(yield ne(c.call(E)))}finally{if(u)throw u.error}}for(const p of f.flush())yield yield ne(p)})}function o(){return _i(this,arguments,function*(){var a,u,c,d;if(i)throw new lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=wr(s()),E;E=yield ne(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;f||v&&(yield yield ne(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield ne(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Za(v))return yield ne(void 0);throw v}finally{f||n.abort()}})}return new hr(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new hr(()=>i(t),this.controller,this.client),new hr(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return f_({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=vc(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Rw(e,t){return _i(this,arguments,function*(){var r,i,s,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new lt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new lt("Attempted to iterate over a response with no body");const l=new kw,a=new qo,u=h_(e.body);try{for(var c=!0,d=wr(Ow(u)),f;f=yield ne(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;const g=o;for(const _ of a.decode(g)){const E=l.decode(_);E&&(yield yield ne(E))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(s=d.return)&&(yield ne(s.call(d)))}finally{if(i)throw i.error}}for(const g of a.flush()){const _=l.decode(g);_&&(yield yield ne(_))}})}function Ow(e){return _i(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,a=wr(e),u;u=yield ne(a.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const c=s;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?vc(c):c;let f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let g;for(;(g=Cw(o))!==-1;)yield yield ne(o.slice(0,g)),o=o.slice(g)}}catch(c){r={error:c}}finally{try{!l&&!n&&(i=a.return)&&(yield ne(i.call(a)))}finally{if(r)throw r.error}}o.length>0&&(yield yield ne(o))})}class kw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Dw(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Dw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pw(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,o=await(async()=>{var l;if(t.options.stream)return ke(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):hr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),u=(l=a==null?void 0:a.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return ke(e).debug(`[${r}] response parsed`,Tn({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ec extends Promise{constructor(t,n,r=Pw){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Ec(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E_=Symbol("brand.privateNullableHeaders");function*Lw(e){if(!e)return;if(E_ in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Ih(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Ih(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(t&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const Jr=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,o]of Lw(r)){const l=s.toLowerCase();i.has(l)||(t.delete(s),i.add(l)),o===null?(t.delete(s),n.add(l)):(t.append(s,o),n.delete(l))}}return{[E_]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ul=e=>{var t,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var S_;class Qo{constructor(t){var n,r,i,s,o,l,a,{baseURL:u=Ul("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Ul("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,f=go(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Qo.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(o=(s=xh(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:xh(Ul("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(a=g.fetch)!==null&&a!==void 0?a:pw(),this.encoder=_w,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Jr([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Jr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Jr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new lt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${er}`}defaultIdempotencyKey(){return`stainless-node-retry-${ew()}`}makeStatusError(t,n,r,i){return Le.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=nw(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return sw(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Ec(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,s,o;const l=await t,a=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=a),await this.prepareOptions(l);const{req:u,url:c,timeout:d}=await this.buildRequest(l,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:l});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(ke(this).debug(`[${f}] sending request`,Tn({retryOfRequestLogID:r,method:l.method,url:c,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new tu;const E=new AbortController,v=await this.fetchWithTimeout(c,u,d,E).catch(eu),p=Date.now();if(v instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new tu;const S=Za(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return ke(this).info(`[${f}] connection ${S?"timed out":"failed"} - ${y}`),ke(this).debug(`[${f}] connection ${S?"timed out":"failed"} (${y})`,Tn({retryOfRequestLogID:r,url:c,durationMs:p-_,message:v.message})),this.retryRequest(l,n,r??f);throw ke(this).info(`[${f}] connection ${S?"timed out":"failed"} - error; no more retries left`),ke(this).debug(`[${f}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Tn({retryOfRequestLogID:r,url:c,durationMs:p-_,message:v.message})),S?new r_:new Yo({cause:v})}const h=`[${f}${g}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${p-_}ms`;if(!v.ok){const y=await this.shouldRetry(v);if(n&&y){const b=`retrying, ${n} attempts remaining`;return await gw(v.body),ke(this).info(`${h} - ${b}`),ke(this).debug(`[${f}] response error (${b})`,Tn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:p-_})),this.retryRequest(l,n,r??f,v.headers)}const S=y?"error; no more retries left":"error; not retryable";ke(this).info(`${h} - ${S}`);const A=await v.text().catch(b=>eu(b).message),C=aw(A),k=C?void 0:A;throw ke(this).debug(`[${f}] response error (${S})`,Tn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:k,durationMs:Date.now()-_})),this.makeStatusError(v.status,C,k,v.headers)}return ke(this).info(h),ke(this).debug(`[${f}] response start`,Tn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:p-_})),{response:v,options:l,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(t,n,r,i){const s=n||{},{signal:o,method:l}=s,a=go(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),a);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const a=i==null?void 0:i.get("retry-after");if(a&&!o){const u=parseFloat(a);Number.isNaN(u)?o=Date.parse(a)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await uw(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},t),{method:l,path:a,query:u,defaultBaseURL:c}=o,d=this.buildURL(a,u,c);"timeout"in o&&lw("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:g}=this.buildBody({options:o}),_=await this.buildHeaders({options:t,method:l,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:_},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:d,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let l=Jr([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),hw()),this._options.defaultHeaders,r,t.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Jr([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:mw(t)}:this.encoder({body:t,headers:r})}}Qo.DEFAULT_TIMEOUT=6e4;class Ie extends Qo{constructor(){super(...arguments),this.interactions=new v_(this)}}S_=Ie;Ie.GeminiNextGenAPIClient=S_;Ie.GeminiNextGenAPIClientError=lt;Ie.APIError=Le;Ie.APIConnectionError=Yo;Ie.APIConnectionTimeoutError=r_;Ie.APIUserAbortError=tu;Ie.NotFoundError=l_;Ie.ConflictError=a_;Ie.RateLimitError=c_;Ie.BadRequestError=i_;Ie.AuthenticationError=s_;Ie.InternalServerError=d_;Ie.PermissionDeniedError=o_;Ie.UnprocessableEntityError=u_;Ie.toFile=ww;Ie.Interactions=v_;const bw=async(e,t)=>(console.warn("API Key is missing. AI generation disabled."),"Error: API Key missing. Please check configuration."),Mw=({onLogout:e})=>{const t=zo(),[n,r]=w.useState(""),[i,s]=w.useState(St.INFO),[o,l]=w.useState(""),[a,u]=w.useState([]),[c,d]=w.useState([]),[f,g]=w.useState([]),[_,E]=w.useState("checking"),[v,p]=w.useState(!1),[h,y]=w.useState("create"),[S,A]=w.useState(Bi()),[C,k]=w.useState($e()),R=w.useCallback(async()=>{if(u(await QS()),d(await t_()),g(await ts()),k($e()),A(Bi()),$e()){const T=await VS();if(T){const D=Date.now()-T.last_seen<15e3&&T.online;E(D?"online":"offline")}else E("offline")}else E("offline")},[]);w.useEffect(()=>{R();const T=setInterval(R,5e3);return()=>clearInterval(T)},[R]);const b=()=>{e(),t("/")},L=async T=>{if(T.preventDefault(),!n||!o||C&&_==="offline"&&!window.confirm(` WARNING: The Monitor Script is OFFLINE.

Push notifications will NOT be sent to closed apps.

Run 'npm run monitor' on your PC to fix this.

Schedule anyway?`))return;const D=new Date,[G,Y]=o.split(":").map(Number),xt=new Date(D.getFullYear(),D.getMonth(),D.getDate(),G,Y,0,0),P=WS(n,xt.getTime(),i);await $S(P),We(),await R(),alert("One-time Alert Scheduled Successfully")},ae=async T=>{if(T.preventDefault(),!n||!o)return;const D=KS(n,o,i);await zS(D),We(),await R(),alert("Recurring Alert Created Successfully")},We=()=>{r(""),l(""),s(St.INFO)},Ze=async()=>{if(!n){alert("Please enter a topic first.");return}p(!0);try{const T=await bw(n,i);r(T)}catch{alert("Failed to generate content")}finally{p(!1)}},vn=async T=>{window.confirm("Remove this alert?")&&(await GS(T),await R())},En=async T=>{await qS(T),await R()},Ct=async T=>{await YS(T),await R()},Sn=()=>{HS(S),R(),alert("Database connection updated.")},x=T=>{if(!T)return"";const[D,G]=T.split(":"),Y=new Date;return Y.setHours(parseInt(D),parseInt(G)),Y.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})};return m.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col md:flex-row",children:[m.jsxs("aside",{className:"w-full md:w-64 bg-slate-800 border-r border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-700",children:[m.jsx("h2",{className:"text-2xl font-bold font-oswald text-blue-400",children:"ADMIN PANEL"}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"SENTINEL CONTROL"}),m.jsxs("div",{className:"mt-4 bg-slate-900 p-3 rounded border border-slate-700 space-y-2",children:[C?m.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[m.jsx("i",{className:"fas fa-wifi"})," DB Connected"]}):m.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-500",children:[m.jsx("i",{className:"fas fa-exclamation-triangle"})," Local Mode"]}),C&&m.jsxs("div",{className:`flex items-center gap-2 text-xs font-bold ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:[m.jsx("span",{className:`w-2 h-2 rounded-full ${_==="online"?"bg-green-500 animate-pulse":_==="checking"?"bg-yellow-500":"bg-red-500"}`}),_==="online"?"Monitor: ONLINE":_==="checking"?"Monitor: CHECKING...":"Monitor: OFFLINE"]}),C&&_==="offline"&&m.jsx("p",{className:"text-[10px] text-red-400 leading-tight mt-1",children:"Run 'npm run monitor' on PC."})]})]}),m.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[m.jsxs("button",{onClick:()=>y("create"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="create"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-plus-circle mr-3"})," One-Time Alert"]}),m.jsxs("button",{onClick:()=>y("recurring"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="recurring"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-sync-alt mr-3"})," Recurring Alerts"]}),m.jsxs("button",{onClick:()=>y("scheduled"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="scheduled"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-clock mr-3"})," Scheduled",a.length>0&&m.jsx("span",{className:"ml-auto bg-slate-900 px-2 py-0.5 rounded-full text-xs float-right",children:a.length})]}),m.jsxs("button",{onClick:()=>y("history"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="history"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-history mr-3"})," History"]}),m.jsxs("button",{onClick:()=>y("settings"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="settings"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-cog mr-3"})," Settings & Keys"]})]}),m.jsx("div",{className:"p-4 border-t border-slate-700",children:m.jsx(Zt,{variant:"outline",fullWidth:!0,onClick:b,children:"Logout"})})]}),m.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[h==="create"&&m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald",children:"One-Time Broadcast"}),m.jsxs("form",{onSubmit:L,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx(Oh,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:Ze}),m.jsx("div",{className:"pt-4",children:m.jsxs(Zt,{type:"submit",fullWidth:!0,disabled:v,children:[m.jsx("i",{className:"fas fa-paper-plane mr-2"})," Schedule Today"]})})]})]}),h==="recurring"&&m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-purple-400",children:"Recurring Rule"}),m.jsxs("form",{onSubmit:ae,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx(Oh,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:Ze}),m.jsx("div",{className:"pt-4",children:m.jsxs(Zt,{type:"submit",fullWidth:!0,disabled:v,className:"bg-purple-600 hover:bg-purple-500",children:[m.jsx("i",{className:"fas fa-save mr-2"})," Save Rule"]})})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 font-oswald text-slate-400",children:"Active Rules"}),f.length===0?m.jsx("div",{className:"text-slate-500 italic border border-dashed border-slate-700 p-8 rounded text-center",children:"No recurring rules."}):m.jsx("div",{className:"space-y-4",children:f.map(T=>m.jsxs("div",{className:`p-4 rounded border-l-4 flex flex-col gap-2 shadow bg-slate-800 ${T.isActive?"border-purple-500":"border-slate-600 opacity-60"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"font-mono text-xl font-bold text-white",children:x(T.scheduledTime)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Ct(T.id),className:`px-2 py-1 text-xs rounded font-bold uppercase ${T.isActive?"bg-green-900 text-green-400":"bg-slate-700 text-slate-400"}`,children:T.isActive?"Active":"Paused"}),m.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),En(T.id)},className:"w-8 h-8 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded",children:m.jsx("i",{className:"fas fa-trash text-xs"})})]})]}),m.jsx("div",{className:`text-xs font-bold uppercase ${T.severity==="CRITICAL"?"text-red-400":T.severity==="WARNING"?"text-yellow-400":"text-blue-400"}`,children:T.severity}),m.jsx("p",{className:"text-sm text-slate-300",children:T.content})]},T.id))})]})]})}),h==="scheduled"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-blue-400",children:"Scheduled Queue"}),a.length===0?m.jsx("p",{className:"text-slate-500 italic",children:"No alerts scheduled."}):a.map(T=>m.jsx(Ja,{alert:T,isAdmin:!0,onDelete:vn},T.id))]}),h==="history"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-400",children:"History"}),c.length===0?m.jsx("p",{className:"text-slate-500 italic",children:"No history."}):c.map(T=>m.jsx("div",{className:"opacity-75",children:m.jsx(Ja,{alert:T,isAdmin:!0,onDelete:T.id.startsWith("recurring")?void 0:vn})},T.id))]}),h==="settings"&&m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-200",children:"System Configuration"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"1. Database Connection"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Firebase Database URL"}),m.jsx("input",{type:"text",placeholder:"https://your-project.firebaseio.com",value:S,onChange:T=>A(T.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{className:"flex justify-between items-center pt-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${C?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"text-sm font-medium",children:C?"Cloud Connected":"Local Mode"})]}),m.jsx(Zt,{onClick:Sn,children:"Save & Connect"})]})]}),m.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"2. Server Keys (Secret Generation)"}),m.jsx("p",{className:"text-sm text-slate-400 mb-4",children:'To enable the "Monitor" script (which sends Push Notifications to closed apps), you need a Service Account Key file.'}),m.jsxs("div",{className:"bg-slate-900 p-4 rounded border border-slate-600 text-sm space-y-2 font-mono text-slate-300",children:[m.jsx("p",{className:"text-blue-400 font-bold",children:"// HOW TO GENERATE KEY:"}),m.jsx("p",{children:"1. Go to Firebase Console  Project Settings."}),m.jsxs("p",{children:["2. Tab: ",m.jsx("strong",{children:"Service Accounts"}),"."]}),m.jsxs("p",{children:["3. Click ",m.jsx("strong",{children:"Generate New Private Key"}),"."]}),m.jsxs("p",{children:["4. Save the file as ",m.jsx("span",{className:"text-yellow-400",children:"service-account.json"})," in your project root."]}),m.jsxs("p",{children:["5. Run ",m.jsx("span",{className:"text-green-400",children:"npm run monitor"}),"."]})]}),m.jsxs("div",{className:"mt-6 border-t border-slate-700 pt-4",children:[m.jsx("h4",{className:"font-bold text-slate-300 mb-2",children:"Monitor Status Check"}),m.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 p-3 rounded",children:[m.jsx("span",{className:"text-sm",children:"Current Status:"}),m.jsx("span",{className:`text-sm font-bold ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:_==="online"?"ONLINE":_==="checking"?"CHECKING...":"OFFLINE"})]})]})]})]})]})]})]})},Oh=({severity:e,setSeverity:t,timeInput:n,setTimeInput:r,content:i,setContent:s,isGenerating:o,onGenerate:l})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Severity Level"}),m.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.values(St).map(a=>m.jsx("button",{type:"button",onClick:()=>t(a),className:`py-3 rounded border-2 font-bold ${e===a?a==="CRITICAL"?"border-red-500 bg-red-500/20 text-red-500":a==="WARNING"?"border-yellow-500 bg-yellow-500/20 text-yellow-500":"border-blue-500 bg-blue-500/20 text-blue-500":"border-slate-600 text-slate-500"}`,children:a},a))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Time (HH:MM)"}),m.jsx("input",{type:"time",required:!0,value:n,onChange:a=>r(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none font-mono text-lg"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Message Content"}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{required:!0,value:i,onChange:a=>s(a.target.value),rows:4,placeholder:"Enter alert message...",className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none pr-12"}),m.jsx("button",{type:"button",onClick:l,disabled:o,className:"absolute top-2 right-2 text-slate-400 hover:text-blue-400 p-2",children:m.jsx("i",{className:`fas ${o?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`})})]})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(e,t){if(!e)throw jr(t)},jr=function(e){return new Error("Firebase Database ("+w_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Uw=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Uw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new Fw;const f=s<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T_=function(e){const t=I_(e);return Sc.encodeByteArray(t,!0)},A_=function(e){return T_(e).replace(/\./g,"")},kh=function(e){try{return Sc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e){return N_(void 0,e)}function N_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Bw(n)||(e[n]=N_(e[n],t[n]));return e}function Bw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hw())}function Vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R_(){return w_.NODE_ADMIN===!0}function $w(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="FirebaseError";class Br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Gw,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?zw(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Br(i,l,r)}}function zw(e,t){return e.replace(Kw,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Kw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){return JSON.parse(e)}function Ee(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Hi(kh(s[0])||""),n=Hi(kh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Yw=function(e){const t=O_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qw=function(e){const t=O_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Dh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yo(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Jw(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Jo=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e){return e&&e._delegate?e._delegate:e}class hn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(z||(z={}));const tI={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},nI=z.INFO,rI={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},iI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class k_{constructor(t){this.name=t,this._logLevel=nI,this._logHandler=iI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...t),this._logHandler(this,z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...t),this._logHandler(this,z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,z.INFO,...t),this._logHandler(this,z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,z.WARN,...t),this._logHandler(this,z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...t),this._logHandler(this,z.ERROR,...t)}}const sI=(e,t)=>t.some(n=>e instanceof n);let Ph,Lh;function oI(){return Ph||(Ph=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lI(){return Lh||(Lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,iu=new WeakMap,P_=new WeakMap,Fl=new WeakMap,wc=new WeakMap;function aI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mt(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&D_.set(n,e)}).catch(()=>{}),wc.set(t,e),t}function uI(e){if(iu.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});iu.set(e,t)}let su={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return iu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||P_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cI(e){su=e(su)}function dI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(jl(this),t,...n);return P_.set(r,t.sort?t.sort():[t]),Mt(r)}:lI().includes(e)?function(...t){return e.apply(jl(this),t),Mt(D_.get(this))}:function(...t){return Mt(e.apply(jl(this),t))}}function fI(e){return typeof e=="function"?dI(e):(e instanceof IDBTransaction&&uI(e),sI(e,oI())?new Proxy(e,su):e)}function Mt(e){if(e instanceof IDBRequest)return aI(e);if(Fl.has(e))return Fl.get(e);const t=fI(e);return t!==e&&(Fl.set(e,t),wc.set(t,e)),t}const jl=e=>wc.get(e);function Zo(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Mt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Mt(o.result),a.oldVersion,a.newVersion,Mt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function Bl(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Mt(n).then(()=>{})}const hI=["get","getKey","getAll","getAllKeys","count"],pI=["put","add","delete","clear"],Hl=new Map;function bh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hl.get(t))return Hl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Hl.set(t,s),s}cI(e=>({...e,get:(t,n,r)=>bh(t,n)||e.get(t,n,r),has:(t,n)=>!!bh(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ou="@firebase/app",Mh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new k_("@firebase/app"),_I="@firebase/app-compat",yI="@firebase/analytics-compat",vI="@firebase/analytics",EI="@firebase/app-check-compat",SI="@firebase/app-check",wI="@firebase/auth",II="@firebase/auth-compat",TI="@firebase/database",AI="@firebase/data-connect",NI="@firebase/database-compat",CI="@firebase/functions",xI="@firebase/functions-compat",RI="@firebase/installations",OI="@firebase/installations-compat",kI="@firebase/messaging",DI="@firebase/messaging-compat",PI="@firebase/performance",LI="@firebase/performance-compat",bI="@firebase/remote-config",MI="@firebase/remote-config-compat",UI="@firebase/storage",FI="@firebase/storage-compat",jI="@firebase/firestore",BI="@firebase/vertexai-preview",HI="@firebase/firestore-compat",VI="firebase",$I="10.14.1",WI={[ou]:"fire-core",[_I]:"fire-core-compat",[vI]:"fire-analytics",[yI]:"fire-analytics-compat",[SI]:"fire-app-check",[EI]:"fire-app-check-compat",[wI]:"fire-auth",[II]:"fire-auth-compat",[TI]:"fire-rtdb",[AI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[CI]:"fire-fn",[xI]:"fire-fn-compat",[RI]:"fire-iid",[OI]:"fire-iid-compat",[kI]:"fire-fcm",[DI]:"fire-fcm-compat",[PI]:"fire-perf",[LI]:"fire-perf-compat",[bI]:"fire-rc",[MI]:"fire-rc-compat",[UI]:"fire-gcs",[FI]:"fire-gcs-compat",[jI]:"fire-fst",[HI]:"fire-fst-compat",[BI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map,zI=new Map,Uh=new Map;function Fh(e,t){try{e.container.addComponent(t)}catch(n){Vt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function pn(e){const t=e.name;if(Uh.has(t))return Vt.debug(`There were multiple attempts to register component ${t}.`),!1;Uh.set(t,e);for(const n of GI.values())Fh(n,e);for(const n of zI.values())Fh(n,e);return!0}function L_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ic=new Xo("app","Firebase",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=$I;function Nt(e,t,n){var r;let i=(r=WI[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vt.warn(l.join(" "));return}pn(new hn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",QI=1,Vi="firebase-heartbeat-store";let Vl=null;function b_(){return Vl||(Vl=Zo(qI,QI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Vi)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ic.create("idb-open",{originalErrorMessage:e.message})})),Vl}async function XI(e){try{const n=(await b_()).transaction(Vi),r=await n.objectStore(Vi).get(M_(e));return await n.done,r}catch(t){if(t instanceof Br)Vt.warn(t.message);else{const n=Ic.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vt.warn(n.message)}}}async function jh(e,t){try{const r=(await b_()).transaction(Vi,"readwrite");await r.objectStore(Vi).put(t,M_(e)),await r.done}catch(n){if(n instanceof Br)Vt.warn(n.message);else{const r=Ic.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vt.warn(r.message)}}}function M_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1024,ZI=30*24*60*60*1e3;class eT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=ZI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bh(),{heartbeatsToSend:r,unsentEntries:i}=tT(this._heartbeatsCache.heartbeats),s=A_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vt.warn(n),""}}}function Bh(){return new Date().toISOString().substring(0,10)}function tT(e,t=JI){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hh(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $w()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jh(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Hh(e){return A_(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e){pn(new hn("platform-logger",t=>new mI(t),"PRIVATE")),pn(new hn("heartbeat",t=>new eT(t),"PRIVATE")),Nt(ou,Mh,e),Nt(ou,Mh,"esm2017"),Nt("fire-js","")}rT("");var iT="firebase",sT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt(iT,sT,"app");const Vh="@firebase/database",$h="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_="";function oT(e){U_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ee(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Hi(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Wt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lT(t)}}catch{}return new aT},Rn=F_("localStorage"),lu=F_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new k_("@firebase/database"),uT=function(){let e=1;return function(){return e++}}(),j_=function(e){const t=Zw(e),n=new Xw;n.update(t);const r=n.digest();return Sc.encodeByteArray(r)},ns=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ns.apply(null,r):typeof r=="object"?t+=Ee(r):t+=r,t+=" "}return t};let Ln=null,Wh=!0;const cT=function(e,t){N(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ir.logLevel=z.VERBOSE,Ln=Ir.log.bind(Ir),t&&lu.set("logging_enabled",!0)):typeof e=="function"?Ln=e:(Ln=null,lu.remove("logging_enabled"))},Ce=function(...e){if(Wh===!0&&(Wh=!1,Ln===null&&lu.get("logging_enabled")===!0&&cT(!0)),Ln){const t=ns.apply(null,e);Ln(t)}},rs=function(e){return function(...t){Ce(e,...t)}},au=function(...e){const t="FIREBASE INTERNAL ERROR: "+ns(...e);Ir.error(t)},Bn=function(...e){const t=`FIREBASE FATAL ERROR: ${ns(...e)}`;throw Ir.error(t),new Error(t)},Ye=function(...e){const t="FIREBASE WARNING: "+ns(...e);Ir.warn(t)},dT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},B_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lr="[MIN_NAME]",Hn="[MAX_NAME]",Hr=function(e,t){if(e===t)return 0;if(e===Lr||t===Hn)return-1;if(t===Lr||e===Hn)return 1;{const n=Gh(e),r=Gh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},hT=function(e,t){return e===t?0:e<t?-1:1},Zr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ee(t))},Tc=function(e){if(typeof e!="object"||e===null)return Ee(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ee(t[r]),n+=":",n+=Tc(e[t[r]]);return n+="}",n},H_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function at(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const V_=function(e){N(!B_(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},pT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},gT=new RegExp("^-?(0*)\\d{1,10}$"),_T=-2147483648,yT=2147483647,Gh=function(e){if(gT.test(e)){const t=Number(e);if(t>=_T&&t<=yT)return t}return null},is=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ye("Exception was thrown by user callback.",n),t},Math.floor(0))}},vT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ce("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(t)}}class uu{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}uu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="5",$_="v",W_="s",G_="r",z_="f",K_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y_="ls",q_="p",cu="ac",Q_="websocket",X_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Rn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function IT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function J_(e,t,n){N(typeof t=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(t===Q_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===X_)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);IT(e)&&(n.ns=e.namespace);const i=[];return at(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.counters_={}}incrementCounter(t,n=1){Wt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return jw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={},Wl={};function Nc(e){const t=e.toString();return $l[t]||($l[t]=new TT),$l[t]}function AT(e,t){const n=e.toString();return Wl[n]||(Wl[n]=t()),Wl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&is(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="start",CT="close",xT="pLPCommand",RT="pRTLPCB",Z_="id",ey="pw",ty="ser",OT="cb",kT="seg",DT="ts",PT="d",LT="dframe",ny=1870,ry=30,bT=ny-ry,MT=25e3,UT=3e4;class pr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rs(t),this.stats_=Nc(n),this.urlFn=a=>(this.appCheckToken&&(a[cu]=this.appCheckToken),J_(n,X_,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UT)),fT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zh)this.id=l,this.password=a;else if(o===CT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[zh]="t",r[ty]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$_]=Ac,this.transportSessionId&&(r[W_]=this.transportSessionId),this.lastSessionId&&(r[Y_]=this.lastSessionId),this.applicationId&&(r[q_]=this.applicationId),this.appCheckToken&&(r[cu]=this.appCheckToken),typeof location<"u"&&location.hostname&&K_.test(location.hostname)&&(r[G_]=z_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pr.forceAllow_=!0}static forceDisallow(){pr.forceDisallow_=!0}static isAvailable(){return pr.forceAllow_?!0:!pr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pT()&&!mT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=T_(n),i=H_(r,bT);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[LT]="t",r[Z_]=t,r[ey]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ee(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cc{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uT(),window[xT+this.uniqueCallbackIdentifier]=t,window[RT+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ce("frame writing exception"),l.stack&&Ce(l.stack),Ce(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ce("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Z_]=this.myID,t[ey]=this.myPW,t[ty]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ry+r.length<=ny;){const o=this.pendingSegs.shift();r=r+"&"+kT+i+"="+o.seg+"&"+DT+i+"="+o.ts+"&"+PT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(MT)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ce("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=16384,jT=45e3;let vo=null;typeof MozWebSocket<"u"?vo=MozWebSocket:typeof WebSocket<"u"&&(vo=WebSocket);class ht{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rs(this.connId),this.stats_=Nc(n),this.connURL=ht.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[$_]=Ac,typeof location<"u"&&location.hostname&&K_.test(location.hostname)&&(o[G_]=z_),n&&(o[W_]=n),r&&(o[Y_]=r),i&&(o[cu]=i),s&&(o[q_]=s),J_(t,Q_,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rn.set("previous_websocket_failure",!0);try{let r;R_(),this.mySock=new vo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ht.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&vo!==null&&!ht.forceDisallow_}static previouslyFailed(){return Rn.isInMemoryStorage||Rn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Hi(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(N(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=H_(n,FT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ht.responsesRequiredToBeHealthy=2;ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[pr,ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=ht&&ht.isAvailable();let r=n&&!ht.previouslyFailed();if(t.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ht];else{const i=this.transports_=[];for(const s of $i.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);$i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$i.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=6e4,HT=5e3,VT=10*1024,$T=100*1024,Gl="t",Kh="d",WT="s",Yh="r",GT="e",qh="o",Qh="a",Xh="n",Jh="p",zT="h";class KT{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rs("c:"+this.id+":"),this.transportManager_=new $i(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=yi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$T?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Gl in t){const n=t[Gl];n===Qh?this.upgradeIfSecondaryHealthy_():n===Yh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Zr("t",t),r=Zr("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Zr("t",t),r=Zr("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Zr(Gl,t);if(Kh in t){const r=t[Kh];if(n===zT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Xh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WT?this.onConnectionShutdown_(r):n===Yh?this.onReset_(r):n===GT?au("Server Error: "+r):n===qh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):au("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ac!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t){this.allowedEvents_=t,this.listeners_={},N(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){N(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends sy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!x_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Eo}getInitialEvent(t){return N(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=32,ep=768;class Z{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function W(){return new Z("")}function F(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function mn(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z(e.pieces_,t)}function oy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YT(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ly(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ay(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z(t,0)}function _e(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function rt(e,t){const n=F(e),r=F(t);if(n===null)return t;if(n===r)return rt(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function uy(e,t){if(mn(e)!==mn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(mn(e)>mn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class qT{constructor(t,n){this.errorPrefix_=n,this.parts_=ly(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jo(this.parts_[r]);cy(this)}}function QT(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Jo(t),cy(e)}function XT(e){const t=e.parts_.pop();e.byteLength_-=Jo(t),e.parts_.length>0&&(e.byteLength_-=1)}function cy(e){if(e.byteLength_>ep)throw new Error(e.errorPrefix_+"has a key path longer than "+ep+" bytes ("+e.byteLength_+").");if(e.parts_.length>Zh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zh+") or object contains a cycle "+An(e))}function An(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends sy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xc}getInitialEvent(t){return N(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=1e3,JT=60*5*1e3,tp=30*1e3,ZT=1.3,eA=3e4,tA="server_kill",np=3;class Ut extends iy{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ut.nextPersistentConnectionId_++,this.log_=rs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ei,this.maxReconnectDelay_=JT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!R_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Ee(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new C_,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Ut.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Wt(t,"w")){const r=Pr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Yw(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ee(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):au("Unrecognized action received from server: "+Ee(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eA&&(this.reconnectDelay_=ei),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ut.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ce("getToken() completed but was canceled"):(Ce("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new KT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Ye(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(tA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ye(d),a())}}}interrupt(t){Ce("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ce("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dh(this.interruptReasons_)&&(this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Tc(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Z(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ce("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=np&&(this.reconnectDelay_=tp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ce("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=np&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+U_.replace(/\./g,"-")]=1,x_()?t["framework.cordova"]=1:Vw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eo.getInstance().currentlyOnline();return Dh(this.interruptReasons_)&&t}}Ut.nextPersistentConnectionId_=0;Ut.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new j(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new j(Lr,t),i=new j(Lr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs;class dy extends el{static get __EMPTY_NODE(){return Rs}static set __EMPTY_NODE(t){Rs=t}compare(t,n){return Hr(t.name,n.name)}isDefinedOn(t){throw jr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Hn,Rs)}makePost(t,n){return N(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,Rs)}toString(){return".key"}}const Tr=new dy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ge{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ge.RED,this.left=i??je.EMPTY_NODE,this.right=s??je.EMPTY_NODE}copy(t,n,r,i,s){return new ge(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return je.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return je.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class nA{copy(t,n,r,i,s){return this}insert(t,n,r){return new ge(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class je{constructor(t,n=je.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new je(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(t){return new je(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Os(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Os(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Os(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Os(this.root_,null,this.comparator_,!0,t)}}je.EMPTY_NODE=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e,t){return Hr(e.name,t.name)}function Rc(e,t){return Hr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;function iA(e){du=e}const fy=function(e){return typeof e=="number"?"number:"+V_(e):"string:"+e},hy=function(e){if(e.isLeafNode()){const t=e.val();N(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Wt(t,".sv"),"Priority must be a string or number.")}else N(e===du||e.isEmpty(),"priority of unexpected type.");N(e===du||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp;class pe{constructor(t,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hy(this.priorityNode_)}static set __childrenNodeConstructor(t){rp=t}static get __childrenNodeConstructor(){return rp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return U(t)?this:F(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=F(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||mn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fy(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=V_(this.value_):t+=this.value_,this.lazyHash_=j_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(N(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=pe.VALUE_TYPE_ORDER.indexOf(n),s=pe.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py,my;function sA(e){py=e}function oA(e){my=e}class lA extends el{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Hr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Hn,new pe("[PRIORITY-POST]",my))}makePost(t,n){const r=py(t);return new j(n,new pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Re=new lA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=Math.log(2);class uA{constructor(t){const n=s=>parseInt(Math.log(s)/aA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const So=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new ge(f,d.node,ge.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),E=i(g+1,u);return d=e[g],f=n?n(d):d,new ge(f,d.node,ge.BLACK,_,E)}},s=function(a){let u=null,c=null,d=e.length;const f=function(_,E){const v=d-_,p=d;d-=_;const h=i(v+1,p),y=e[v],S=n?n(y):y;g(new ge(S,y.node,E,null,h))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),v=Math.pow(2,a.count-(_+1));E?f(v,ge.BLACK):(f(v,ge.BLACK),f(v,ge.RED))}return c},o=new uA(e.length),l=s(o);return new je(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl;const Zn={};class Lt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return N(Zn&&Re,"ChildrenNode.ts has not been loaded"),zl=zl||new Lt({".priority":Zn},{".priority":Re}),zl}get(t){const n=Pr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof je?n:null}hasIndex(t){return Wt(this.indexSet_,t.toString())}addIndex(t,n){N(t!==Tr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=So(r,t.getCompare()):l=Zn;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new Lt(c,u)}addToIndexes(t,n){const r=yo(this.indexes_,(i,s)=>{const o=Pr(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Zn)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),So(l,o.getCompare())}else return Zn;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new j(t.name,l))),a.insert(t,t.node)}});return new Lt(r,this.indexSet_)}removeFromIndexes(t,n){const r=yo(this.indexes_,i=>{if(i===Zn)return i;{const s=n.get(t.name);return s?i.remove(new j(t.name,s)):i}});return new Lt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ti;class H{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hy(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ti||(ti=new H(new je(Rc),null,Lt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ti}updatePriority(t){return this.children_.isEmpty()?this:new H(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ti:n}}getChild(t){const n=F(t);return n===null?this:this.getImmediateChild(n).getChild(X(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(N(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new j(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ti:this.priorityNode_;return new H(i,o,s)}}updateChild(t,n){const r=F(t);if(r===null)return n;{N(F(t)!==".priority"||mn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(X(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Re,(o,l)=>{n[o]=l.val(t),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+fy(this.getPriority().val())+":"),this.forEachChild(Re,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":j_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new j(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new j(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ss?-1:0}withIndex(t){if(t===Tr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Tr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Re),i=n.getIterator(Re);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Tr?null:this.indexMap_.get(t.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cA extends H{constructor(){super(new je(Rc),H.EMPTY_NODE,Lt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return H.EMPTY_NODE}isEmpty(){return!1}}const ss=new cA;Object.defineProperties(j,{MIN:{value:new j(Lr,H.EMPTY_NODE)},MAX:{value:new j(Hn,ss)}});dy.__EMPTY_NODE=H.EMPTY_NODE;pe.__childrenNodeConstructor=H;iA(ss);oA(ss);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=!0;function xe(e,t=null){if(e===null)return H.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),N(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new pe(n,xe(t))}if(!(e instanceof Array)&&dA){const n=[];let r=!1;if(at(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=xe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=So(n,rA,o=>o.name,Rc);if(r){const o=So(n,Re.getCompare());return new H(s,xe(t),new Lt({".priority":o},{".priority":Re}))}else return new H(s,xe(t),Lt.Default)}else{let n=H.EMPTY_NODE;return at(e,(r,i)=>{if(Wt(e,r)&&r.substring(0,1)!=="."){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(t))}}sA(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends el{constructor(t){super(),this.indexPath_=t,N(!U(t)&&F(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Hr(t.name,n.name):s}makePost(t,n){const r=xe(t),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const t=H.EMPTY_NODE.updateChild(this.indexPath_,ss);return new j(Hn,t)}toString(){return ly(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends el{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Hr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){const r=xe(t);return new j(n,r)}toString(){return".value"}}const pA=new hA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e){return{type:"value",snapshotNode:e}}function gA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _A(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ip(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function yA(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const t=new Oc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function sp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Re?n="$priority":e.index_===pA?n="$value":e.index_===Tr?n="$key":(N(e.index_ instanceof fA,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ee(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ee(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ee(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ee(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ee(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function op(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Re&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends iy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rs("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(N(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=wo.getListenId_(t,r),l={};this.listens_[o]=l;const a=sp(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Pr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=wo.getListenId_(t,n);delete this.listens_[r]}get(t){const n=sp(t._queryParams),r=t._path.toString(),i=new C_;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Qw(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Hi(l.responseText)}catch{Ye("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function gy(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=F(t);e.children.has(r)||e.children.set(r,Io());const i=e.children.get(r);t=X(t),gy(i,t,n)}}function fu(e,t,n){e.value!==null?n(t,e.value):EA(e,(r,i)=>{const s=new Z(t.toString()+"/"+r);fu(i,s,n)})}function EA(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=10*1e3,wA=30*1e3,IA=5*60*1e3;class TA{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SA(t);const r=lp+(wA-lp)*Math.random();yi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;at(t,(i,s)=>{s>0&&Wt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),yi(this.reportStats_.bind(this),Math.floor(Math.random()*2*IA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function _y(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vy(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=It.ACK_USER_WRITE,this.source=_y()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(t));return new To(W(),n,this.revert)}}else return N(F(this.path)===t,"operationForChild called for unrelated child."),new To(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=It.OVERWRITE}operationForChild(t){return U(this.path)?new Vn(this.source,W(),this.snap.getImmediateChild(t)):new Vn(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=It.MERGE}operationForChild(t){if(U(this.path)){const n=this.children.subtree(new Z(t));return n.isEmpty()?null:n.value?new Vn(this.source,W(),n.value):new Wi(this.source,W(),n)}else return N(F(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Wi(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;const n=F(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function AA(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(yA(o.childName,o.snapshotNode))}),ni(e,i,"child_removed",t,r,n),ni(e,i,"child_added",t,r,n),ni(e,i,"child_moved",s,r,n),ni(e,i,"child_changed",t,r,n),ni(e,i,"value",t,r,n),i}function ni(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>CA(e,l,a)),o.forEach(l=>{const a=NA(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function NA(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function CA(e,t,n){if(t.childName==null||n.childName==null)throw jr("Should only compare child_ events.");const r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(e,t){return{eventCache:e,serverCache:t}}function vi(e,t,n,r){return Ey(new kc(t,n,r),e.serverCache)}function Sy(e,t,n,r){return Ey(e.eventCache,new kc(t,n,r))}function hu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $n(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;const xA=()=>(Kl||(Kl=new je(hT)),Kl);class Q{constructor(t,n=xA()){this.value=t,this.children=n}static fromObject(t){let n=new Q(null);return at(t,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(U(t))return null;{const r=F(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(X(t),n);return s!=null?{path:_e(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{const n=F(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new Q(null)}}set(t,n){if(U(t))return new Q(n,this.children);{const r=F(t),s=(this.children.get(r)||new Q(null)).set(X(t),n),o=this.children.insert(r,s);return new Q(this.value,o)}}remove(t){if(U(t))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const n=F(t),r=this.children.get(n);if(r){const i=r.remove(X(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Q(null):new Q(this.value,s)}else return this}}get(t){if(U(t))return this.value;{const n=F(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(U(t))return n;{const r=F(t),s=(this.children.get(r)||new Q(null)).setTree(X(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Q(this.value,o)}}fold(t){return this.fold_(W(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(_e(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,W(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(t))return null;{const s=F(t),o=this.children.get(s);return o?o.findOnPath_(X(t),_e(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,W(),n)}foreachOnPath_(t,n,r){if(U(t))return this;{this.value&&r(n,this.value);const i=F(t),s=this.children.get(i);return s?s.foreachOnPath_(X(t),_e(n,i),r):new Q(null)}}foreach(t){this.foreach_(W(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_e(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.writeTree_=t}static empty(){return new _t(new Q(null))}}function Ei(e,t,n){if(U(t))return new _t(new Q(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=rt(i,t);return s=s.updateChild(o,n),new _t(e.writeTree_.set(i,s))}else{const i=new Q(n),s=e.writeTree_.setTree(t,i);return new _t(s)}}}function ap(e,t,n){let r=e;return at(n,(i,s)=>{r=Ei(r,_e(t,i),s)}),r}function up(e,t){if(U(t))return _t.empty();{const n=e.writeTree_.setTree(t,new Q(null));return new _t(n)}}function pu(e,t){return Qn(e,t)!=null}function Qn(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(rt(n.path,t)):null}function cp(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function un(e,t){if(U(t))return e;{const n=Qn(e,t);return n!=null?new _t(new Q(n)):new _t(e.writeTree_.subtree(t))}}function mu(e){return e.writeTree_.isEmpty()}function br(e,t){return wy(W(),e.writeTree_,t)}function wy(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=wy(_e(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(_e(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(e,t){return xy(t,e)}function RA(e,t,n,r,i){N(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ei(e.visibleWrites,t,n)),e.lastWriteId=r}function OA(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function kA(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);N(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&DA(l,r.path)?i=!1:pt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return PA(e),!0;if(r.snap)e.visibleWrites=up(e.visibleWrites,r.path);else{const l=r.children;at(l,a=>{e.visibleWrites=up(e.visibleWrites,_e(r.path,a))})}return!0}else return!1}function DA(e,t){if(e.snap)return pt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pt(_e(e.path,n),t))return!0;return!1}function PA(e){e.visibleWrites=Ty(e.allWrites,LA,W()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function LA(e){return e.visible}function Ty(e,t,n){let r=_t.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)pt(n,o)?(l=rt(n,o),r=Ei(r,l,s.snap)):pt(o,n)&&(l=rt(o,n),r=Ei(r,W(),s.snap.getChild(l)));else if(s.children){if(pt(n,o))l=rt(n,o),r=ap(r,l,s.children);else if(pt(o,n))if(l=rt(o,n),U(l))r=ap(r,W(),s.children);else{const a=Pr(s.children,F(l));if(a){const u=a.getChild(X(l));r=Ei(r,W(),u)}}}else throw jr("WriteRecord should have .snap or .children")}}return r}function Ay(e,t,n,r,i){if(!r&&!i){const s=Qn(e.visibleWrites,t);if(s!=null)return s;{const o=un(e.visibleWrites,t);if(mu(o))return n;if(n==null&&!pu(o,W()))return null;{const l=n||H.EMPTY_NODE;return br(o,l)}}}else{const s=un(e.visibleWrites,t);if(!i&&mu(s))return n;if(!i&&n==null&&!pu(s,W()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(pt(u.path,t)||pt(t,u.path))},l=Ty(e.allWrites,o,t),a=n||H.EMPTY_NODE;return br(l,a)}}}function bA(e,t,n){let r=H.EMPTY_NODE;const i=Qn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=un(e.visibleWrites,t);return n.forEachChild(Re,(o,l)=>{const a=br(un(s,new Z(o)),l);r=r.updateImmediateChild(o,a)}),cp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=un(e.visibleWrites,t);return cp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function MA(e,t,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_e(t,n);if(pu(e.visibleWrites,s))return null;{const o=un(e.visibleWrites,s);return mu(o)?i.getChild(n):br(o,i.getChild(n))}}function UA(e,t,n,r){const i=_e(t,n),s=Qn(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=un(e.visibleWrites,i);return br(o,r.getNode().getImmediateChild(n))}else return null}function FA(e,t){return Qn(e.visibleWrites,t)}function jA(e,t,n,r,i,s,o){let l;const a=un(e.visibleWrites,t),u=Qn(a,W());if(u!=null)l=u;else if(n!=null)l=br(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function BA(){return{visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1}}function gu(e,t,n,r){return Ay(e.writeTree,e.treePath,t,n,r)}function Ny(e,t){return bA(e.writeTree,e.treePath,t)}function dp(e,t,n,r){return MA(e.writeTree,e.treePath,t,n,r)}function Ao(e,t){return FA(e.writeTree,_e(e.treePath,t))}function HA(e,t,n,r,i,s){return jA(e.writeTree,e.treePath,t,n,r,i,s)}function Dc(e,t,n){return UA(e.writeTree,e.treePath,t,n)}function Cy(e,t){return xy(_e(e.treePath,t),e.writeTree)}function xy(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ip(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_A(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gA(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ip(r,t.snapshotNode,i.oldSnap));else throw jr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Ry=new $A;class Pc{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dc(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$n(this.viewCache_),s=HA(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}function WA(e,t){N(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),N(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function GA(e,t,n,r,i){const s=new VA;let o,l;if(n.type===It.OVERWRITE){const u=n;u.source.fromUser?o=_u(e,t,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!U(u.path),o=No(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===It.MERGE){const u=n;u.source.fromUser?o=KA(e,t,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=yu(e,t,u.path,u.children,r,i,l,s))}else if(n.type===It.ACK_USER_WRITE){const u=n;u.revert?o=QA(e,t,u.path,r,i,s):o=YA(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===It.LISTEN_COMPLETE)o=qA(e,t,n.path,r,s);else throw jr("Unknown operation type: "+n.type);const a=s.getChanges();return zA(t,o,a),{viewCache:o,changes:a}}function zA(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=hu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(mA(hu(t)))}}function Oy(e,t,n,r,i,s){const o=t.eventCache;if(Ao(r,n)!=null)return t;{let l,a;if(U(n))if(N(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=$n(t),c=u instanceof H?u:H.EMPTY_NODE,d=Ny(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=gu(r,$n(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=F(n);if(u===".priority"){N(mn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=dp(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=X(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=dp(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Dc(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return vi(t,l,o.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function No(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(U(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=F(n);if(!a.isCompleteForPath(n)&&mn(n)>1)return t;const _=X(n),v=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),v):u=c.updateChild(a.getNode(),g,v,_,Ry,null)}const d=Sy(t,u,a.isFullyInitialized()||U(n),c.filtersNodes()),f=new Pc(i,d,s);return Oy(e,d,n,i,f,l)}function _u(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Pc(i,t,s);if(U(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=vi(t,u,!0,e.filter.filtersNodes());else{const d=F(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=vi(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=X(n),g=l.getNode().getImmediateChild(d);let _;if(U(f))_=r;else{const E=c.getCompleteChild(d);E!=null?oy(f)===".priority"&&E.getChild(ay(f)).isEmpty()?_=E:_=E.updateChild(f,r):_=H.EMPTY_NODE}if(g.equals(_))a=t;else{const E=e.filter.updateChild(l.getNode(),d,_,f,c,o);a=vi(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function fp(e,t){return e.eventCache.isCompleteForChild(t)}function KA(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=_e(n,a);fp(t,F(c))&&(l=_u(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=_e(n,a);fp(t,F(c))||(l=_u(e,l,c,u,i,s,o))}),l}function hp(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function yu(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;U(n)?u=r:u=new Q(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=t.serverCache.getNode().getImmediateChild(d),_=hp(e,g,f);a=No(e,a,new Z(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const g=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const _=t.serverCache.getNode().getImmediateChild(d),E=hp(e,_,f);a=No(e,a,new Z(d),E,i,s,o,l)}}),a}function YA(e,t,n,r,i,s,o){if(Ao(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(U(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return No(e,t,n,a.getNode().getChild(n),i,s,l,o);if(U(n)){let u=new Q(null);return a.getNode().forEachChild(Tr,(c,d)=>{u=u.set(new Z(c),d)}),yu(e,t,n,u,i,s,l,o)}else return t}else{let u=new Q(null);return r.foreach((c,d)=>{const f=_e(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),yu(e,t,n,u,i,s,l,o)}}function qA(e,t,n,r,i){const s=t.serverCache,o=Sy(t,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return Oy(e,o,n,r,Ry,i)}function QA(e,t,n,r,i,s){let o;if(Ao(r,n)!=null)return t;{const l=new Pc(r,t,i),a=t.eventCache.getNode();let u;if(U(n)||F(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=gu(r,$n(t));else{const d=t.serverCache.getNode();N(d instanceof H,"serverChildren would be complete if leaf node"),c=Ny(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=F(n);let d=Dc(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,X(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,H.EMPTY_NODE,X(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=gu(r,$n(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Ao(r,W())!=null,vi(t,u,o,e.filter.filtersNodes())}}function XA(e,t){const n=$n(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild(F(t)).isEmpty())?n.getChild(t):null}function pp(e,t,n,r){t.type===It.MERGE&&t.source.queryId!==null&&(N($n(e.viewCache_),"We should always have a full cache before handling merges"),N(hu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=GA(e.processor_,i,t,n,r);return WA(e.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,JA(e,s.changes,s.viewCache.eventCache.getNode(),null)}function JA(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return AA(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp;function ZA(e){N(!mp,"__referenceConstructor has already been defined"),mp=e}function Lc(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),pp(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(pp(o,t,n,r));return s}}function bc(e,t){let n=null;for(const r of e.views.values())n=n||XA(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp;function eN(e){N(!gp,"__referenceConstructor has already been defined"),gp=e}class _p{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Q(null),this.pendingWriteTree_=BA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tN(e,t,n,r,i){return RA(e.pendingWriteTree_,t,n,r,i),i?nl(e,new Vn(_y(),t,n)):[]}function mr(e,t,n=!1){const r=OA(e.pendingWriteTree_,t);if(kA(e.pendingWriteTree_,t)){let s=new Q(null);return r.snap!=null?s=s.set(W(),!0):at(r.children,o=>{s=s.set(new Z(o),!0)}),nl(e,new To(r.path,s,n))}else return[]}function tl(e,t,n){return nl(e,new Vn(yy(),t,n))}function nN(e,t,n){const r=Q.fromObject(n);return nl(e,new Wi(yy(),t,r))}function rN(e,t,n,r){const i=Ly(e,r);if(i!=null){const s=by(i),o=s.path,l=s.queryId,a=rt(o,t),u=new Vn(vy(l),a,n);return My(e,o,u)}else return[]}function iN(e,t,n,r){const i=Ly(e,r);if(i){const s=by(i),o=s.path,l=s.queryId,a=rt(o,t),u=Q.fromObject(n),c=new Wi(vy(l),a,u);return My(e,o,c)}else return[]}function ky(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=rt(o,t),u=bc(l,a);if(u)return u});return Ay(i,t,s,n,!0)}function nl(e,t){return Dy(t,e.syncPointTree_,null,Iy(e.pendingWriteTree_,W()))}function Dy(e,t,n,r){if(U(e.path))return Py(e,t,n,r);{const i=t.get(W());n==null&&i!=null&&(n=bc(i,W()));let s=[];const o=F(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=Cy(r,o);s=s.concat(Dy(l,a,u,c))}return i&&(s=s.concat(Lc(i,e,r,n))),s}}function Py(e,t,n,r){const i=t.get(W());n==null&&i!=null&&(n=bc(i,W()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Cy(r,o),c=e.operationForChild(o);c&&(s=s.concat(Py(c,l,a,u)))}),i&&(s=s.concat(Lc(i,e,r,n))),s}function Ly(e,t){return e.tagToQueryMap.get(t)}function by(e){const t=e.indexOf("$");return N(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z(e.substr(0,t))}}function My(e,t,n){const r=e.syncPointTree_.get(t);N(r,"Missing sync point for query tag that we're tracking");const i=Iy(e.pendingWriteTree_,t);return Lc(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Mc(n)}node(){return this.node_}}class Uc{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=_e(this.path_,t);return new Uc(this.syncTree_,n)}node(){return ky(this.syncTree_,this.path_)}}const sN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},yp=function(e,t,n){if(!e||typeof e!="object")return e;if(N(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return oN(e[".sv"],t,n);if(typeof e[".sv"]=="object")return lN(e[".sv"],t);N(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},oN=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+e)}},lN=function(e,t,n){e.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=t.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},aN=function(e,t,n,r){return Fc(t,new Uc(n,e),r)},uN=function(e,t,n){return Fc(e,new Mc(t),n)};function Fc(e,t,n){const r=e.getPriority().val(),i=yp(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=yp(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new pe(l,xe(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pe(i))),o.forEachChild(Re,(l,a)=>{const u=Fc(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Bc(e,t){let n=t instanceof Z?t:new Z(t),r=e,i=F(n);for(;i!==null;){const s=Pr(r.node.children,i)||{children:{},childCount:0};r=new jc(i,r,s),n=X(n),i=F(n)}return r}function Vr(e){return e.node.value}function Uy(e,t){e.node.value=t,vu(e)}function Fy(e){return e.node.childCount>0}function cN(e){return Vr(e)===void 0&&!Fy(e)}function rl(e,t){at(e.node.children,(n,r)=>{t(new jc(n,e,r))})}function jy(e,t,n,r){n&&!r&&t(e),rl(e,i=>{jy(i,t,!0,r)}),n&&r&&t(e)}function dN(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function os(e){return new Z(e.parent===null?e.name:os(e.parent)+"/"+e.name)}function vu(e){e.parent!==null&&fN(e.parent,e.name,e)}function fN(e,t,n){const r=cN(n),i=Wt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vu(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,vu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/[\[\].#$\/\u0000-\u001F\u007F]/,pN=/[\[\].#$\u0000-\u001F\u007F]/,Yl=10*1024*1024,By=function(e){return typeof e=="string"&&e.length!==0&&!hN.test(e)},mN=function(e){return typeof e=="string"&&e.length!==0&&!pN.test(e)},gN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mN(e)},Hy=function(e,t,n){const r=n instanceof Z?new qT(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+An(r));if(typeof t=="function")throw new Error(e+"contains a function "+An(r)+" with contents = "+t.toString());if(B_(t))throw new Error(e+"contains "+t.toString()+" "+An(r));if(typeof t=="string"&&t.length>Yl/3&&Jo(t)>Yl)throw new Error(e+"contains a string greater than "+Yl+" utf8 bytes "+An(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(at(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!By(o)))throw new Error(e+" contains an invalid key ("+o+") "+An(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QT(r,o),Hy(e,l,r),XT(r)}),i&&s)throw new Error(e+' contains ".value" child '+An(r)+" in addition to actual children.")}},_N=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!By(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gN(n))throw new Error(Jw(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vN(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!uy(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Xn(e,t,n){vN(e,n),EN(e,r=>pt(r,t)||pt(t,r))}function EN(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(SN(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function SN(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Ln&&Ce("event: "+n.toString()),is(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="repo_interrupt",IN=25;class TN{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new jc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AN(e,t,n){if(e.stats_=Nc(e.repoInfo_),e.forceRestClient_||vT())e.server_=new wo(e.repoInfo_,(r,i,s,o)=>{vp(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ep(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ut(e.repoInfo_,t,(r,i,s,o)=>{vp(e,r,i,s,o)},r=>{Ep(e,r)},r=>{CN(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=AT(e.repoInfo_,()=>new TA(e.stats_,e.server_)),e.infoData_=new vA,e.infoSyncTree_=new _p({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=tl(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Hc(e,"connected",!1),e.serverSyncTree_=new _p({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Xn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function NN(e){const n=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vy(e){return sN({timestamp:NN(e)})}function vp(e,t,n,r,i){e.dataUpdateCount++;const s=new Z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=yo(n,u=>xe(u));o=iN(e.serverSyncTree_,s,a,i)}else{const a=xe(n);o=rN(e.serverSyncTree_,s,a,i)}else if(r){const a=yo(n,u=>xe(u));o=nN(e.serverSyncTree_,s,a)}else{const a=xe(n);o=tl(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=$c(e,s)),Xn(e.eventQueue_,l,o)}function Ep(e,t){Hc(e,"connected",t),t===!1&&RN(e)}function CN(e,t){at(t,(n,r)=>{Hc(e,n,r)})}function Hc(e,t,n){const r=new Z("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);const s=tl(e.infoSyncTree_,r,i);Xn(e.eventQueue_,r,s)}function xN(e){return e.nextWriteId_++}function RN(e){$y(e,"onDisconnectEvents");const t=Vy(e),n=Io();fu(e.onDisconnect_,W(),(i,s)=>{const o=aN(i,s,e.serverSyncTree_,t);gy(n,i,o)});let r=[];fu(n,W(),(i,s)=>{r=r.concat(tl(e.serverSyncTree_,i,s));const o=PN(e,i);$c(e,o)}),e.onDisconnect_=Io(),Xn(e.eventQueue_,W(),r)}function ON(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wN)}function $y(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ce(n,...t)}function Wy(e,t,n){return ky(e.serverSyncTree_,t,n)||H.EMPTY_NODE}function Vc(e,t=e.transactionQueueTree_){if(t||il(e,t),Vr(t)){const n=zy(e,t);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&kN(e,os(t),n)}else Fy(t)&&rl(t,n=>{Vc(e,n)})}function kN(e,t,n){const r=n.map(u=>u.currentWriteId),i=Wy(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=rt(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{$y(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(mr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();il(e,Bc(e.transactionQueueTree_,t)),Vc(e,e.transactionQueueTree_),Xn(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)is(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}$c(e,t)}},o)}function $c(e,t){const n=Gy(e,t),r=os(n),i=zy(e,n);return DN(e,i,r),r}function DN(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=rt(n,a.path);let c=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(mr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=IN)c=!0,d="maxretry",i=i.concat(mr(e.serverSyncTree_,a.currentWriteId,!0));else{const f=Wy(e,a.path,o);a.currentInputSnapshot=f;const g=t[l].update(f.val());if(g!==void 0){Hy("transaction failed: Data returned ",g,a.path);let _=xe(g);typeof g=="object"&&g!=null&&Wt(g,".priority")||(_=_.updatePriority(f.getPriority()));const v=a.currentWriteId,p=Vy(e),h=uN(_,f,p);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=xN(e),o.splice(o.indexOf(v),1),i=i.concat(tN(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(mr(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(mr(e.serverSyncTree_,a.currentWriteId,!0))}Xn(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}il(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)is(r[l]);Vc(e,e.transactionQueueTree_)}function Gy(e,t){let n,r=e.transactionQueueTree_;for(n=F(t);n!==null&&Vr(r)===void 0;)r=Bc(r,n),t=X(t),n=F(t);return r}function zy(e,t){const n=[];return Ky(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Ky(e,t,n){const r=Vr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rl(t,i=>{Ky(e,i,n)})}function il(e,t){const n=Vr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Uy(t,n.length>0?n:void 0)}rl(t,r=>{il(e,r)})}function PN(e,t){const n=os(Gy(e,t)),r=Bc(e.transactionQueueTree_,t);return dN(r,i=>{ql(e,i)}),ql(e,r),jy(r,i=>{ql(e,i)}),n}function ql(e,t){const n=Vr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Uy(t,void 0):n.length=s+1,Xn(e.eventQueue_,os(t),i);for(let o=0;o<r.length;o++)is(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function bN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${e}'`)}return t}const Sp=function(e,t){const n=MN(e),r=n.namespace;n.domain==="firebase.com"&&Bn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wT(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z(n.pathString)}},MN=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=LN(e.substring(c,d)));const f=bN(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:oy(this._path)}get ref(){return new $r(this._repo,this._path)}get _queryIdentifier(){const t=op(this._queryParams),n=Tc(t);return n==="{}"?"default":n}get _queryObject(){return op(this._queryParams)}isEqual(t){if(t=eI(t),!(t instanceof Wc))return!1;const n=this._repo===t._repo,r=uy(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YT(this._path)}}class $r extends Wc{constructor(t,n){super(t,n,new Oc,!1)}get parent(){const t=ay(this._path);return t===null?null:new $r(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}ZA($r);eN($r);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FIREBASE_DATABASE_EMULATOR_HOST",Eu={};let FN=!1;function jN(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ce("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Sp(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[UN]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Sp(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new uu(uu.OWNER):new ST(e.name,e.options,t);_N("Invalid Firebase Database URL",o),U(o.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=HN(l,e,c,new ET(e.name,n));return new VN(d,e)}function BN(e,t){const n=Eu[t];(!n||n[e.key]!==e)&&Bn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ON(e),delete n[e.key]}function HN(e,t,n,r){let i=Eu[t.name];i||(i={},Eu[t.name]=i);let s=i[e.toURLString()];return s&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new TN(e,FN,n,r),i[e.toURLString()]=s,s}class VN{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $r(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Bn("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){oT(YI),pn(new hn("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return jN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Nt(Vh,$h,e),Nt(Vh,$h,"esm2017")}Ut.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ut.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};$N();const Yy="@firebase/installations",Gc="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=1e4,Qy=`w:${Gc}`,Xy="FIS_v2",WN="https://firebaseinstallations.googleapis.com/v1",GN=60*60*1e3,zN="installations",KN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wn=new Xo(zN,KN,YN);function Jy(e){return e instanceof Br&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy({projectId:e}){return`${WN}/projects/${e}/installations`}function ev(e){return{token:e.token,requestStatus:2,expiresIn:QN(e.expiresIn),creationTime:Date.now()}}async function tv(e,t){const r=(await t.json()).error;return Wn.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function qN(e,{refreshToken:t}){const n=nv(e);return n.append("Authorization",XN(t)),n}async function rv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function QN(e){return Number(e.replace("s","000"))}function XN(e){return`${Xy} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Zy(e),i=nv(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Xy,appId:e.appId,sdkVersion:Qy},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await rv(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ev(u.authToken)}}else throw await tv("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^[cdef][\w-]{21}$/,Su="";function tC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=nC(e);return eC.test(n)?n:Su}catch{return Su}}function nC(e){return ZN(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function ov(e,t){const n=sl(e);lv(n,t),rC(n,t)}function lv(e,t){const n=sv.get(e);if(n)for(const r of n)r(t)}function rC(e,t){const n=iC();n&&n.postMessage({key:e,fid:t}),sC()}let On=null;function iC(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=e=>{lv(e.data.key,e.data.fid)}),On}function sC(){sv.size===0&&On&&(On.close(),On=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebase-installations-database",lC=1,Gn="firebase-installations-store";let Ql=null;function zc(){return Ql||(Ql=Zo(oC,lC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Gn)}}})),Ql}async function Co(e,t){const n=sl(e),i=(await zc()).transaction(Gn,"readwrite"),s=i.objectStore(Gn),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&ov(e,t.fid),t}async function av(e){const t=sl(e),r=(await zc()).transaction(Gn,"readwrite");await r.objectStore(Gn).delete(t),await r.done}async function ol(e,t){const n=sl(e),i=(await zc()).transaction(Gn,"readwrite"),s=i.objectStore(Gn),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&ov(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(e){let t;const n=await ol(e.appConfig,r=>{const i=aC(r),s=uC(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Su?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function aC(e){const t=e||{fid:tC(),registrationStatus:0};return uv(t)}function uC(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=cC(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:dC(e)}:{installationEntry:t}}async function cC(e,t){try{const n=await JN(e,t);return Co(e.appConfig,n)}catch(n){throw Jy(n)&&n.customData.serverCode===409?await av(e.appConfig):await Co(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function dC(e){let t=await wp(e.appConfig);for(;t.registrationStatus===1;)await iv(100),t=await wp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Kc(e);return r||n}return t}function wp(e){return ol(e,t=>{if(!t)throw Wn.create("installation-not-found");return uv(t)})}function uv(e){return fC(e)?{fid:e.fid,registrationStatus:0}:e}function fC(e){return e.registrationStatus===1&&e.registrationTime+qy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC({appConfig:e,heartbeatServiceProvider:t},n){const r=pC(e,n),i=qN(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Qy,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await rv(()=>fetch(r,l));if(a.ok){const u=await a.json();return ev(u)}else throw await tv("Generate Auth Token",a)}function pC(e,{fid:t}){return`${Zy(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(e,t=!1){let n;const r=await ol(e.appConfig,s=>{if(!cv(s))throw Wn.create("not-registered");const o=s.authToken;if(!t&&_C(o))return s;if(o.requestStatus===1)return n=mC(e,t),s;{if(!navigator.onLine)throw Wn.create("app-offline");const l=vC(s);return n=gC(e,l),l}});return n?await n:r.authToken}async function mC(e,t){let n=await Ip(e.appConfig);for(;n.authToken.requestStatus===1;)await iv(100),n=await Ip(e.appConfig);const r=n.authToken;return r.requestStatus===0?Yc(e,t):r}function Ip(e){return ol(e,t=>{if(!cv(t))throw Wn.create("not-registered");const n=t.authToken;return EC(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function gC(e,t){try{const n=await hC(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Co(e.appConfig,r),n}catch(n){if(Jy(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await av(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Co(e.appConfig,r)}throw n}}function cv(e){return e!==void 0&&e.registrationStatus===2}function _C(e){return e.requestStatus===2&&!yC(e)}function yC(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+GN}function vC(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function EC(e){return e.requestStatus===1&&e.requestTime+qy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(e){const t=e,{installationEntry:n,registrationPromise:r}=await Kc(t);return r?r.catch(console.error):Yc(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(e,t=!1){const n=e;return await IC(n),(await Yc(n,t)).token}async function IC(e){const{registrationPromise:t}=await Kc(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e){if(!e||!e.options)throw Xl("App Configuration");if(!e.name)throw Xl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xl(e){return Wn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="installations",AC="installations-internal",NC=e=>{const t=e.getProvider("app").getImmediate(),n=TC(t),r=L_(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CC=e=>{const t=e.getProvider("app").getImmediate(),n=L_(t,dv).getImmediate();return{getId:()=>SC(n),getToken:i=>wC(n,i)}};function xC(){pn(new hn(dv,NC,"PUBLIC")),pn(new hn(AC,CC,"PRIVATE"))}xC();Nt(Yy,Gc);Nt(Yy,Gc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="/firebase-messaging-sw.js",OC="/firebase-cloud-messaging-push-scope",fv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kC="https://fcmregistrations.googleapis.com/v1",hv="google.c.a.c_id",DC="google.c.a.c_l",PC="google.c.a.ts",LC="google.c.a.e";var Tp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Tp||(Tp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Gi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Gi||(Gi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bC(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="fcm_token_details_db",MC=5,Ap="fcm_token_object_Store";async function UC(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Jl))return null;let t=null;return(await Zo(Jl,MC,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(Ap))return;const a=o.objectStore(Ap),u=await a.index("fcmSenderId").get(e);if(await a.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:(l=c.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Ot(c.vapidKey)}}}else if(i===3){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ot(c.auth),p256dh:Ot(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ot(c.vapidKey)}}}else if(i===4){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ot(c.auth),p256dh:Ot(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ot(c.vapidKey)}}}}}})).close(),await Bl(Jl),await Bl("fcm_vapid_details_db"),await Bl("undefined"),FC(t)?t:null}function FC(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebase-messaging-database",BC=1,zi="firebase-messaging-store";let Zl=null;function pv(){return Zl||(Zl=Zo(jC,BC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zi)}}})),Zl}async function HC(e){const t=mv(e),r=await(await pv()).transaction(zi).objectStore(zi).get(t);if(r)return r;{const i=await UC(e.appConfig.senderId);if(i)return await qc(e,i),i}}async function qc(e,t){const n=mv(e),i=(await pv()).transaction(zi,"readwrite");return await i.objectStore(zi).put(t,n),await i.done,t}function mv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qe=new Xo("messaging","Messaging",VC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(e,t){const n=await Xc(e),r=gv(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(Qc(e.appConfig),i)).json()}catch(o){throw qe.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw qe.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw qe.create("token-subscribe-no-token");return s.token}async function WC(e,t){const n=await Xc(e),r=gv(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${Qc(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw qe.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw qe.create("token-update-failed",{errorInfo:o})}if(!s.token)throw qe.create("token-update-no-token");return s.token}async function GC(e,t){const r={method:"DELETE",headers:await Xc(e)};try{const s=await(await fetch(`${Qc(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw qe.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw qe.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Qc({projectId:e}){return`${kC}/projects/${e}/registrations`}async function Xc({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function gv({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==fv&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=7*24*60*60*1e3;async function KC(e){const t=await qC(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ot(t.getKey("auth")),p256dh:Ot(t.getKey("p256dh"))},r=await HC(e.firebaseDependencies);if(r){if(QC(r.subscriptionOptions,n))return Date.now()>=r.createTime+zC?YC(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await GC(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Np(e.firebaseDependencies,n)}else return Np(e.firebaseDependencies,n)}async function YC(e,t){try{const n=await WC(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await qc(e.firebaseDependencies,r),n}catch(n){throw n}}async function Np(e,t){const r={token:await $C(e,t),createTime:Date.now(),subscriptionOptions:t};return await qc(e,r),r.token}async function qC(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bC(t)})}function QC(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return XC(t,e),JC(t,e),ZC(t,e),t}function XC(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function JC(e,t){t.data&&(e.data=t.data)}function ZC(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const l=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;l&&(e.fcmOptions.link=l);const a=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(e){return typeof e=="object"&&!!e&&hv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function t1(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(e){if(!e||!e.options)throw ea("App Configuration Object");if(!e.name)throw ea("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw ea(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ea(e){return qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=n1(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(e){try{e.swRegistration=await navigator.serviceWorker.register(RC,{scope:OC}),e.swRegistration.update().catch(()=>{})}catch(t){throw qe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(e,t){if(!t&&!e.swRegistration&&await i1(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw qe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=fv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(e,t){if(!navigator)throw qe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw qe.create("permission-blocked");return await o1(e,t==null?void 0:t.vapidKey),await s1(e,t==null?void 0:t.serviceWorkerRegistration),KC(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(e,t,n){const r=u1(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[hv],message_name:n[DC],message_time:n[PC],message_device_time:Math.floor(Date.now()/1e3)})}function u1(e){switch(e){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Gi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Cp(n)):e.onMessageHandler.next(Cp(n)));const r=n.data;e1(r)&&r[LC]==="1"&&await a1(e,n.messageType,r)}const xp="@firebase/messaging",Rp="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=e=>{const t=new r1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>c1(t,n)),t},f1=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>l1(t,r)}};function h1(){pn(new hn("messaging",d1,"PUBLIC")),pn(new hn("messaging-internal",f1,"PRIVATE")),Nt(xp,Rp),Nt(xp,Rp,"esm2017")}h1();const p1=async()=>{{console.warn("Firebase not configured. Notifications disabled.");return}},m1=()=>{const[e,t]=w.useState(!1);return w.useEffect(()=>{$e()&&p1()},[]),m.jsx(BS,{children:m.jsx("div",{className:"antialiased text-slate-200",children:m.jsxs(US,{children:[m.jsx($s,{path:"/",element:m.jsx(JS,{})}),m.jsx($s,{path:"/admin",element:m.jsx(ZS,{onLogin:()=>t(!0)})}),m.jsx($s,{path:"/dashboard",element:e?m.jsx(Mw,{onLogout:()=>t(!1)}):m.jsx(bS,{to:"/admin",replace:!0})})]})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const _v=document.getElementById("root");if(!_v)throw new Error("Could not find root element to mount to");const g1=ta.createRoot(_v);g1.render(m.jsx(Bp.StrictMode,{children:m.jsx(m1,{})}));
