function t0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rm={exports:{}},Vo={},im={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),r0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),a0=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),d0=Symbol.for("react.memo"),f0=Symbol.for("react.lazy"),Td=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=Td&&e[Td]||e["@@iterator"],typeof e=="function"?e:null)}var sm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},om=Object.assign,lm={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function am(){}am.prototype=Gr.prototype;function zu(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}var Gu=zu.prototype=new am;Gu.constructor=zu;om(Gu,Gr.prototype);Gu.isPureReactComponent=!0;var Ad=Array.isArray,um=Object.prototype.hasOwnProperty,Ku={current:null},cm={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)um.call(t,r)&&!cm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:is,type:e,key:s,ref:o,props:i,_owner:Ku.current}}function p0(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function m0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cd=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m0(""+e.key):t.toString(36)}function Vs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case is:case r0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cl(o,0):r,Ad(i)?(n="",e!=null&&(n=e.replace(Cd,"$&/")+"/"),Vs(i,t,n,"",function(u){return u})):i!=null&&(Yu(i)&&(i=p0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ad(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Cl(s,l);o+=Vs(s,t,n,a,i)}else if(a=h0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Cl(s,l++),o+=Vs(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vs(e,t,n){if(e==null)return e;var r=[],i=0;return Vs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function g0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ws={transition:null},_0={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Ku};function fm(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:vs,forEach:function(e,t,n){vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vs(e,function(){t++}),t},toArray:function(e){return vs(e,function(t){return t})||[]},only:function(e){if(!Yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=Gr;M.Fragment=i0;M.Profiler=o0;M.PureComponent=zu;M.StrictMode=s0;M.Suspense=c0;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0;M.act=fm;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=om({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ku.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)um.call(t,a)&&!cm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:is,type:e.type,key:i,ref:s,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:a0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l0,_context:e},e.Consumer=e};M.createElement=dm;M.createFactory=function(e){var t=dm.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:u0,render:e}};M.isValidElement=Yu;M.lazy=function(e){return{$$typeof:f0,_payload:{_status:-1,_result:e},_init:g0}};M.memo=function(e,t){return{$$typeof:d0,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};M.unstable_act=fm;M.useCallback=function(e,t){return Be.current.useCallback(e,t)};M.useContext=function(e){return Be.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};M.useEffect=function(e,t){return Be.current.useEffect(e,t)};M.useId=function(){return Be.current.useId()};M.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Be.current.useMemo(e,t)};M.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};M.useRef=function(e){return Be.current.useRef(e)};M.useState=function(e){return Be.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return Be.current.useTransition()};M.version="18.3.1";im.exports=M;var w=im.exports;const hm=n0(w),y0=t0({__proto__:null,default:hm},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=w,E0=Symbol.for("react.element"),S0=Symbol.for("react.fragment"),w0=Object.prototype.hasOwnProperty,I0=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T0={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)w0.call(t,r)&&!T0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:E0,type:e,key:s,ref:o,props:i,_owner:I0.current}}Vo.Fragment=S0;Vo.jsx=pm;Vo.jsxs=pm;rm.exports=Vo;var p=rm.exports,ya={},mm={exports:{}},tt={},gm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var b=N.length;N.push(L);e:for(;0<b;){var B=b-1>>>1,te=N[B];if(0<i(te,L))N[B]=L,N[b]=te,b=B;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],b=N.pop();if(b!==L){N[0]=b;e:for(var B=0,te=N.length,ht=te>>>1;B<ht;){var k=2*(B+1)-1,pe=N[k],Qe=k+1,pt=N[Qe];if(0>i(pe,b))Qe<te&&0>i(pt,pe)?(N[B]=pt,N[Qe]=b,B=Qe):(N[B]=pe,N[k]=b,B=k);else if(Qe<te&&0>i(pt,b))N[B]=pt,N[Qe]=b,B=Qe;else break e}}return L}function i(N,L){var b=N.sortIndex-L.sortIndex;return b!==0?b:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function S(N){if(E=!1,y(N),!_)if(n(a)!==null)_=!0,qe(T);else{var L=n(u);L!==null&&Ct(S,L.startTime-N)}}function T(N,L){_=!1,E&&(E=!1,m(O),O=-1),g=!0;var b=f;try{for(y(L),d=n(a);d!==null&&(!(d.expirationTime>L)||N&&!Pe());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var te=B(d.expirationTime<=L);L=e.unstable_now(),typeof te=="function"?d.callback=te:d===n(a)&&r(a),y(L)}else r(a);d=n(a)}if(d!==null)var ht=!0;else{var k=n(u);k!==null&&Ct(S,k.startTime-L),ht=!1}return ht}finally{d=null,f=b,g=!1}}var A=!1,R=null,O=-1,$=5,P=-1;function Pe(){return!(e.unstable_now()-P<$)}function en(){if(R!==null){var N=e.unstable_now();P=N;var L=!0;try{L=R(!0,N)}finally{L?At():(A=!1,R=null)}}else A=!1}var At;if(typeof h=="function")At=function(){h(en)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ft=ve.port2;ve.port1.onmessage=en,At=function(){ft.postMessage(null)}}else At=function(){v(en,0)};function qe(N){R=N,A||(A=!0,At())}function Ct(N,L){O=v(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,qe(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var b=f;f=L;try{return N()}finally{f=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var b=f;f=N;try{return L()}finally{f=b}},e.unstable_scheduleCallback=function(N,L,b){var B=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?B+b:B):b=B,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=b+te,N={id:c++,callback:L,priorityLevel:N,startTime:b,expirationTime:te,sortIndex:-1},b>B?(N.sortIndex=b,t(u,N),n(a)===null&&N===n(u)&&(E?(m(O),O=-1):E=!0,Ct(S,b-B))):(N.sortIndex=te,t(a,N),_||g||(_=!0,qe(T))),N},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(N){var L=f;return function(){var b=f;f=L;try{return N.apply(this,arguments)}finally{f=b}}}})(_m);gm.exports=_m;var A0=gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=w,et=A0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ym=new Set,Pi={};function er(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Pi[e]=t,e=0;e<t.length;e++)ym.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,N0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},xd={};function x0(e){return va.call(xd,e)?!0:va.call(Nd,e)?!1:N0.test(e)?xd[e]=!0:(Nd[e]=!0,!1)}function R0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O0(e,t,n,r){if(t===null||typeof t>"u"||R0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function Qu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qu,Qu);Te[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qu,Qu);Te[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qu,Qu);Te[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xu(e,t,n,r){var i=Te.hasOwnProperty(t)?Te[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O0(t,n,i,r)&&(n=null),r||i===null?x0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),wa=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),Sm=Symbol.for("react.offscreen"),Rd=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=Rd&&e[Rd]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Nl;function mi(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var xl=!1;function Rl(e,t){if(!e||xl)return"";xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{xl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function k0(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case cr:return"Portal";case Ea:return"Profiler";case Ju:return"StrictMode";case Sa:return"Suspense";case wa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case vm:return(e._context.displayName||"Context")+".Provider";case Zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ec:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return Ia(e(t))}catch{}}return null}function D0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P0(e){var t=wm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=P0(e))}function Im(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function no(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ta(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Od(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=En(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&Xu(e,"checked",t,!1)}function Aa(e,t){Tm(e,t);var n=En(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ca(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ca(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ca(e,t,n){(t!=="number"||no(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+En(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(gi(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:En(n)}}function Am(e,t){var n=En(t.value),r=En(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L0=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(e){L0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ei[t]=Ei[e]})});function xm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ei.hasOwnProperty(e)&&Ei[e]?(""+t).trim():t+"px"}function Rm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var b0=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(b0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Ar=null,Cr=null;function Ld(e){if(e=ls(e)){if(typeof Da!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Yo(t),Da(e.stateNode,e.type,t))}}function Om(e){Ar?Cr?Cr.push(e):Cr=[e]:Ar=e}function km(){if(Ar){var e=Ar,t=Cr;if(Cr=Ar=null,Ld(e),t)for(e=0;e<t.length;e++)Ld(t[e])}}function Dm(e,t){return e(t)}function Pm(){}var Ol=!1;function Lm(e,t,n){if(Ol)return e(t,n);Ol=!0;try{return Dm(e,t,n)}finally{Ol=!1,(Ar!==null||Cr!==null)&&(Pm(),km())}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var r=Yo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Pa=!1;if(Wt)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Pa=!1}function M0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Si=!1,ro=null,io=!1,La=null,U0={onError:function(e){Si=!0,ro=e}};function F0(e,t,n,r,i,s,o,l,a){Si=!1,ro=null,M0.apply(U0,arguments)}function j0(e,t,n,r,i,s,o,l,a){if(F0.apply(this,arguments),Si){if(Si){var u=ro;Si=!1,ro=null}else throw Error(I(198));io||(io=!0,La=u)}}function tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bd(e){if(tr(e)!==e)throw Error(I(188))}function B0(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bd(i),e;if(s===r)return bd(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Mm(e){return e=B0(e),e!==null?Um(e):null}function Um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Um(e);if(t!==null)return t;e=e.sibling}return null}var Fm=et.unstable_scheduleCallback,Md=et.unstable_cancelCallback,H0=et.unstable_shouldYield,$0=et.unstable_requestPaint,le=et.unstable_now,V0=et.unstable_getCurrentPriorityLevel,nc=et.unstable_ImmediatePriority,jm=et.unstable_UserBlockingPriority,so=et.unstable_NormalPriority,W0=et.unstable_LowPriority,Bm=et.unstable_IdlePriority,Wo=null,Dt=null;function z0(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Wo,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Y0,G0=Math.log,K0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(G0(e)/K0|0)|0}var Is=64,Ts=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=_i(l):(s&=o,s!==0&&(r=_i(s)))}else o=n&~i,o!==0?r=_i(o):s!==0&&(r=_i(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),i=1<<n,r|=e[n],t&=~i;return r}function q0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-St(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=q0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hm(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function X0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-St(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function rc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var z=0;function $m(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vm,ic,Wm,zm,Gm,Ma=!1,As=[],cn=null,dn=null,fn=null,Mi=new Map,Ui=new Map,sn=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(t.pointerId)}}function ri(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ls(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Z0(e,t,n,r,i){switch(t){case"focusin":return cn=ri(cn,e,t,n,r,i),!0;case"dragenter":return dn=ri(dn,e,t,n,r,i),!0;case"mouseover":return fn=ri(fn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mi.set(s,ri(Mi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ui.set(s,ri(Ui.get(s)||null,e,t,n,r,i)),!0}return!1}function Km(e){var t=Pn(e.target);if(t!==null){var n=tr(t);if(n!==null){if(t=n.tag,t===13){if(t=bm(n),t!==null){e.blockedOn=t,Gm(e.priority,function(){Wm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ua(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ka=r,n.target.dispatchEvent(r),ka=null}else return t=ls(n),t!==null&&ic(t),e.blockedOn=n,!1;t.shift()}return!0}function Fd(e,t,n){zs(e)&&n.delete(t)}function eE(){Ma=!1,cn!==null&&zs(cn)&&(cn=null),dn!==null&&zs(dn)&&(dn=null),fn!==null&&zs(fn)&&(fn=null),Mi.forEach(Fd),Ui.forEach(Fd)}function ii(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,eE)))}function Fi(e){function t(i){return ii(i,e)}if(0<As.length){ii(As[0],e);for(var n=1;n<As.length;n++){var r=As[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&ii(cn,e),dn!==null&&ii(dn,e),fn!==null&&ii(fn,e),Mi.forEach(t),Ui.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Km(n),n.blockedOn===null&&sn.shift()}var Nr=Jt.ReactCurrentBatchConfig,lo=!0;function tE(e,t,n,r){var i=z,s=Nr.transition;Nr.transition=null;try{z=1,sc(e,t,n,r)}finally{z=i,Nr.transition=s}}function nE(e,t,n,r){var i=z,s=Nr.transition;Nr.transition=null;try{z=4,sc(e,t,n,r)}finally{z=i,Nr.transition=s}}function sc(e,t,n,r){if(lo){var i=Ua(e,t,n,r);if(i===null)Hl(e,t,r,ao,n),Ud(e,r);else if(Z0(i,e,t,n,r))r.stopPropagation();else if(Ud(e,r),t&4&&-1<J0.indexOf(e)){for(;i!==null;){var s=ls(i);if(s!==null&&Vm(s),s=Ua(e,t,n,r),s===null&&Hl(e,t,r,ao,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hl(e,t,r,null,n)}}var ao=null;function Ua(e,t,n,r){if(ao=null,e=tc(r),e=Pn(e),e!==null)if(t=tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ao=e,null}function Ym(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V0()){case nc:return 1;case jm:return 4;case so:case W0:return 16;case Bm:return 536870912;default:return 16}default:return 16}}var ln=null,oc=null,Gs=null;function qm(){if(Gs)return Gs;var e,t=oc,n=t.length,r,i="value"in ln?ln.value:ln.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Gs=i.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function jd(){return!1}function nt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cs:jd,this.isPropagationStopped=jd,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=nt(Kr),os=se({},Kr,{view:0,detail:0}),rE=nt(os),Dl,Pl,si,zo=se({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Dl=e.screenX-si.screenX,Pl=e.screenY-si.screenY):Pl=Dl=0,si=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Bd=nt(zo),iE=se({},zo,{dataTransfer:0}),sE=nt(iE),oE=se({},os,{relatedTarget:0}),Ll=nt(oE),lE=se({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),aE=nt(lE),uE=se({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cE=nt(uE),dE=se({},Kr,{data:0}),Hd=nt(dE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pE[e])?!!t[e]:!1}function ac(){return mE}var gE=se({},os,{key:function(e){if(e.key){var t=fE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_E=nt(gE),yE=se({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=nt(yE),vE=se({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),EE=nt(vE),SE=se({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wE=nt(SE),IE=se({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=nt(IE),AE=[9,13,27,32],uc=Wt&&"CompositionEvent"in window,wi=null;Wt&&"documentMode"in document&&(wi=document.documentMode);var CE=Wt&&"TextEvent"in window&&!wi,Qm=Wt&&(!uc||wi&&8<wi&&11>=wi),Vd=String.fromCharCode(32),Wd=!1;function Xm(e,t){switch(e){case"keyup":return AE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function NE(e,t){switch(e){case"compositionend":return Jm(t);case"keypress":return t.which!==32?null:(Wd=!0,Vd);case"textInput":return e=t.data,e===Vd&&Wd?null:e;default:return null}}function xE(e,t){if(fr)return e==="compositionend"||!uc&&Xm(e,t)?(e=qm(),Gs=oc=ln=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qm&&t.locale!=="ko"?null:t.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RE[e.type]:t==="textarea"}function Zm(e,t,n,r){Om(r),t=uo(t,"onChange"),0<t.length&&(n=new lc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ii=null,ji=null;function OE(e){cg(e,0)}function Go(e){var t=mr(e);if(Im(t))return e}function kE(e,t){if(e==="change")return t}var eg=!1;if(Wt){var bl;if(Wt){var Ml="oninput"in document;if(!Ml){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Ml=typeof Gd.oninput=="function"}bl=Ml}else bl=!1;eg=bl&&(!document.documentMode||9<document.documentMode)}function Kd(){Ii&&(Ii.detachEvent("onpropertychange",tg),ji=Ii=null)}function tg(e){if(e.propertyName==="value"&&Go(ji)){var t=[];Zm(t,ji,e,tc(e)),Lm(OE,t)}}function DE(e,t,n){e==="focusin"?(Kd(),Ii=t,ji=n,Ii.attachEvent("onpropertychange",tg)):e==="focusout"&&Kd()}function PE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Go(ji)}function LE(e,t){if(e==="click")return Go(t)}function bE(e,t){if(e==="input"||e==="change")return Go(t)}function ME(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:ME;function Bi(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!va.call(t,i)||!Tt(e[i],t[i]))return!1}return!0}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,t){var n=Yd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yd(n)}}function ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=no();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=no(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UE(e){var t=rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ng(n.ownerDocument.documentElement,n)){if(r!==null&&cc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=qd(n,s);var o=qd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FE=Wt&&"documentMode"in document&&11>=document.documentMode,hr=null,Fa=null,Ti=null,ja=!1;function Qd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ja||hr==null||hr!==no(r)||(r=hr,"selectionStart"in r&&cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ti&&Bi(Ti,r)||(Ti=r,r=uo(Fa,"onSelect"),0<r.length&&(t=new lc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Ul={},ig={};Wt&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Ko(e){if(Ul[e])return Ul[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ig)return Ul[e]=t[n];return e}var sg=Ko("animationend"),og=Ko("animationiteration"),lg=Ko("animationstart"),ag=Ko("transitionend"),ug=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){ug.set(e,t),er(t,[e])}for(var Fl=0;Fl<Xd.length;Fl++){var jl=Xd[Fl],jE=jl.toLowerCase(),BE=jl[0].toUpperCase()+jl.slice(1);An(jE,"on"+BE)}An(sg,"onAnimationEnd");An(og,"onAnimationIteration");An(lg,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(ag,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,j0(r,t,void 0,e),e.currentTarget=null}function cg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Jd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Jd(i,l,u),s=a}}}if(io)throw e=La,io=!1,La=null,e}function q(e,t){var n=t[Wa];n===void 0&&(n=t[Wa]=new Set);var r=e+"__bubble";n.has(r)||(dg(t,e,2,!1),n.add(r))}function Bl(e,t,n){var r=0;t&&(r|=4),dg(n,e,r,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[xs]){e[xs]=!0,ym.forEach(function(n){n!=="selectionchange"&&(HE.has(n)||Bl(n,!1,e),Bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,Bl("selectionchange",!1,t))}}function dg(e,t,n,r){switch(Ym(t)){case 1:var i=tE;break;case 4:i=nE;break;default:i=sc}n=i.bind(null,t,n,e),i=void 0,!Pa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Lm(function(){var u=s,c=tc(n),d=[];e:{var f=ug.get(e);if(f!==void 0){var g=lc,_=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":g=_E;break;case"focusin":_="focus",g=Ll;break;case"focusout":_="blur",g=Ll;break;case"beforeblur":case"afterblur":g=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EE;break;case sg:case og:case lg:g=aE;break;case ag:g=wE;break;case"scroll":g=rE;break;case"wheel":g=TE;break;case"copy":case"cut":case"paste":g=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$d}var E=(t&4)!==0,v=!E&&e==="scroll",m=E?f!==null?f+"Capture":null:f;E=[];for(var h=u,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=bi(h,m),S!=null&&E.push($i(h,S,y)))),v)break;h=h.return}0<E.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==ka&&(_=n.relatedTarget||n.fromElement)&&(Pn(_)||_[zt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Pn(_):null,_!==null&&(v=tr(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(E=Bd,S="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=$d,S="onPointerLeave",m="onPointerEnter",h="pointer"),v=g==null?f:mr(g),y=_==null?f:mr(_),f=new E(S,h+"leave",g,n,c),f.target=v,f.relatedTarget=y,S=null,Pn(c)===u&&(E=new E(m,h+"enter",_,n,c),E.target=y,E.relatedTarget=v,S=E),v=S,g&&_)t:{for(E=g,m=_,h=0,y=E;y;y=lr(y))h++;for(y=0,S=m;S;S=lr(S))y++;for(;0<h-y;)E=lr(E),h--;for(;0<y-h;)m=lr(m),y--;for(;h--;){if(E===m||m!==null&&E===m.alternate)break t;E=lr(E),m=lr(m)}E=null}else E=null;g!==null&&Zd(d,f,g,E,!1),_!==null&&v!==null&&Zd(d,v,_,E,!0)}}e:{if(f=u?mr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=kE;else if(zd(f))if(eg)T=bE;else{T=PE;var A=DE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=LE);if(T&&(T=T(e,u))){Zm(d,T,n,c);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Ca(f,"number",f.value)}switch(A=u?mr(u):window,e){case"focusin":(zd(A)||A.contentEditable==="true")&&(hr=A,Fa=u,Ti=null);break;case"focusout":Ti=Fa=hr=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Qd(d,n,c);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Qd(d,n,c)}var R;if(uc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fr?Xm(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Qm&&n.locale!=="ko"&&(fr||O!=="onCompositionStart"?O==="onCompositionEnd"&&fr&&(R=qm()):(ln=c,oc="value"in ln?ln.value:ln.textContent,fr=!0)),A=uo(u,O),0<A.length&&(O=new Hd(O,e,null,n,c),d.push({event:O,listeners:A}),R?O.data=R:(R=Jm(n),R!==null&&(O.data=R)))),(R=CE?NE(e,n):xE(e,n))&&(u=uo(u,"onBeforeInput"),0<u.length&&(c=new Hd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}cg(d,t)})}function $i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bi(e,n),s!=null&&r.unshift($i(e,s,i)),s=bi(e,t),s!=null&&r.push($i(e,s,i))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=bi(n,s),a!=null&&o.unshift($i(n,a,l))):i||(a=bi(n,s),a!=null&&o.push($i(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var $E=/\r\n?/g,VE=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace($E,`
`).replace(VE,"")}function Rs(e,t,n){if(t=ef(t),ef(e)!==t&&n)throw Error(I(425))}function co(){}var Ba=null,Ha=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(GE)}:Va;function GE(e){setTimeout(function(){throw e})}function $l(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fi(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Yr,Vi="__reactProps$"+Yr,zt="__reactContainer$"+Yr,Wa="__reactEvents$"+Yr,KE="__reactListeners$"+Yr,YE="__reactHandles$"+Yr;function Pn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nf(e);e!==null;){if(n=e[Ot])return n;e=nf(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[Ot]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Yo(e){return e[Vi]||null}var za=[],gr=-1;function Cn(e){return{current:e}}function J(e){0>gr||(e.current=za[gr],za[gr]=null,gr--)}function Y(e,t){gr++,za[gr]=e.current,e.current=t}var Sn={},De=Cn(Sn),ze=Cn(!1),Wn=Sn;function br(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ge(e){return e=e.childContextTypes,e!=null}function fo(){J(ze),J(De)}function rf(e,t,n){if(De.current!==Sn)throw Error(I(168));Y(De,t),Y(ze,n)}function fg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,D0(e)||"Unknown",i));return se({},n,r)}function ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Wn=De.current,Y(De,e),Y(ze,ze.current),!0}function sf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=fg(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,J(ze),J(De),Y(De,e)):J(ze),Y(ze,n)}var Ut=null,qo=!1,Vl=!1;function hg(e){Ut===null?Ut=[e]:Ut.push(e)}function qE(e){qo=!0,hg(e)}function Nn(){if(!Vl&&Ut!==null){Vl=!0;var e=0,t=z;try{var n=Ut;for(z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,qo=!1}catch(i){throw Ut!==null&&(Ut=Ut.slice(e+1)),Fm(nc,Nn),i}finally{z=t,Vl=!1}}return null}var _r=[],yr=0,po=null,mo=0,rt=[],it=0,zn=null,Ft=1,jt="";function xn(e,t){_r[yr++]=mo,_r[yr++]=po,po=e,mo=t}function pg(e,t,n){rt[it++]=Ft,rt[it++]=jt,rt[it++]=zn,zn=e;var r=Ft;e=jt;var i=32-St(r)-1;r&=~(1<<i),n+=1;var s=32-St(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ft=1<<32-St(t)+i|n<<i|r,jt=s+e}else Ft=1<<s|n<<i|r,jt=e}function dc(e){e.return!==null&&(xn(e,1),pg(e,1,0))}function fc(e){for(;e===po;)po=_r[--yr],_r[yr]=null,mo=_r[--yr],_r[yr]=null;for(;e===zn;)zn=rt[--it],rt[it]=null,jt=rt[--it],rt[it]=null,Ft=rt[--it],rt[it]=null}var Ze=null,Je=null,ee=!1,yt=null;function mg(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function of(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Je=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Ft,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Je=null,!0):!1;default:return!1}}function Ga(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ka(e){if(ee){var t=Je;if(t){var n=t;if(!of(e,t)){if(Ga(e))throw Error(I(418));t=hn(n.nextSibling);var r=Ze;t&&of(e,t)?mg(r,n):(e.flags=e.flags&-4097|2,ee=!1,Ze=e)}}else{if(Ga(e))throw Error(I(418));e.flags=e.flags&-4097|2,ee=!1,Ze=e}}}function lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Os(e){if(e!==Ze)return!1;if(!ee)return lf(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Je)){if(Ga(e))throw gg(),Error(I(418));for(;t;)mg(e,t),t=hn(t.nextSibling)}if(lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ze?hn(e.stateNode.nextSibling):null;return!0}function gg(){for(var e=Je;e;)e=hn(e.nextSibling)}function Mr(){Je=Ze=null,ee=!1}function hc(e){yt===null?yt=[e]:yt.push(e)}var QE=Jt.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function af(e){var t=e._init;return t(e._payload)}function _g(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=_n(m,h),m.index=0,m.sibling=null,m}function s(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,y,S){return h===null||h.tag!==6?(h=Ql(y,m.mode,S),h.return=m,h):(h=i(h,y),h.return=m,h)}function a(m,h,y,S){var T=y.type;return T===dr?c(m,h,y.props.children,S,y.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nn&&af(T)===h.type)?(S=i(h,y.props),S.ref=oi(m,h,y),S.return=m,S):(S=eo(y.type,y.key,y.props,null,m.mode,S),S.ref=oi(m,h,y),S.return=m,S)}function u(m,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Xl(y,m.mode,S),h.return=m,h):(h=i(h,y.children||[]),h.return=m,h)}function c(m,h,y,S,T){return h===null||h.tag!==7?(h=Hn(y,m.mode,S,T),h.return=m,h):(h=i(h,y),h.return=m,h)}function d(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ql(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Es:return y=eo(h.type,h.key,h.props,null,m.mode,y),y.ref=oi(m,null,h),y.return=m,y;case cr:return h=Xl(h,m.mode,y),h.return=m,h;case nn:var S=h._init;return d(m,S(h._payload),y)}if(gi(h)||ti(h))return h=Hn(h,m.mode,y,null),h.return=m,h;ks(m,h)}return null}function f(m,h,y,S){var T=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(m,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Es:return y.key===T?a(m,h,y,S):null;case cr:return y.key===T?u(m,h,y,S):null;case nn:return T=y._init,f(m,h,T(y._payload),S)}if(gi(y)||ti(y))return T!==null?null:c(m,h,y,S,null);ks(m,y)}return null}function g(m,h,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,l(h,m,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Es:return m=m.get(S.key===null?y:S.key)||null,a(h,m,S,T);case cr:return m=m.get(S.key===null?y:S.key)||null,u(h,m,S,T);case nn:var A=S._init;return g(m,h,y,A(S._payload),T)}if(gi(S)||ti(S))return m=m.get(y)||null,c(h,m,S,T,null);ks(h,S)}return null}function _(m,h,y,S){for(var T=null,A=null,R=h,O=h=0,$=null;R!==null&&O<y.length;O++){R.index>O?($=R,R=null):$=R.sibling;var P=f(m,R,y[O],S);if(P===null){R===null&&(R=$);break}e&&R&&P.alternate===null&&t(m,R),h=s(P,h,O),A===null?T=P:A.sibling=P,A=P,R=$}if(O===y.length)return n(m,R),ee&&xn(m,O),T;if(R===null){for(;O<y.length;O++)R=d(m,y[O],S),R!==null&&(h=s(R,h,O),A===null?T=R:A.sibling=R,A=R);return ee&&xn(m,O),T}for(R=r(m,R);O<y.length;O++)$=g(R,m,O,y[O],S),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?O:$.key),h=s($,h,O),A===null?T=$:A.sibling=$,A=$);return e&&R.forEach(function(Pe){return t(m,Pe)}),ee&&xn(m,O),T}function E(m,h,y,S){var T=ti(y);if(typeof T!="function")throw Error(I(150));if(y=T.call(y),y==null)throw Error(I(151));for(var A=T=null,R=h,O=h=0,$=null,P=y.next();R!==null&&!P.done;O++,P=y.next()){R.index>O?($=R,R=null):$=R.sibling;var Pe=f(m,R,P.value,S);if(Pe===null){R===null&&(R=$);break}e&&R&&Pe.alternate===null&&t(m,R),h=s(Pe,h,O),A===null?T=Pe:A.sibling=Pe,A=Pe,R=$}if(P.done)return n(m,R),ee&&xn(m,O),T;if(R===null){for(;!P.done;O++,P=y.next())P=d(m,P.value,S),P!==null&&(h=s(P,h,O),A===null?T=P:A.sibling=P,A=P);return ee&&xn(m,O),T}for(R=r(m,R);!P.done;O++,P=y.next())P=g(R,m,O,P.value,S),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?O:P.key),h=s(P,h,O),A===null?T=P:A.sibling=P,A=P);return e&&R.forEach(function(en){return t(m,en)}),ee&&xn(m,O),T}function v(m,h,y,S){if(typeof y=="object"&&y!==null&&y.type===dr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Es:e:{for(var T=y.key,A=h;A!==null;){if(A.key===T){if(T=y.type,T===dr){if(A.tag===7){n(m,A.sibling),h=i(A,y.props.children),h.return=m,m=h;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nn&&af(T)===A.type){n(m,A.sibling),h=i(A,y.props),h.ref=oi(m,A,y),h.return=m,m=h;break e}n(m,A);break}else t(m,A);A=A.sibling}y.type===dr?(h=Hn(y.props.children,m.mode,S,y.key),h.return=m,m=h):(S=eo(y.type,y.key,y.props,null,m.mode,S),S.ref=oi(m,h,y),S.return=m,m=S)}return o(m);case cr:e:{for(A=y.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(m,h.sibling),h=i(h,y.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Xl(y,m.mode,S),h.return=m,m=h}return o(m);case nn:return A=y._init,v(m,h,A(y._payload),S)}if(gi(y))return _(m,h,y,S);if(ti(y))return E(m,h,y,S);ks(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,y),h.return=m,m=h):(n(m,h),h=Ql(y,m.mode,S),h.return=m,m=h),o(m)):n(m,h)}return v}var Ur=_g(!0),yg=_g(!1),go=Cn(null),_o=null,vr=null,pc=null;function mc(){pc=vr=_o=null}function gc(e){var t=go.current;J(go),e._currentValue=t}function Ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){_o=e,pc=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(pc!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(_o===null)throw Error(I(308));vr=e,_o.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Ln=null;function _c(e){Ln===null?Ln=[e]:Ln.push(e)}function vg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,_c(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gt(e,n)}return i=r.interleaved,i===null?(t.next=t,_c(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gt(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}function uf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yo(e,t,n,r){var i=e.updateQueue;rn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(f=t,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=se({},d,f);break e;case 2:rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=d}}function cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var as={},Pt=Cn(as),Wi=Cn(as),zi=Cn(as);function bn(e){if(e===as)throw Error(I(174));return e}function vc(e,t){switch(Y(zi,t),Y(Wi,e),Y(Pt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}J(Pt),Y(Pt,t)}function Fr(){J(Pt),J(Wi),J(zi)}function Sg(e){bn(zi.current);var t=bn(Pt.current),n=xa(t,e.type);t!==n&&(Y(Wi,e),Y(Pt,n))}function Ec(e){Wi.current===e&&(J(Pt),J(Wi))}var re=Cn(0);function vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function Sc(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var qs=Jt.ReactCurrentDispatcher,zl=Jt.ReactCurrentBatchConfig,Gn=0,ie=null,de=null,ge=null,Eo=!1,Ai=!1,Gi=0,XE=0;function Ne(){throw Error(I(321))}function wc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Ic(e,t,n,r,i,s){if(Gn=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?tS:nS,e=n(r,i),Ai){s=0;do{if(Ai=!1,Gi=0,25<=s)throw Error(I(301));s+=1,ge=de=null,t.updateQueue=null,qs.current=rS,e=n(r,i)}while(Ai)}if(qs.current=So,t=de!==null&&de.next!==null,Gn=0,ge=de=ie=null,Eo=!1,t)throw Error(I(300));return e}function Tc(){var e=Gi!==0;return Gi=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ie.memoizedState=ge=e:ge=ge.next=e,ge}function ut(){if(de===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ge===null?ie.memoizedState:ge.next;if(t!==null)ge=t,de=e;else{if(e===null)throw Error(I(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?ie.memoizedState=ge=e:ge=ge.next=e}return ge}function Ki(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=ut(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=de,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Gn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,ie.lanes|=c,Kn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Tt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ie.lanes|=s,Kn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kl(e){var t=ut(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tt(s,t.memoizedState)||(Ve=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wg(){}function Ig(e,t){var n=ie,r=ut(),i=t(),s=!Tt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ve=!0),r=r.queue,Ac(Cg.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Yi(9,Ag.bind(null,n,r,i,t),void 0,null),ye===null)throw Error(I(349));Gn&30||Tg(n,t,i)}return i}function Tg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ag(e,t,n,r){t.value=n,t.getSnapshot=r,Ng(t)&&xg(e)}function Cg(e,t,n){return n(function(){Ng(t)&&xg(e)})}function Ng(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function xg(e){var t=Gt(e,1);t!==null&&wt(t,e,1,-1)}function df(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=eS.bind(null,ie,e),[t.memoizedState,e]}function Yi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rg(){return ut().memoizedState}function Qs(e,t,n,r){var i=xt();ie.flags|=e,i.memoizedState=Yi(1|t,n,void 0,r===void 0?null:r)}function Qo(e,t,n,r){var i=ut();r=r===void 0?null:r;var s=void 0;if(de!==null){var o=de.memoizedState;if(s=o.destroy,r!==null&&wc(r,o.deps)){i.memoizedState=Yi(t,n,s,r);return}}ie.flags|=e,i.memoizedState=Yi(1|t,n,s,r)}function ff(e,t){return Qs(8390656,8,e,t)}function Ac(e,t){return Qo(2048,8,e,t)}function Og(e,t){return Qo(4,2,e,t)}function kg(e,t){return Qo(4,4,e,t)}function Dg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pg(e,t,n){return n=n!=null?n.concat([e]):null,Qo(4,4,Dg.bind(null,t,e),n)}function Cc(){}function Lg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mg(e,t,n){return Gn&21?(Tt(n,t)||(n=Hm(),ie.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function JE(e,t){var n=z;z=n!==0&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{z=n,zl.transition=r}}function Ug(){return ut().memoizedState}function ZE(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fg(e))jg(t,n);else if(n=vg(e,t,n,r),n!==null){var i=Me();wt(n,e,r,i),Bg(n,t,r)}}function eS(e,t,n){var r=gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fg(e))jg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Tt(l,o)){var a=t.interleaved;a===null?(i.next=i,_c(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=vg(e,t,i,r),n!==null&&(i=Me(),wt(n,e,r,i),Bg(n,t,r))}}function Fg(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function jg(e,t){Ai=Eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rc(e,n)}}var So={readContext:at,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},tS={readContext:at,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:ff,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4194308,4,Dg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var n=xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ZE.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:Cc,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=JE.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,i=xt();if(ee){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ye===null)throw Error(I(349));Gn&30||Tg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ff(Cg.bind(null,r,s,e),[e]),r.flags|=2048,Yi(9,Ag.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=xt(),t=ye.identifierPrefix;if(ee){var n=jt,r=Ft;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nS={readContext:at,useCallback:Lg,useContext:at,useEffect:Ac,useImperativeHandle:Pg,useInsertionEffect:Og,useLayoutEffect:kg,useMemo:bg,useReducer:Gl,useRef:Rg,useState:function(){return Gl(Ki)},useDebugValue:Cc,useDeferredValue:function(e){var t=ut();return Mg(t,de.memoizedState,e)},useTransition:function(){var e=Gl(Ki)[0],t=ut().memoizedState;return[e,t]},useMutableSource:wg,useSyncExternalStore:Ig,useId:Ug,unstable_isNewReconciler:!1},rS={readContext:at,useCallback:Lg,useContext:at,useEffect:Ac,useImperativeHandle:Pg,useInsertionEffect:Og,useLayoutEffect:kg,useMemo:bg,useReducer:Kl,useRef:Rg,useState:function(){return Kl(Ki)},useDebugValue:Cc,useDeferredValue:function(e){var t=ut();return de===null?t.memoizedState=e:Mg(t,de.memoizedState,e)},useTransition:function(){var e=Kl(Ki)[0],t=ut().memoizedState;return[e,t]},useMutableSource:wg,useSyncExternalStore:Ig,useId:Ug,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xo={isMounted:function(e){return(e=e._reactInternals)?tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Me(),i=gn(e),s=Ht(r,i);s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,i),t!==null&&(wt(t,e,i,r),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Me(),i=gn(e),s=Ht(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,i),t!==null&&(wt(t,e,i,r),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),r=gn(e),i=Ht(n,r);i.tag=2,t!=null&&(i.callback=t),t=pn(e,i,r),t!==null&&(wt(t,e,r,n),Ys(t,e,r))}};function hf(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,r)||!Bi(i,s):!0}function Hg(e,t,n){var r=!1,i=Sn,s=t.contextType;return typeof s=="object"&&s!==null?s=at(s):(i=Ge(t)?Wn:De.current,r=t.contextTypes,s=(r=r!=null)?br(e,i):Sn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function pf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},yc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=at(s):(s=Ge(t)?Wn:De.current,i.context=br(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(qa(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xo.enqueueReplaceState(i,i.state,null),yo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=k0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iS=typeof WeakMap=="function"?WeakMap:Map;function $g(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Io||(Io=!0,lu=r),Xa(e,t)},n}function Vg(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xa(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yS.bind(null,e,t,n),t.then(e,e))}function gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _f(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var sS=Jt.ReactCurrentOwner,Ve=!1;function be(e,t,n,r){t.child=e===null?yg(t,null,n,r):Ur(t,e.child,n,r)}function yf(e,t,n,r,i){n=n.render;var s=t.ref;return xr(t,i),r=Ic(e,t,n,r,s,i),n=Tc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(ee&&n&&dc(t),t.flags|=1,be(e,t,r,i),t.child)}function vf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Lc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Wg(e,t,s,r,i)):(e=eo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(o,r)&&e.ref===t.ref)return Kt(e,t,i)}return t.flags|=1,e=_n(s,r),e.ref=t.ref,e.return=t,t.child=e}function Wg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Bi(s,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Kt(e,t,i)}return Ja(e,t,n,r,i)}function zg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Sr,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Sr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(Sr,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Y(Sr,Xe),Xe|=r;return be(e,t,i,n),t.child}function Gg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ja(e,t,n,r,i){var s=Ge(n)?Wn:De.current;return s=br(t,s),xr(t,i),n=Ic(e,t,n,r,s,i),r=Tc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kt(e,t,i)):(ee&&r&&dc(t),t.flags|=1,be(e,t,n,i),t.child)}function Ef(e,t,n,r,i){if(Ge(n)){var s=!0;ho(t)}else s=!1;if(xr(t,i),t.stateNode===null)Xs(e,t),Hg(t,n,r),Qa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ge(n)?Wn:De.current,u=br(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&pf(t,o,r,u),rn=!1;var f=t.memoizedState;o.state=f,yo(t,r,o,i),a=t.memoizedState,l!==r||f!==a||ze.current||rn?(typeof c=="function"&&(qa(t,n,c,r),a=t.memoizedState),(l=rn||hf(t,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Eg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gt(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=Ge(n)?Wn:De.current,a=br(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&pf(t,o,r,a),rn=!1,f=t.memoizedState,o.state=f,yo(t,r,o,i);var _=t.memoizedState;l!==d||f!==_||ze.current||rn?(typeof g=="function"&&(qa(t,n,g,r),_=t.memoizedState),(u=rn||hf(t,n,u,r,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Za(e,t,n,r,s,i)}function Za(e,t,n,r,i,s){Gg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&sf(t,n,!1),Kt(e,t,s);r=t.stateNode,sS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ur(t,e.child,null,s),t.child=Ur(t,null,l,s)):be(e,t,l,s),t.memoizedState=r.state,i&&sf(t,n,!0),t.child}function Kg(e){var t=e.stateNode;t.pendingContext?rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rf(e,t.context,!1),vc(e,t.containerInfo)}function Sf(e,t,n,r,i){return Mr(),hc(i),t.flags|=256,be(e,t,n,r),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yg(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(re,i&1),e===null)return Ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=el(o,r,0,null),e=Hn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=tu(n),t.memoizedState=eu,e):Nc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=_n(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_n(l,s):(s=Hn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?tu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=eu,r}return s=e.child,e=s.sibling,r=_n(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nc(e,t){return t=el({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ds(e,t,n,r){return r!==null&&hc(r),Ur(t,e.child,null,n),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Yl(Error(I(422))),Ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=el({mode:"visible",children:r.children},i,0,null),s=Hn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ur(t,e.child,null,o),t.child.memoizedState=tu(o),t.memoizedState=eu,s);if(!(t.mode&1))return Ds(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=Yl(s,r,void 0),Ds(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ve||l){if(r=ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gt(e,i),wt(r,e,i,-1))}return Pc(),r=Yl(Error(I(421))),Ds(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Je=hn(i.nextSibling),Ze=t,ee=!0,yt=null,e!==null&&(rt[it++]=Ft,rt[it++]=jt,rt[it++]=zn,Ft=e.id,jt=e.overflow,zn=t),t=Nc(t,r.children),t.flags|=4096,t)}function wf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ya(e.return,t,n)}function ql(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(be(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,n,t);else if(e.tag===19)wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ql(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ql(t,!0,n,null,s);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lS(e,t,n){switch(t.tag){case 3:Kg(t),Mr();break;case 5:Sg(t);break;case 1:Ge(t.type)&&ho(t);break;case 4:vc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(go,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Yg(e,t,n):(Y(re,re.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);Y(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,zg(e,t,n)}return Kt(e,t,n)}var Qg,nu,Xg,Jg;Qg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nu=function(){};Xg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bn(Pt.current);var s=null;switch(n){case"input":i=Ta(e,i),r=Ta(e,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=Na(e,i),r=Na(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=co)}Ra(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Jg=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function aS(e,t,n){var r=t.pendingProps;switch(fc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ge(t.type)&&fo(),xe(t),null;case 3:return r=t.stateNode,Fr(),J(ze),J(De),Sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(cu(yt),yt=null))),nu(e,t),xe(t),null;case 5:Ec(t);var i=bn(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)Xg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return xe(t),null}if(e=bn(Pt.current),Os(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ot]=t,r[Vi]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<yi.length;i++)q(yi[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Od(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":Dd(r,s),q("invalid",r)}Ra(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Rs(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Rs(r.textContent,l,e),i=["children",""+l]):Pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":Ss(r),kd(r,s,!0);break;case"textarea":Ss(r),Pd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=co)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ot]=t,e[Vi]=r,Qg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Oa(n,r),n){case"dialog":q("cancel",e),q("close",e),i=r;break;case"iframe":case"object":case"embed":q("load",e),i=r;break;case"video":case"audio":for(i=0;i<yi.length;i++)q(yi[i],e);i=r;break;case"source":q("error",e),i=r;break;case"img":case"image":case"link":q("error",e),q("load",e),i=r;break;case"details":q("toggle",e),i=r;break;case"input":Od(e,r),i=Ta(e,r),q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),q("invalid",e);break;case"textarea":Dd(e,r),i=Na(e,r),q("invalid",e);break;default:i=r}Ra(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Rm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Nm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Li(e,a):typeof a=="number"&&Li(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&q("scroll",e):a!=null&&Xu(e,s,a,o))}switch(n){case"input":Ss(e),kd(e,r,!1);break;case"textarea":Ss(e),Pd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+En(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Jg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=bn(zi.current),bn(Pt.current),Os(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(s=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:Rs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return xe(t),null;case 13:if(J(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Je!==null&&t.mode&1&&!(t.flags&128))gg(),Mr(),t.flags|=98560,s=!1;else if(s=Os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Ot]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),s=!1}else yt!==null&&(cu(yt),yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?he===0&&(he=3):Pc())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Fr(),nu(e,t),e===null&&Hi(t.stateNode.containerInfo),xe(t),null;case 10:return gc(t.type._context),xe(t),null;case 17:return Ge(t.type)&&fo(),xe(t),null;case 19:if(J(re),s=t.memoizedState,s===null)return xe(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)li(s,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vo(e),o!==null){for(t.flags|=128,li(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&le()>Br&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304)}else{if(!r)if(e=vo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return xe(t),null}else 2*le()-s.renderingStartTime>Br&&n!==1073741824&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,n=re.current,Y(re,r?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Dc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function uS(e,t){switch(fc(t),t.tag){case 1:return Ge(t.type)&&fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),J(ze),J(De),Sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ec(t),null;case 13:if(J(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(re),null;case 4:return Fr(),null;case 10:return gc(t.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var Ps=!1,Re=!1,cS=typeof WeakSet=="function"?WeakSet:Set,x=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function ru(e,t,n){try{n()}catch(r){oe(e,t,r)}}var If=!1;function dS(e,t){if(Ba=lo,e=rg(),cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ha={focusedElem:e,selectionRange:n},lo=!1,x=t;x!==null;)if(t=x,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,x=e;else for(;x!==null;){t=x;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,v=_.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:gt(t.type,E),v);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){oe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,x=e;break}x=t.return}return _=If,If=!1,_}function Ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ru(t,n,s)}i=i.next}while(i!==r)}}function Jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zg(e){var t=e.alternate;t!==null&&(e.alternate=null,Zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Vi],delete t[Wa],delete t[KE],delete t[YE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e_(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=co));else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ou(e,t,n),e=e.sibling;e!==null;)ou(e,t,n),e=e.sibling}var Ee=null,_t=!1;function tn(e,t,n){for(n=n.child;n!==null;)t_(e,t,n),n=n.sibling}function t_(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Wo,n)}catch{}switch(n.tag){case 5:Re||Er(n,t);case 6:var r=Ee,i=_t;Ee=null,tn(e,t,n),Ee=r,_t=i,Ee!==null&&(_t?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(_t?(e=Ee,n=n.stateNode,e.nodeType===8?$l(e.parentNode,n):e.nodeType===1&&$l(e,n),Fi(e)):$l(Ee,n.stateNode));break;case 4:r=Ee,i=_t,Ee=n.stateNode.containerInfo,_t=!0,tn(e,t,n),Ee=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ru(n,t,o),i=i.next}while(i!==r)}tn(e,t,n);break;case 1:if(!Re&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){oe(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,tn(e,t,n),Re=r):tn(e,t,n);break;default:tn(e,t,n)}}function Af(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cS),t.forEach(function(r){var i=ES.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,_t=!1;break e;case 3:Ee=l.stateNode.containerInfo,_t=!0;break e;case 4:Ee=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(Ee===null)throw Error(I(160));t_(s,o,i),Ee=null,_t=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)n_(t,e),t=t.sibling}function n_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Nt(e),r&4){try{Ci(3,e,e.return),Jo(3,e)}catch(E){oe(e,e.return,E)}try{Ci(5,e,e.return)}catch(E){oe(e,e.return,E)}}break;case 1:mt(t,e),Nt(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(mt(t,e),Nt(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var i=e.stateNode;try{Li(i,"")}catch(E){oe(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Tm(i,s),Oa(l,o);var u=Oa(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Rm(i,d):c==="dangerouslySetInnerHTML"?Nm(i,d):c==="children"?Li(i,d):Xu(i,c,d,u)}switch(l){case"input":Aa(i,s);break;case"textarea":Am(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Tr(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tr(i,!!s.multiple,s.defaultValue,!0):Tr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vi]=s}catch(E){oe(e,e.return,E)}}break;case 6:if(mt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){oe(e,e.return,E)}}break;case 3:if(mt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(E){oe(e,e.return,E)}break;case 4:mt(t,e),Nt(e);break;case 13:mt(t,e),Nt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Oc=le())),r&4&&Af(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||c,mt(t,e),Re=u):mt(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(x=e,c=e.child;c!==null;){for(d=x=c;x!==null;){switch(f=x,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ci(4,f,f.return);break;case 1:Er(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){oe(r,n,E)}}break;case 5:Er(f,f.return);break;case 22:if(f.memoizedState!==null){Nf(d);continue}}g!==null?(g.return=f,x=g):Nf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=xm("display",o))}catch(E){oe(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){oe(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mt(t,e),Nt(e),r&4&&Af(e);break;case 21:break;default:mt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(e_(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Li(i,""),r.flags&=-33);var s=Tf(e);ou(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Tf(e);su(e,l,o);break;default:throw Error(I(161))}}catch(a){oe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fS(e,t,n){x=e,r_(e)}function r_(e,t,n){for(var r=(e.mode&1)!==0;x!==null;){var i=x,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ps;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Ps;var u=Re;if(Ps=o,(Re=a)&&!u)for(x=i;x!==null;)o=x,a=o.child,o.tag===22&&o.memoizedState!==null?xf(i):a!==null?(a.return=o,x=a):xf(i);for(;s!==null;)x=s,r_(s),s=s.sibling;x=i,Ps=l,Re=u}Cf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,x=s):Cf(e)}}function Cf(e){for(;x!==null;){var t=x;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Re||t.flags&512&&iu(t)}catch(f){oe(t,t.return,f)}}if(t===e){x=null;break}if(n=t.sibling,n!==null){n.return=t.return,x=n;break}x=t.return}}function Nf(e){for(;x!==null;){var t=x;if(t===e){x=null;break}var n=t.sibling;if(n!==null){n.return=t.return,x=n;break}x=t.return}}function xf(e){for(;x!==null;){var t=x;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jo(4,t)}catch(a){oe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){oe(t,i,a)}}var s=t.return;try{iu(t)}catch(a){oe(t,s,a)}break;case 5:var o=t.return;try{iu(t)}catch(a){oe(t,o,a)}}}catch(a){oe(t,t.return,a)}if(t===e){x=null;break}var l=t.sibling;if(l!==null){l.return=t.return,x=l;break}x=t.return}}var hS=Math.ceil,wo=Jt.ReactCurrentDispatcher,xc=Jt.ReactCurrentOwner,lt=Jt.ReactCurrentBatchConfig,H=0,ye=null,ue=null,Ie=0,Xe=0,Sr=Cn(0),he=0,qi=null,Kn=0,Zo=0,Rc=0,Ni=null,$e=null,Oc=0,Br=1/0,bt=null,Io=!1,lu=null,mn=null,Ls=!1,an=null,To=0,xi=0,au=null,Js=-1,Zs=0;function Me(){return H&6?le():Js!==-1?Js:Js=le()}function gn(e){return e.mode&1?H&2&&Ie!==0?Ie&-Ie:QE.transition!==null?(Zs===0&&(Zs=Hm()),Zs):(e=z,e!==0||(e=window.event,e=e===void 0?16:Ym(e.type)),e):1}function wt(e,t,n,r){if(50<xi)throw xi=0,au=null,Error(I(185));ss(e,n,r),(!(H&2)||e!==ye)&&(e===ye&&(!(H&2)&&(Zo|=n),he===4&&on(e,Ie)),Ke(e,r),n===1&&H===0&&!(t.mode&1)&&(Br=le()+500,qo&&Nn()))}function Ke(e,t){var n=e.callbackNode;Q0(e,t);var r=oo(e,e===ye?Ie:0);if(r===0)n!==null&&Md(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Md(n),t===1)e.tag===0?qE(Rf.bind(null,e)):hg(Rf.bind(null,e)),zE(function(){!(H&6)&&Nn()}),n=null;else{switch($m(r)){case 1:n=nc;break;case 4:n=jm;break;case 16:n=so;break;case 536870912:n=Bm;break;default:n=so}n=d_(n,i_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i_(e,t){if(Js=-1,Zs=0,H&6)throw Error(I(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=oo(e,e===ye?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ao(e,r);else{t=r;var i=H;H|=2;var s=o_();(ye!==e||Ie!==t)&&(bt=null,Br=le()+500,Bn(e,t));do try{gS();break}catch(l){s_(e,l)}while(1);mc(),wo.current=s,H=i,ue!==null?t=0:(ye=null,Ie=0,t=he)}if(t!==0){if(t===2&&(i=ba(e),i!==0&&(r=i,t=uu(e,i))),t===1)throw n=qi,Bn(e,0),on(e,r),Ke(e,le()),n;if(t===6)on(e,r);else{if(i=e.current.alternate,!(r&30)&&!pS(i)&&(t=Ao(e,r),t===2&&(s=ba(e),s!==0&&(r=s,t=uu(e,s))),t===1))throw n=qi,Bn(e,0),on(e,r),Ke(e,le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Rn(e,$e,bt);break;case 3:if(on(e,r),(r&130023424)===r&&(t=Oc+500-le(),10<t)){if(oo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Me(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Va(Rn.bind(null,e,$e,bt),t);break}Rn(e,$e,bt);break;case 4:if(on(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-St(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hS(r/1960))-r,10<r){e.timeoutHandle=Va(Rn.bind(null,e,$e,bt),r);break}Rn(e,$e,bt);break;case 5:Rn(e,$e,bt);break;default:throw Error(I(329))}}}return Ke(e,le()),e.callbackNode===n?i_.bind(null,e):null}function uu(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=Ao(e,t),e!==2&&(t=$e,$e=n,t!==null&&cu(t)),e}function cu(e){$e===null?$e=e:$e.push.apply($e,e)}function pS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Rc,t&=~Zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Rf(e){if(H&6)throw Error(I(327));Rr();var t=oo(e,0);if(!(t&1))return Ke(e,le()),null;var n=Ao(e,t);if(e.tag!==0&&n===2){var r=ba(e);r!==0&&(t=r,n=uu(e,r))}if(n===1)throw n=qi,Bn(e,0),on(e,t),Ke(e,le()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,$e,bt),Ke(e,le()),null}function kc(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Br=le()+500,qo&&Nn())}}function Yn(e){an!==null&&an.tag===0&&!(H&6)&&Rr();var t=H;H|=1;var n=lt.transition,r=z;try{if(lt.transition=null,z=1,e)return e()}finally{z=r,lt.transition=n,H=t,!(H&6)&&Nn()}}function Dc(){Xe=Sr.current,J(Sr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WE(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(fc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fo();break;case 3:Fr(),J(ze),J(De),Sc();break;case 5:Ec(r);break;case 4:Fr();break;case 13:J(re);break;case 19:J(re);break;case 10:gc(r.type._context);break;case 22:case 23:Dc()}n=n.return}if(ye=e,ue=e=_n(e.current,null),Ie=Xe=t,he=0,qi=null,Rc=Zo=Kn=0,$e=Ni=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ln=null}return e}function s_(e,t){do{var n=ue;try{if(mc(),qs.current=So,Eo){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eo=!1}if(Gn=0,ge=de=ie=null,Ai=!1,Gi=0,xc.current=null,n===null||n.return===null){he=1,qi=t,ue=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=gf(o);if(g!==null){g.flags&=-257,_f(g,o,l,s,t),g.mode&1&&mf(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(a),t.updateQueue=E}else _.add(a);break e}else{if(!(t&1)){mf(s,u,t),Pc();break e}a=Error(I(426))}}else if(ee&&l.mode&1){var v=gf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_f(v,o,l,s,t),hc(jr(a,l));break e}}s=a=jr(a,l),he!==4&&(he=2),Ni===null?Ni=[s]:Ni.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=$g(s,a,t);uf(s,m);break e;case 1:l=a;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Vg(s,l,t);uf(s,S);break e}}s=s.return}while(s!==null)}a_(n)}catch(T){t=T,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(1)}function o_(){var e=wo.current;return wo.current=So,e===null?So:e}function Pc(){(he===0||he===3||he===2)&&(he=4),ye===null||!(Kn&268435455)&&!(Zo&268435455)||on(ye,Ie)}function Ao(e,t){var n=H;H|=2;var r=o_();(ye!==e||Ie!==t)&&(bt=null,Bn(e,t));do try{mS();break}catch(i){s_(e,i)}while(1);if(mc(),H=n,wo.current=r,ue!==null)throw Error(I(261));return ye=null,Ie=0,he}function mS(){for(;ue!==null;)l_(ue)}function gS(){for(;ue!==null&&!H0();)l_(ue)}function l_(e){var t=c_(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?a_(e):ue=t,xc.current=null}function a_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uS(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ue=null;return}}else if(n=aS(n,t,Xe),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);he===0&&(he=5)}function Rn(e,t,n){var r=z,i=lt.transition;try{lt.transition=null,z=1,_S(e,t,n,r)}finally{lt.transition=i,z=r}return null}function _S(e,t,n,r){do Rr();while(an!==null);if(H&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(X0(e,s),e===ye&&(ue=ye=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,d_(so,function(){return Rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=lt.transition,lt.transition=null;var o=z;z=1;var l=H;H|=4,xc.current=null,dS(e,n),n_(n,e),UE(Ha),lo=!!Ba,Ha=Ba=null,e.current=n,fS(n),$0(),H=l,z=o,lt.transition=s}else e.current=n;if(Ls&&(Ls=!1,an=e,To=i),s=e.pendingLanes,s===0&&(mn=null),z0(n.stateNode),Ke(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Io)throw Io=!1,e=lu,lu=null,e;return To&1&&e.tag!==0&&Rr(),s=e.pendingLanes,s&1?e===au?xi++:(xi=0,au=e):xi=0,Nn(),null}function Rr(){if(an!==null){var e=$m(To),t=lt.transition,n=z;try{if(lt.transition=null,z=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,To=0,H&6)throw Error(I(331));var i=H;for(H|=4,x=e.current;x!==null;){var s=x,o=s.child;if(x.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(x=u;x!==null;){var c=x;switch(c.tag){case 0:case 11:case 15:Ci(8,c,s)}var d=c.child;if(d!==null)d.return=c,x=d;else for(;x!==null;){c=x;var f=c.sibling,g=c.return;if(Zg(c),c===u){x=null;break}if(f!==null){f.return=g,x=f;break}x=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}x=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,x=o;else e:for(;x!==null;){if(s=x,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ci(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,x=m;break e}x=s.return}}var h=e.current;for(x=h;x!==null;){o=x;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,x=y;else e:for(o=h;x!==null;){if(l=x,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jo(9,l)}}catch(T){oe(l,l.return,T)}if(l===o){x=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,x=S;break e}x=l.return}}if(H=i,Nn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Wo,e)}catch{}r=!0}return r}finally{z=n,lt.transition=t}}return!1}function Of(e,t,n){t=jr(n,t),t=$g(e,t,1),e=pn(e,t,1),t=Me(),e!==null&&(ss(e,1,t),Ke(e,t))}function oe(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=jr(n,e),e=Vg(t,e,1),t=pn(t,e,1),e=Me(),t!==null&&(ss(t,1,e),Ke(t,e));break}}t=t.return}}function yS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(Ie&n)===n&&(he===4||he===3&&(Ie&130023424)===Ie&&500>le()-Oc?Bn(e,0):Rc|=n),Ke(e,t)}function u_(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=Me();e=Gt(e,t),e!==null&&(ss(e,t,n),Ke(e,n))}function vS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u_(e,n)}function ES(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),u_(e,n)}var c_;c_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,lS(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ee&&t.flags&1048576&&pg(t,mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var i=br(t,De.current);xr(t,n),i=Ic(null,t,r,e,i,n);var s=Tc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(s=!0,ho(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yc(t),i.updater=Xo,t.stateNode=i,i._reactInternals=t,Qa(t,r,e,n),t=Za(null,t,r,!0,s,n)):(t.tag=0,ee&&s&&dc(t),be(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=wS(r),e=gt(r,e),i){case 0:t=Ja(null,t,r,e,n);break e;case 1:t=Ef(null,t,r,e,n);break e;case 11:t=yf(null,t,r,e,n);break e;case 14:t=vf(null,t,r,gt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),Ja(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),Ef(e,t,r,i,n);case 3:e:{if(Kg(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Eg(e,t),yo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=jr(Error(I(423)),t),t=Sf(e,t,r,n,i);break e}else if(r!==i){i=jr(Error(I(424)),t),t=Sf(e,t,r,n,i);break e}else for(Je=hn(t.stateNode.containerInfo.firstChild),Ze=t,ee=!0,yt=null,n=yg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===i){t=Kt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return Sg(t),e===null&&Ka(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$a(r,i)?o=null:s!==null&&$a(r,s)&&(t.flags|=32),Gg(e,t),be(e,t,o,n),t.child;case 6:return e===null&&Ka(t),null;case 13:return Yg(e,t,n);case 4:return vc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),yf(e,t,r,i,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Y(go,r._currentValue),r._currentValue=o,s!==null)if(Tt(s.value,o)){if(s.children===i.children&&!ze.current){t=Kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ht(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ya(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ya(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}be(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xr(t,n),i=at(i),r=r(i),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,i=gt(r,t.pendingProps),i=gt(r.type,i),vf(e,t,r,i,n);case 15:return Wg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gt(r,i),Xs(e,t),t.tag=1,Ge(r)?(e=!0,ho(t)):e=!1,xr(t,n),Hg(t,r,i),Qa(t,r,i,n),Za(null,t,r,!0,e,n);case 19:return qg(e,t,n);case 22:return zg(e,t,n)}throw Error(I(156,t.tag))};function d_(e,t){return Fm(e,t)}function SS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new SS(e,t,n,r)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wS(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zu)return 11;if(e===ec)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Lc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dr:return Hn(n.children,i,s,t);case Ju:o=8,i|=8;break;case Ea:return e=st(12,n,t,i|2),e.elementType=Ea,e.lanes=s,e;case Sa:return e=st(13,n,t,i),e.elementType=Sa,e.lanes=s,e;case wa:return e=st(19,n,t,i),e.elementType=wa,e.lanes=s,e;case Sm:return el(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vm:o=10;break e;case Em:o=9;break e;case Zu:o=11;break e;case ec:o=14;break e;case nn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=st(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Hn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function el(e,t,n,r){return e=st(22,e,r,t),e.elementType=Sm,e.lanes=n,e.stateNode={isHidden:!1},e}function Ql(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Xl(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bc(e,t,n,r,i,s,o,l,a){return e=new IS(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=st(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(s),e}function TS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f_(e){if(!e)return Sn;e=e._reactInternals;e:{if(tr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ge(n))return fg(e,n,t)}return t}function h_(e,t,n,r,i,s,o,l,a){return e=bc(n,r,!0,e,i,s,o,l,a),e.context=f_(null),n=e.current,r=Me(),i=gn(n),s=Ht(r,i),s.callback=t??null,pn(n,s,i),e.current.lanes=i,ss(e,i,r),Ke(e,r),e}function tl(e,t,n,r){var i=t.current,s=Me(),o=gn(i);return n=f_(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(i,t,o),e!==null&&(wt(e,i,o,s),Ys(e,i,o)),o}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mc(e,t){kf(e,t),(e=e.alternate)&&kf(e,t)}function AS(){return null}var p_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}nl.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));tl(e,t,null,null)};nl.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){tl(null,e,null,null)}),t[zt]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=zm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Km(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Df(){}function CS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Co(o);s.call(u)}}var o=h_(t,r,e,0,null,!1,!1,"",Df);return e._reactRootContainer=o,e[zt]=o.current,Hi(e.nodeType===8?e.parentNode:e),Yn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Co(a);l.call(u)}}var a=bc(e,0,!1,null,null,!1,!1,"",Df);return e._reactRootContainer=a,e[zt]=a.current,Hi(e.nodeType===8?e.parentNode:e),Yn(function(){tl(t,a,n,r)}),a}function il(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Co(o);l.call(a)}}tl(t,o,e,i)}else o=CS(n,t,e,i,r);return Co(o)}Vm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_i(t.pendingLanes);n!==0&&(rc(t,n|1),Ke(t,le()),!(H&6)&&(Br=le()+500,Nn()))}break;case 13:Yn(function(){var r=Gt(e,1);if(r!==null){var i=Me();wt(r,e,1,i)}}),Mc(e,1)}};ic=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Me();wt(t,e,134217728,n)}Mc(e,134217728)}};Wm=function(e){if(e.tag===13){var t=gn(e),n=Gt(e,t);if(n!==null){var r=Me();wt(n,e,t,r)}Mc(e,t)}};zm=function(){return z};Gm=function(e,t){var n=z;try{return z=e,t()}finally{z=n}};Da=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yo(r);if(!i)throw Error(I(90));Im(r),Aa(r,i)}}}break;case"textarea":Am(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};Dm=kc;Pm=Yn;var NS={usingClientEntryPoint:!1,Events:[ls,mr,Yo,Om,km,kc]},ai={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xS={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mm(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||AS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Wo=bs.inject(xS),Dt=bs}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(t))throw Error(I(200));return TS(e,t,null,n)};tt.createRoot=function(e,t){if(!Fc(e))throw Error(I(299));var n=!1,r="",i=p_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bc(e,1,!1,null,null,n,!1,r,i),e[zt]=t.current,Hi(e.nodeType===8?e.parentNode:e),new Uc(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Mm(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Yn(e)};tt.hydrate=function(e,t,n){if(!rl(t))throw Error(I(200));return il(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Fc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=p_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=h_(t,null,e,1,n??null,i,!1,s,o),e[zt]=t.current,Hi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nl(t)};tt.render=function(e,t,n){if(!rl(t))throw Error(I(200));return il(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!rl(e))throw Error(I(40));return e._reactRootContainer?(Yn(function(){il(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};tt.unstable_batchedUpdates=kc;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return il(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(e){console.error(e)}}m_(),mm.exports=tt;var RS=mm.exports,Pf=RS;ya.createRoot=Pf.createRoot,ya.hydrateRoot=Pf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}var un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(un||(un={}));const Lf="popstate";function OS(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=nr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),du("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:g_(s))}function r(i,s){sl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DS(t,n,r,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kS(){return Math.random().toString(36).substr(2,8)}function bf(e,t){return{usr:e.state,key:e.key,idx:t}}function du(e,t,n,r){return n===void 0&&(n=null),Qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||kS()})}function g_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=un.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Qi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=un.Pop;let v=c(),m=v==null?null:v-u;u=v,a&&a({action:l,location:E.location,delta:m})}function f(v,m){l=un.Push;let h=du(E.location,v,m);n&&n(h,v),u=c()+1;let y=bf(h,u),S=E.createHref(h);try{o.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&a&&a({action:l,location:E.location,delta:1})}function g(v,m){l=un.Replace;let h=du(E.location,v,m);n&&n(h,v),u=c();let y=bf(h,u),S=E.createHref(h);o.replaceState(y,"",S),s&&a&&a({action:l,location:E.location,delta:0})}function _(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof v=="string"?v:g_(v);return h=h.replace(/ $/,"%20"),ce(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let E={get action(){return l},get location(){return e(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Lf,d),a=v,()=>{i.removeEventListener(Lf,d),a=null}},createHref(v){return t(i,v)},createURL:_,encodeLocation(v){let m=_(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(v){return o.go(v)}};return E}var Mf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mf||(Mf={}));function PS(e,t,n){return n===void 0&&(n="/"),LS(e,t,n,!1)}function LS(e,t,n,r){let i=typeof t=="string"?nr(t):t,s=v_(i.pathname||"/",n);if(s==null)return null;let o=__(e);bS(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=GS(s);l=WS(o[a],u,r)}return l}function __(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ce(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=$n([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ce(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),__(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$S(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of y_(s.path))i(s,o,a)}),t}function y_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y_(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function bS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MS=/^:[\w-]+$/,US=3,FS=2,jS=1,BS=10,HS=-2,Uf=e=>e==="*";function $S(e,t){let n=e.split("/"),r=n.length;return n.some(Uf)&&(r+=HS),t&&(r+=FS),n.filter(i=>!Uf(i)).reduce((i,s)=>i+(MS.test(s)?US:s===""?jS:BS),r)}function VS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function WS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Ff({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Ff({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$n([s,d.pathname]),pathnameBase:XS($n([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$n([s,d.pathnameBase]))}return o}function Ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let E=l[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[d];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function zS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function v_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const KS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YS=e=>KS.test(e);function qS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?nr(e):e,s;if(n)if(YS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),sl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=jf(n.substring(1),"/"):s=jf(n,t)}else s=t;return{pathname:s,search:JS(r),hash:ZS(i)}}function jf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function E_(e,t){let n=QS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function S_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=nr(e):(i=Qi({},e),ce(!i.pathname||!i.pathname.includes("?"),Jl("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Jl("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Jl("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=qS(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const $n=e=>e.join("/").replace(/\/\/+/g,"/"),XS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ew(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w_=["post","put","patch","delete"];new Set(w_);const tw=["get",...w_];new Set(tw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}const jc=w.createContext(null),nw=w.createContext(null),us=w.createContext(null),ol=w.createContext(null),rr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),I_=w.createContext(null);function cs(){return w.useContext(ol)!=null}function ll(){return cs()||ce(!1),w.useContext(ol).location}function T_(e){w.useContext(us).static||w.useLayoutEffect(e)}function ds(){let{isDataRoute:e}=w.useContext(rr);return e?mw():rw()}function rw(){cs()||ce(!1);let e=w.useContext(jc),{basename:t,future:n,navigator:r}=w.useContext(us),{matches:i}=w.useContext(rr),{pathname:s}=ll(),o=JSON.stringify(E_(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return T_(()=>{l.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=S_(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:$n([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function iw(e,t){return sw(e,t)}function sw(e,t,n,r){cs()||ce(!1);let{navigator:i}=w.useContext(us),{matches:s}=w.useContext(rr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=ll(),c;if(t){var d;let v=typeof t=="string"?nr(t):t;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||ce(!1),c=v}else c=u;let f=c.pathname||"/",g=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=PS(e,{pathname:g}),E=cw(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:$n([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:$n([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&E?w.createElement(ol.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:un.Pop}},E):E}function ow(){let e=pw(),t=ew(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const lw=w.createElement(ow,null);class aw extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(rr.Provider,{value:this.props.routeContext},w.createElement(I_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uw(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(jc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(rr.Provider,{value:t},r)}function cw(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ce(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:g}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let g,_=!1,E=null,v=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||lw,a&&(u<0&&f===0?(gw("route-fallback",!1),_=!0,v=null):u===f&&(_=!0,v=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),h=()=>{let y;return g?y=E:_?y=v:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(uw,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(aw,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var A_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(A_||{}),No=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(No||{});function dw(e){let t=w.useContext(jc);return t||ce(!1),t}function fw(e){let t=w.useContext(nw);return t||ce(!1),t}function hw(e){let t=w.useContext(rr);return t||ce(!1),t}function C_(e){let t=hw(),n=t.matches[t.matches.length-1];return n.route.id||ce(!1),n.route.id}function pw(){var e;let t=w.useContext(I_),n=fw(No.UseRouteError),r=C_(No.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mw(){let{router:e}=dw(A_.UseNavigateStable),t=C_(No.UseNavigateStable),n=w.useRef(!1);return T_(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xi({fromRouteId:t},s)))},[e,t])}const Bf={};function gw(e,t,n){!t&&!Bf[e]&&(Bf[e]=!0)}function _w(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function yw(e){let{to:t,replace:n,state:r,relative:i}=e;cs()||ce(!1);let{future:s,static:o}=w.useContext(us),{matches:l}=w.useContext(rr),{pathname:a}=ll(),u=ds(),c=S_(t,E_(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function to(e){ce(!1)}function vw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=un.Pop,navigator:s,static:o=!1,future:l}=e;cs()&&ce(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o,future:Xi({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=nr(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:_="default"}=r,E=w.useMemo(()=>{let v=v_(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:_},navigationType:i}},[a,c,d,f,g,_,i]);return E==null?null:w.createElement(us.Provider,{value:u},w.createElement(ol.Provider,{children:n,value:E}))}function Ew(e){let{children:t,location:n}=e;return iw(fu(t),n)}new Promise(()=>{});function fu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,fu(r.props.children,s));return}r.type!==to&&ce(!1),!r.props.index||!r.props.children||ce(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Sw(e,t){let n=hu(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const ww="6";try{window.__reactRouterVersion=ww}catch{}const Iw="startTransition",Hf=y0[Iw];function Tw(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=OS({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(d=>{u&&Hf?Hf(()=>a(d)):a(d)},[a,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.useEffect(()=>_w(r),[r]),w.createElement(vw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var $f;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($f||($f={}));var Vf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vf||(Vf={}));function Aw(e){let t=w.useRef(hu(e)),n=w.useRef(!1),r=ll(),i=w.useMemo(()=>Sw(r.search,n.current?null:t.current),[r.search]),s=ds(),o=w.useCallback((l,a)=>{const u=hu(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,a)},[s,i]);return[i,o]}const pu="SENTINEL_REMOTE_DB_URL",Cw="https://japs-parivar-siren-default-rtdb.firebaseio.com",Hr=()=>(localStorage.getItem(pu)||Cw).replace(/\/$/,""),Nw=e=>{if(!e)localStorage.removeItem(pu);else{const t=e.replace(/\/$/,"");localStorage.setItem(pu,t)}},Ue=()=>{const e=Hr();return!!e&&e.length>0},$r="sentinel_alerts_v1",wn="sentinel_recurring_v1",mu="sentinel_status/monitor",N_=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),Bc=async e=>{if(!Ue())return null;const t=Hr();try{const n=await fetch(`${t}/${e}.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return e!==mu&&localStorage.setItem(`cache_${e}`,JSON.stringify(r)),r}catch(n){if(e!==mu){console.warn(`Cloud fetch error for ${e}, falling back to cache:`,n);const r=localStorage.getItem(`cache_${e}`);return r?JSON.parse(r):null}return null}},fs=async(e,t)=>{if(!Ue())return;const n=Hr();localStorage.setItem(`cache_${e}`,JSON.stringify(t));try{await fetch(`${n}/${e}.json`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}catch(r){console.error("Cloud write error:",r)}},xw=async()=>await Bc(mu),al=async()=>{if(Ue()){const e=await Bc($r);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem($r);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load alerts",e),[]}},Rw=async e=>{const n=[...await al(),e];Ue()?await fs($r,n):localStorage.setItem($r,JSON.stringify(n))},Ow=(e,t,n)=>({id:N_(),content:e,scheduledTime:t,createdAt:Date.now(),severity:n,isSent:!1}),kw=async e=>{const n=(await al()).filter(r=>r.id!==e);Ue()?await fs($r,n):localStorage.setItem($r,JSON.stringify(n))},hs=async()=>{if(Ue()){const e=await Bc(wn);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(wn);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load recurring alerts",e),[]}},Dw=async e=>{const n=[...await hs(),e];Ue()?await fs(wn,n):localStorage.setItem(wn,JSON.stringify(n))},Pw=(e,t,n)=>({id:N_(),content:e,scheduledTime:t,severity:n,isActive:!0,createdAt:Date.now()}),Lw=async e=>{const n=(await hs()).map(r=>r.id===e?{...r,isActive:!r.isActive}:r);Ue()?await fs(wn,n):localStorage.setItem(wn,JSON.stringify(n))},bw=async e=>{const n=(await hs()).filter(r=>r.id!==e);Ue()?await fs(wn,n):localStorage.setItem(wn,JSON.stringify(n))},Mw=async()=>{const e=Date.now();return(await al()).filter(n=>n.scheduledTime>e).sort((n,r)=>n.scheduledTime-r.scheduledTime)},x_=async()=>{const e=new Date,t=e.getTime(),n=e.toDateString(),i=(await al()).filter(a=>a.scheduledTime<=t),o=(await hs()).filter(a=>a.isActive),l=[];return o.forEach(a=>{try{const[u,c]=a.scheduledTime.split(":").map(Number),d=new Date(e);d.setHours(u,c,0,0),t>=d.getTime()&&l.push({id:`recurring-${a.id}-${n}`,content:`[DAILY REPEAT] ${a.content}`,scheduledTime:d.getTime(),createdAt:a.createdAt,severity:a.severity,isSent:!0})}catch(u){console.error("Error parsing recurring time",u)}}),[...i,...l].sort((a,u)=>u.scheduledTime-a.scheduledTime)};var Rt=(e=>(e.INFO="INFO",e.WARNING="WARNING",e.CRITICAL="CRITICAL",e))(Rt||{});const Wf={username:"admin",password:"yogiji"},gu=({alert:e,isAdmin:t,onDelete:n})=>{const r={[Rt.INFO]:"border-l-blue-500 bg-blue-900/20 text-blue-100",[Rt.WARNING]:"border-l-yellow-500 bg-yellow-900/20 text-yellow-100",[Rt.CRITICAL]:"border-l-red-500 bg-red-900/20 text-red-100 animate-pulse-fast"},i={[Rt.INFO]:"fa-info-circle",[Rt.WARNING]:"fa-exclamation-triangle",[Rt.CRITICAL]:"fa-radiation"},s=o=>{const l=new Date(o),a=new Date,u=l.getDate()===a.getDate()&&l.getMonth()===a.getMonth()&&l.getFullYear()===a.getFullYear(),c=l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return u?c:`${l.toLocaleDateString()} ${c}`};return p.jsxs("div",{className:`p-3 md:p-4 rounded-r-lg border-l-4 mb-3 relative flex items-start gap-3 md:gap-4 shadow-lg backdrop-blur-sm ${r[e.severity]}`,children:[p.jsx("div",{className:"text-xl md:text-2xl pt-1",children:p.jsx("i",{className:`fas ${i[e.severity]}`})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("h3",{className:"font-bold text-base md:text-lg uppercase tracking-wider",children:[e.severity," ALERT"]}),p.jsx("span",{className:"text-[10px] md:text-xs opacity-70 font-mono bg-black/30 px-2 py-1 rounded whitespace-nowrap ml-2",children:s(e.scheduledTime)})]}),p.jsx("p",{className:"mt-1 md:mt-2 text-base md:text-lg font-medium leading-relaxed",children:e.content}),t&&p.jsx("div",{className:"mt-3 flex justify-end",children:p.jsx("button",{onClick:o=>{o.stopPropagation(),n&&n(e.id)},className:"text-xs text-red-400 hover:text-red-300 underline p-2",children:"Recall/Delete"})})]})]})},Mn=({children:e,variant:t="primary",fullWidth:n=!1,className:r="",...i})=>{const s="px-4 py-2 rounded-md font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900",o={primary:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-500",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-500",secondary:"bg-slate-700 hover:bg-slate-600 text-white focus:ring-slate-500",outline:"border border-slate-600 text-slate-300 hover:bg-slate-800 focus:ring-slate-500"};return p.jsx("button",{className:`${s} ${o[t]} ${n?"w-full":""} ${r}`,...i,children:e})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(e,t){if(!e)throw qr(t)},qr=function(e){return new Error("Firebase Database ("+R_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Uw=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Hc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Uw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new Fw;const f=s<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k_=function(e){const t=O_(e);return Hc.encodeByteArray(t,!0)},xo=function(e){return k_(e).replace(/\./g,"")},_u=function(e){try{return Hc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e){return D_(void 0,e)}function D_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Bw(n)||(e[n]=D_(e[n],t[n]));return e}function Bw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=()=>Hw().__FIREBASE_DEFAULTS__,Vw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ww=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_u(e[1]);return t&&JSON.parse(t)},P_=()=>{try{return $w()||Vw()||Ww()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zw=e=>{var t,n;return(n=(t=P_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Gw=e=>{const t=zw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},L_=()=>{var e;return(e=P_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[xo(JSON.stringify(n)),xo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yw())}function qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M_(){return R_.NODE_ADMIN===!0}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function F_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function Qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="FirebaseError";class Qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Xw,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Jw(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,l,r)}}function Jw(e,t){return e.replace(Zw,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Zw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(e){return JSON.parse(e)}function we(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ji(_u(s[0])||""),n=Ji(_u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},eI=function(e){const t=j_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tI=function(e){const t=j_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function zf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ro(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Gf(s)&&Gf(o)){if(!yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function $c(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},dl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(e){return e&&e._delegate?e._delegate:e}class Yt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ul;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lI(t))try{this.getOrInitializeService({instanceIdentifier:On})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=On){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=On){return this.instances.has(t)}getOptions(t=On){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=On){return this.component?this.component.multipleInstances?t:On:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oI(e){return e===On?void 0:e}function lI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(K||(K={}));const uI={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},cI=K.INFO,dI={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},fI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=dI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class B_{constructor(t){this.name=t,this._logLevel=cI,this._logHandler=fI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in K))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...t),this._logHandler(this,K.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...t),this._logHandler(this,K.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,K.INFO,...t),this._logHandler(this,K.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,K.WARN,...t),this._logHandler(this,K.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...t),this._logHandler(this,K.ERROR,...t)}}const hI=(e,t)=>t.some(n=>e instanceof n);let Kf,Yf;function pI(){return Kf||(Kf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return Yf||(Yf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,vu=new WeakMap,$_=new WeakMap,Zl=new WeakMap,Vc=new WeakMap;function gI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n($t(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&H_.set(n,e)}).catch(()=>{}),Vc.set(t,e),t}function _I(e){if(vu.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});vu.set(e,t)}let Eu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return vu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yI(e){Eu=e(Eu)}function vI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ea(this),t,...n);return $_.set(r,t.sort?t.sort():[t]),$t(r)}:mI().includes(e)?function(...t){return e.apply(ea(this),t),$t(H_.get(this))}:function(...t){return $t(e.apply(ea(this),t))}}function EI(e){return typeof e=="function"?vI(e):(e instanceof IDBTransaction&&_I(e),hI(e,pI())?new Proxy(e,Eu):e)}function $t(e){if(e instanceof IDBRequest)return gI(e);if(Zl.has(e))return Zl.get(e);const t=EI(e);return t!==e&&(Zl.set(e,t),Vc.set(t,e)),t}const ea=e=>Vc.get(e);function fl(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=$t(o);return r&&o.addEventListener("upgradeneeded",a=>{r($t(o.result),a.oldVersion,a.newVersion,$t(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function ta(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),$t(n).then(()=>{})}const SI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],na=new Map;function qf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(na.get(t))return na.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return na.set(t,s),s}yI(e=>({...e,get:(t,n,r)=>qf(t,n)||e.get(t,n,r),has:(t,n)=>!!qf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Su="@firebase/app",Qf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=new B_("@firebase/app"),AI="@firebase/app-compat",CI="@firebase/analytics-compat",NI="@firebase/analytics",xI="@firebase/app-check-compat",RI="@firebase/app-check",OI="@firebase/auth",kI="@firebase/auth-compat",DI="@firebase/database",PI="@firebase/data-connect",LI="@firebase/database-compat",bI="@firebase/functions",MI="@firebase/functions-compat",UI="@firebase/installations",FI="@firebase/installations-compat",jI="@firebase/messaging",BI="@firebase/messaging-compat",HI="@firebase/performance",$I="@firebase/performance-compat",VI="@firebase/remote-config",WI="@firebase/remote-config-compat",zI="@firebase/storage",GI="@firebase/storage-compat",KI="@firebase/firestore",YI="@firebase/vertexai-preview",qI="@firebase/firestore-compat",QI="firebase",XI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="[DEFAULT]",JI={[Su]:"fire-core",[AI]:"fire-core-compat",[NI]:"fire-analytics",[CI]:"fire-analytics-compat",[RI]:"fire-app-check",[xI]:"fire-app-check-compat",[OI]:"fire-auth",[kI]:"fire-auth-compat",[DI]:"fire-rtdb",[PI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[bI]:"fire-fn",[MI]:"fire-fn-compat",[UI]:"fire-iid",[FI]:"fire-iid-compat",[jI]:"fire-fcm",[BI]:"fire-fcm-compat",[HI]:"fire-perf",[$I]:"fire-perf-compat",[VI]:"fire-rc",[WI]:"fire-rc-compat",[zI]:"fire-gcs",[GI]:"fire-gcs-compat",[KI]:"fire-fst",[qI]:"fire-fst-compat",[YI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Map,ZI=new Map,Iu=new Map;function Xf(e,t){try{e.container.addComponent(t)}catch(n){qt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function In(e){const t=e.name;if(Iu.has(t))return qt.debug(`There were multiple attempts to register component ${t}.`),!1;Iu.set(t,e);for(const n of Oo.values())Xf(n,e);for(const n of ZI.values())Xf(n,e);return!0}function hl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yn=new cl("app","Firebase",eT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=XI;function V_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wu,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw yn.create("bad-app-name",{appName:String(i)});if(n||(n=L_()),!n)throw yn.create("no-options");const s=Oo.get(i);if(s){if(yu(n,s.options)&&yu(r,s.config))return s;throw yn.create("duplicate-app",{appName:i})}const o=new aI(i);for(const a of Iu.values())o.addComponent(a);const l=new tT(n,r,o);return Oo.set(i,l),l}function W_(e=wu){const t=Oo.get(e);if(!t&&e===wu&&L_())return V_();if(!t)throw yn.create("no-app",{appName:e});return t}function Lt(e,t,n){var r;let i=(r=JI[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qt.warn(l.join(" "));return}In(new Yt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebase-heartbeat-database",iT=1,Zi="firebase-heartbeat-store";let ra=null;function z_(){return ra||(ra=fl(rT,iT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zi)}catch(n){console.warn(n)}}}}).catch(e=>{throw yn.create("idb-open",{originalErrorMessage:e.message})})),ra}async function sT(e){try{const n=(await z_()).transaction(Zi),r=await n.objectStore(Zi).get(G_(e));return await n.done,r}catch(t){if(t instanceof Qr)qt.warn(t.message);else{const n=yn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qt.warn(n.message)}}}async function Jf(e,t){try{const r=(await z_()).transaction(Zi,"readwrite");await r.objectStore(Zi).put(t,G_(e)),await r.done}catch(n){if(n instanceof Qr)qt.warn(n.message);else{const r=yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qt.warn(r.message)}}}function G_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=1024,lT=30*24*60*60*1e3;class aT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=lT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zf(),{heartbeatsToSend:r,unsentEntries:i}=uT(this._heartbeatsCache.heartbeats),s=xo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qt.warn(n),""}}}function Zf(){return new Date().toISOString().substring(0,10)}function uT(e,t=oT){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eh(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?F_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function eh(e){return xo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){In(new Yt("platform-logger",t=>new II(t),"PRIVATE")),In(new Yt("heartbeat",t=>new aT(t),"PRIVATE")),Lt(Su,Qf,e),Lt(Su,Qf,"esm2017"),Lt("fire-js","")}dT("");var fT="firebase",hT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt(fT,hT,"app");const th="@firebase/database",nh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_="";function pT(e){K_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),we(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ji(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Zt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mT(t)}}catch{}return new gT},Un=Y_("localStorage"),Tu=Y_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new B_("@firebase/database"),_T=function(){let e=1;return function(){return e++}}(),q_=function(e){const t=iI(e),n=new rI;n.update(t);const r=n.digest();return Hc.encodeByteArray(r)},ps=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ps.apply(null,r):typeof r=="object"?t+=we(r):t+=r,t+=" "}return t};let Vn=null,rh=!0;const yT=function(e,t){C(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Or.logLevel=K.VERBOSE,Vn=Or.log.bind(Or),t&&Tu.set("logging_enabled",!0)):typeof e=="function"?Vn=e:(Vn=null,Tu.remove("logging_enabled"))},Oe=function(...e){if(rh===!0&&(rh=!1,Vn===null&&Tu.get("logging_enabled")===!0&&yT(!0)),Vn){const t=ps.apply(null,e);Vn(t)}},ms=function(e){return function(...t){Oe(e,...t)}},Au=function(...e){const t="FIREBASE INTERNAL ERROR: "+ps(...e);Or.error(t)},Qt=function(...e){const t=`FIREBASE FATAL ERROR: ${ps(...e)}`;throw Or.error(t),new Error(t)},Ye=function(...e){const t="FIREBASE WARNING: "+ps(...e);Or.warn(t)},vT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Q_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ET=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wr="[MIN_NAME]",qn="[MAX_NAME]",Xr=function(e,t){if(e===t)return 0;if(e===Wr||t===qn)return-1;if(t===Wr||e===qn)return 1;{const n=ih(e),r=ih(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},ST=function(e,t){return e===t?0:e<t?-1:1},ui=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+we(t))},Wc=function(e){if(typeof e!="object"||e===null)return we(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=we(t[r]),n+=":",n+=Wc(e[t[r]]);return n+="}",n},X_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ct(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const J_=function(e){C(!Q_(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},wT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},TT=new RegExp("^-?(0*)\\d{1,10}$"),AT=-2147483648,CT=2147483647,ih=function(e){if(TT.test(e)){const t=Number(e);if(t>=AT&&t<=CT)return t}return null},Jr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ye("Exception was thrown by user callback.",n),t},Math.floor(0))}},NT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ri=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(t)}}class kr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}kr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="5",Z_="v",ey="s",ty="r",ny="f",ry=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iy="ls",sy="p",Cu="ac",oy="websocket",ly="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Un.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Un.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function OT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function uy(e,t,n){C(typeof t=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(t===oy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ly)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);OT(e)&&(n.ns=e.namespace);const i=[];return ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.counters_={}}incrementCounter(t,n=1){Zt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return jw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={},sa={};function Gc(e){const t=e.toString();return ia[t]||(ia[t]=new kT),ia[t]}function DT(e,t){const n=e.toString();return sa[n]||(sa[n]=t()),sa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="start",LT="close",bT="pLPCommand",MT="pRTLPCB",cy="id",dy="pw",fy="ser",UT="cb",FT="seg",jT="ts",BT="d",HT="dframe",hy=1870,py=30,$T=hy-py,VT=25e3,WT=3e4;class wr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ms(t),this.stats_=Gc(n),this.urlFn=a=>(this.appCheckToken&&(a[Cu]=this.appCheckToken),uy(n,ly,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WT)),ET(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sh)this.id=l,this.password=a;else if(o===LT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[sh]="t",r[fy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[UT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Z_]=zc,this.transportSessionId&&(r[ey]=this.transportSessionId),this.lastSessionId&&(r[iy]=this.lastSessionId),this.applicationId&&(r[sy]=this.applicationId),this.appCheckToken&&(r[Cu]=this.appCheckToken),typeof location<"u"&&location.hostname&&ry.test(location.hostname)&&(r[ty]=ny);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wr.forceAllow_=!0}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){return wr.forceAllow_?!0:!wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wT()&&!IT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=we(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=k_(n),i=X_(r,$T);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[HT]="t",r[cy]=t,r[dy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=we(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Kc{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_T(),window[bT+this.uniqueCallbackIdentifier]=t,window[MT+this.uniqueCallbackIdentifier]=n,this.myIFrame=Kc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Oe("frame writing exception"),l.stack&&Oe(l.stack),Oe(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Oe("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[cy]=this.myID,t[dy]=this.myPW,t[fy]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+py+r.length<=hy;){const o=this.pendingSegs.shift();r=r+"&"+FT+i+"="+o.seg+"&"+jT+i+"="+o.ts+"&"+BT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(VT)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Oe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=16384,GT=45e3;let ko=null;typeof MozWebSocket<"u"?ko=MozWebSocket:typeof WebSocket<"u"&&(ko=WebSocket);class vt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ms(this.connId),this.stats_=Gc(n),this.connURL=vt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Z_]=zc,typeof location<"u"&&location.hostname&&ry.test(location.hostname)&&(o[ty]=ny),n&&(o[ey]=n),r&&(o[iy]=r),i&&(o[Cu]=i),s&&(o[sy]=s),uy(t,oy,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Un.set("previous_websocket_failure",!0);try{let r;M_(),this.mySock=new ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){vt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&ko!==null&&!vt.forceDisallow_}static previouslyFailed(){return Un.isInMemoryStorage||Un.get("previous_websocket_failure")===!0}markConnectionHealthy(){Un.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ji(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(C(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=we(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=X_(n,zT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vt.responsesRequiredToBeHealthy=2;vt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wr,vt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=vt&&vt.isAvailable();let r=n&&!vt.previouslyFailed();if(t.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vt];else{const i=this.transports_=[];for(const s of es.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);es.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}es.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=6e4,YT=5e3,qT=10*1024,QT=100*1024,oa="t",oh="d",XT="s",lh="r",JT="e",ah="o",uh="a",ch="n",dh="p",ZT="h";class eA{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ms("c:"+this.id+":"),this.transportManager_=new es(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ri(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(oa in t){const n=t[oa];n===uh?this.upgradeIfSecondaryHealthy_():n===lh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ah&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ch,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ui(oa,t);if(oh in t){const r=t[oh];if(n===ZT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ch){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XT?this.onConnectionShutdown_(r):n===lh?this.onReset_(r):n===JT?Au("Server Error: "+r):n===ah?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Au("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zc!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ri(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ri(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Un.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends gy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Do}getInitialEvent(t){return C(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=32,hh=768;class Z{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function G(){return new Z("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Tn(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z(e.pieces_,t)}function _y(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function tA(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function yy(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function vy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z(t,0)}function fe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function ot(e,t){const n=U(e),r=U(t);if(n===null)return t;if(n===r)return ot(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ey(e,t){if(Tn(e)!==Tn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Tn(e)>Tn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class nA{constructor(t,n){this.errorPrefix_=n,this.parts_=yy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=dl(this.parts_[r]);Sy(this)}}function rA(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=dl(t),Sy(e)}function iA(e){const t=e.parts_.pop();e.byteLength_-=dl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Sy(e){if(e.byteLength_>hh)throw new Error(e.errorPrefix_+"has a key path longer than "+hh+" bytes ("+e.byteLength_+").");if(e.parts_.length>fh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fh+") or object contains a cycle "+kn(e))}function kn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends gy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Yc}getInitialEvent(t){return C(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=1e3,sA=60*5*1e3,ph=30*1e3,oA=1.3,lA=3e4,aA="server_kill",mh=3;class Vt extends my{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Vt.nextPersistentConnectionId_++,this.log_=ms("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ci,this.maxReconnectDelay_=sA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!M_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Do.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(we(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new ul,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Vt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Zt(t,"w")){const r=Vr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||tI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ph)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=eI(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+we(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Au("Unrecognized action received from server: "+we(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lA&&(this.reconnectDelay_=ci),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Vt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new eA(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Ye(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(aA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ye(d),a())}}}interrupt(t){Oe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Oe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],zf(this.interruptReasons_)&&(this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Wc(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Z(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Oe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mh&&(this.reconnectDelay_=ph,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Oe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+K_.replace(/\./g,"-")]=1,b_()?t["framework.cordova"]=1:qw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Do.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&t}}Vt.nextPersistentConnectionId_=0;Vt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new j(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new j(Wr,t),i=new j(Wr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms;class wy extends pl{static get __EMPTY_NODE(){return Ms}static set __EMPTY_NODE(t){Ms=t}compare(t,n){return Xr(t.name,n.name)}isDefinedOn(t){throw qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(qn,Ms)}makePost(t,n){return C(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,Ms)}toString(){return".key"}}const Dr=new wy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class _e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??_e.RED,this.left=i??We.EMPTY_NODE,this.right=s??We.EMPTY_NODE}copy(t,n,r,i,s){return new _e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return We.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class uA{copy(t,n,r,i,s){return this}insert(t,n,r){return new _e(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(t,n=We.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new We(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(t){return new We(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Us(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Us(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Us(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Us(this.root_,null,this.comparator_,!0,t)}}We.EMPTY_NODE=new uA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(e,t){return Xr(e.name,t.name)}function qc(e,t){return Xr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;function dA(e){Nu=e}const Iy=function(e){return typeof e=="number"?"number:"+J_(e):"string:"+e},Ty=function(e){if(e.isLeafNode()){const t=e.val();C(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Zt(t,".sv"),"Priority must be a string or number.")}else C(e===Nu||e.isEmpty(),"priority of unexpected type.");C(e===Nu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;class me{constructor(t,n=me.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ty(this.priorityNode_)}static set __childrenNodeConstructor(t){gh=t}static get __childrenNodeConstructor(){return gh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new me(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:U(t)===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=U(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(C(r!==".priority"||Tn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,me.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Iy(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=J_(this.value_):t+=this.value_,this.lazyHash_=q_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===me.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof me.__childrenNodeConstructor?-1:(C(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=me.VALUE_TYPE_ORDER.indexOf(n),s=me.VALUE_TYPE_ORDER.indexOf(r);return C(i>=0,"Unknown leaf type: "+n),C(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay,Cy;function fA(e){Ay=e}function hA(e){Cy=e}class pA extends pl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Xr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(qn,new me("[PRIORITY-POST]",Cy))}makePost(t,n){const r=Ay(t);return new j(n,new me("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new pA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=Math.log(2);class gA{constructor(t){const n=s=>parseInt(Math.log(s)/mA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Po=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new _e(f,d.node,_e.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),E=i(g+1,u);return d=e[g],f=n?n(d):d,new _e(f,d.node,_e.BLACK,_,E)}},s=function(a){let u=null,c=null,d=e.length;const f=function(_,E){const v=d-_,m=d;d-=_;const h=i(v+1,m),y=e[v],S=n?n(y):y;g(new _e(S,y.node,E,null,h))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),v=Math.pow(2,a.count-(_+1));E?f(v,_e.BLACK):(f(v,_e.BLACK),f(v,_e.RED))}return c},o=new gA(e.length),l=s(o);return new We(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const ar={};class Bt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return C(ar&&ke,"ChildrenNode.ts has not been loaded"),la=la||new Bt({".priority":ar},{".priority":ke}),la}get(t){const n=Vr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof We?n:null}hasIndex(t){return Zt(this.indexSet_,t.toString())}addIndex(t,n){C(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Po(r,t.getCompare()):l=ar;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new Bt(c,u)}addToIndexes(t,n){const r=Ro(this.indexes_,(i,s)=>{const o=Vr(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===ar)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Po(l,o.getCompare())}else return ar;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new j(t.name,l))),a.insert(t,t.node)}});return new Bt(r,this.indexSet_)}removeFromIndexes(t,n){const r=Ro(this.indexes_,i=>{if(i===ar)return i;{const s=n.get(t.name);return s?i.remove(new j(t.name,s)):i}});return new Bt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class V{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ty(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return di||(di=new V(new We(qc),null,Bt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||di}updatePriority(t){return this.children_.isEmpty()?this:new V(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?di:n}}getChild(t){const n=U(t);return n===null?this:this.getImmediateChild(n).getChild(X(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(C(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new j(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?di:this.priorityNode_;return new V(i,o,s)}}updateChild(t,n){const r=U(t);if(r===null)return n;{C(U(t)!==".priority"||Tn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(X(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,l)=>{n[o]=l.val(t),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Iy(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":q_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new j(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new j(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gs?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _A extends V{constructor(){super(new We(qc),V.EMPTY_NODE,Bt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}}const gs=new _A;Object.defineProperties(j,{MIN:{value:new j(Wr,V.EMPTY_NODE)},MAX:{value:new j(qn,gs)}});wy.__EMPTY_NODE=V.EMPTY_NODE;me.__childrenNodeConstructor=V;dA(gs);hA(gs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=!0;function Se(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),C(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new me(n,Se(t))}if(!(e instanceof Array)&&yA){const n=[];let r=!1;if(ct(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=Se(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return V.EMPTY_NODE;const s=Po(n,cA,o=>o.name,qc);if(r){const o=Po(n,ke.getCompare());return new V(s,Se(t),new Bt({".priority":o},{".priority":ke}))}else return new V(s,Se(t),Bt.Default)}else{let n=V.EMPTY_NODE;return ct(e,(r,i)=>{if(Zt(e,r)&&r.substring(0,1)!=="."){const s=Se(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Se(t))}}fA(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends pl{constructor(t){super(),this.indexPath_=t,C(!F(t)&&U(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Xr(t.name,n.name):s}makePost(t,n){const r=Se(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const t=V.EMPTY_NODE.updateChild(this.indexPath_,gs);return new j(qn,t)}toString(){return yy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends pl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Xr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){const r=Se(t);return new j(n,r)}toString(){return".value"}}const SA=new EA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(e){return{type:"value",snapshotNode:e}}function IA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function TA(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _h(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function AA(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wr}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const t=new Qc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function yh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ke?n="$priority":e.index_===SA?n="$value":e.index_===Dr?n="$key":(C(e.index_ instanceof vA,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=we(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=we(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+we(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=we(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+we(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function vh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ke&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends my{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ms("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Lo.getListenId_(t,r),l={};this.listens_[o]=l;const a=yh(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Vr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Lo.getListenId_(t,n);delete this.listens_[r]}get(t){const n=yh(t._queryParams),r=t._path.toString(),i=new ul;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+nI(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ji(l.responseText)}catch{Ye("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return{value:null,children:new Map}}function Ny(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=U(t);e.children.has(r)||e.children.set(r,bo());const i=e.children.get(r);t=X(t),Ny(i,t,n)}}function xu(e,t,n){e.value!==null?n(t,e.value):NA(e,(r,i)=>{const s=new Z(t.toString()+"/"+r);xu(i,s,n)})}function NA(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=10*1e3,RA=30*1e3,OA=5*60*1e3;class kA{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xA(t);const r=Eh+(RA-Eh)*Math.random();Ri(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ct(t,(i,s)=>{s>0&&Zt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ri(this.reportStats_.bind(this),Math.floor(Math.random()*2*OA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kt||(kt={}));function xy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ry(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oy(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=kt.ACK_USER_WRITE,this.source=xy()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(t));return new Mo(G(),n,this.revert)}}else return C(U(this.path)===t,"operationForChild called for unrelated child."),new Mo(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=kt.OVERWRITE}operationForChild(t){return F(this.path)?new Qn(this.source,G(),this.snap.getImmediateChild(t)):new Qn(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=kt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new Z(t));return n.isEmpty()?null:n.value?new Qn(this.source,G(),n.value):new ts(this.source,G(),n)}else return C(U(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ts(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=U(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function DA(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(AA(o.childName,o.snapshotNode))}),fi(e,i,"child_removed",t,r,n),fi(e,i,"child_added",t,r,n),fi(e,i,"child_moved",s,r,n),fi(e,i,"child_changed",t,r,n),fi(e,i,"value",t,r,n),i}function fi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>LA(e,l,a)),o.forEach(l=>{const a=PA(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function PA(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function LA(e,t,n){if(t.childName==null||n.childName==null)throw qr("Should only compare child_ events.");const r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){return{eventCache:e,serverCache:t}}function Oi(e,t,n,r){return ky(new Xc(t,n,r),e.serverCache)}function Dy(e,t,n,r){return ky(e.eventCache,new Xc(t,n,r))}function Ru(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;const bA=()=>(aa||(aa=new We(ST)),aa);class Q{constructor(t,n=bA()){this.value=t,this.children=n}static fromObject(t){let n=new Q(null);return ct(t,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(F(t))return null;{const r=U(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(X(t),n);return s!=null?{path:fe(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=U(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new Q(null)}}set(t,n){if(F(t))return new Q(n,this.children);{const r=U(t),s=(this.children.get(r)||new Q(null)).set(X(t),n),o=this.children.insert(r,s);return new Q(this.value,o)}}remove(t){if(F(t))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const n=U(t),r=this.children.get(n);if(r){const i=r.remove(X(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Q(null):new Q(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=U(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(F(t))return n;{const r=U(t),s=(this.children.get(r)||new Q(null)).setTree(X(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Q(this.value,o)}}fold(t){return this.fold_(G(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,G(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(t))return null;{const s=U(t),o=this.children.get(s);return o?o.findOnPath_(X(t),fe(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,G(),n)}foreachOnPath_(t,n,r){if(F(t))return this;{this.value&&r(n,this.value);const i=U(t),s=this.children.get(i);return s?s.foreachOnPath_(X(t),fe(n,i),r):new Q(null)}}foreach(t){this.foreach_(G(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.writeTree_=t}static empty(){return new It(new Q(null))}}function ki(e,t,n){if(F(t))return new It(new Q(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=ot(i,t);return s=s.updateChild(o,n),new It(e.writeTree_.set(i,s))}else{const i=new Q(n),s=e.writeTree_.setTree(t,i);return new It(s)}}}function Sh(e,t,n){let r=e;return ct(n,(i,s)=>{r=ki(r,fe(t,i),s)}),r}function wh(e,t){if(F(t))return It.empty();{const n=e.writeTree_.setTree(t,new Q(null));return new It(n)}}function Ou(e,t){return sr(e,t)!=null}function sr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ot(n.path,t)):null}function Ih(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function vn(e,t){if(F(t))return e;{const n=sr(e,t);return n!=null?new It(new Q(n)):new It(e.writeTree_.subtree(t))}}function ku(e){return e.writeTree_.isEmpty()}function zr(e,t){return Py(G(),e.writeTree_,t)}function Py(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(C(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Py(fe(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(fe(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e,t){return jy(t,e)}function MA(e,t,n,r,i){C(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ki(e.visibleWrites,t,n)),e.lastWriteId=r}function UA(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function FA(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&jA(l,r.path)?i=!1:Et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return BA(e),!0;if(r.snap)e.visibleWrites=wh(e.visibleWrites,r.path);else{const l=r.children;ct(l,a=>{e.visibleWrites=wh(e.visibleWrites,fe(r.path,a))})}return!0}else return!1}function jA(e,t){if(e.snap)return Et(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Et(fe(e.path,n),t))return!0;return!1}function BA(e){e.visibleWrites=by(e.allWrites,HA,G()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function HA(e){return e.visible}function by(e,t,n){let r=It.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Et(n,o)?(l=ot(n,o),r=ki(r,l,s.snap)):Et(o,n)&&(l=ot(o,n),r=ki(r,G(),s.snap.getChild(l)));else if(s.children){if(Et(n,o))l=ot(n,o),r=Sh(r,l,s.children);else if(Et(o,n))if(l=ot(o,n),F(l))r=Sh(r,G(),s.children);else{const a=Vr(s.children,U(l));if(a){const u=a.getChild(X(l));r=ki(r,G(),u)}}}else throw qr("WriteRecord should have .snap or .children")}}return r}function My(e,t,n,r,i){if(!r&&!i){const s=sr(e.visibleWrites,t);if(s!=null)return s;{const o=vn(e.visibleWrites,t);if(ku(o))return n;if(n==null&&!Ou(o,G()))return null;{const l=n||V.EMPTY_NODE;return zr(o,l)}}}else{const s=vn(e.visibleWrites,t);if(!i&&ku(s))return n;if(!i&&n==null&&!Ou(s,G()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Et(u.path,t)||Et(t,u.path))},l=by(e.allWrites,o,t),a=n||V.EMPTY_NODE;return zr(l,a)}}}function $A(e,t,n){let r=V.EMPTY_NODE;const i=sr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=vn(e.visibleWrites,t);return n.forEachChild(ke,(o,l)=>{const a=zr(vn(s,new Z(o)),l);r=r.updateImmediateChild(o,a)}),Ih(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=vn(e.visibleWrites,t);return Ih(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function VA(e,t,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=fe(t,n);if(Ou(e.visibleWrites,s))return null;{const o=vn(e.visibleWrites,s);return ku(o)?i.getChild(n):zr(o,i.getChild(n))}}function WA(e,t,n,r){const i=fe(t,n),s=sr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=vn(e.visibleWrites,i);return zr(o,r.getNode().getImmediateChild(n))}else return null}function zA(e,t){return sr(e.visibleWrites,t)}function GA(e,t,n,r,i,s,o){let l;const a=vn(e.visibleWrites,t),u=sr(a,G());if(u!=null)l=u;else if(n!=null)l=zr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function KA(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function Du(e,t,n,r){return My(e.writeTree,e.treePath,t,n,r)}function Uy(e,t){return $A(e.writeTree,e.treePath,t)}function Th(e,t,n,r){return VA(e.writeTree,e.treePath,t,n,r)}function Uo(e,t){return zA(e.writeTree,fe(e.treePath,t))}function YA(e,t,n,r,i,s){return GA(e.writeTree,e.treePath,t,n,r,i,s)}function Jc(e,t,n){return WA(e.writeTree,e.treePath,t,n)}function Fy(e,t){return jy(fe(e.treePath,t),e.writeTree)}function jy(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,_h(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,TA(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,IA(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,_h(r,t.snapshotNode,i.oldSnap));else throw qr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const By=new QA;class Zc{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Xc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jc(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xn(this.viewCache_),s=YA(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}function XA(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function JA(e,t,n,r,i){const s=new qA;let o,l;if(n.type===kt.OVERWRITE){const u=n;u.source.fromUser?o=Pu(e,t,u.path,u.snap,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!F(u.path),o=Fo(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===kt.MERGE){const u=n;u.source.fromUser?o=eC(e,t,u.path,u.children,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=Lu(e,t,u.path,u.children,r,i,l,s))}else if(n.type===kt.ACK_USER_WRITE){const u=n;u.revert?o=rC(e,t,u.path,r,i,s):o=tC(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===kt.LISTEN_COMPLETE)o=nC(e,t,n.path,r,s);else throw qr("Unknown operation type: "+n.type);const a=s.getChanges();return ZA(t,o,a),{viewCache:o,changes:a}}function ZA(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ru(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wA(Ru(t)))}}function Hy(e,t,n,r,i,s){const o=t.eventCache;if(Uo(r,n)!=null)return t;{let l,a;if(F(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Xn(t),c=u instanceof V?u:V.EMPTY_NODE,d=Uy(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Du(r,Xn(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=U(n);if(u===".priority"){C(Tn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=Th(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=X(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=Th(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Jc(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return Oi(t,l,o.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function Fo(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(F(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=U(n);if(!a.isCompleteForPath(n)&&Tn(n)>1)return t;const _=X(n),v=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),v):u=c.updateChild(a.getNode(),g,v,_,By,null)}const d=Dy(t,u,a.isFullyInitialized()||F(n),c.filtersNodes()),f=new Zc(i,d,s);return Hy(e,d,n,i,f,l)}function Pu(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Zc(i,t,s);if(F(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Oi(t,u,!0,e.filter.filtersNodes());else{const d=U(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Oi(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=X(n),g=l.getNode().getImmediateChild(d);let _;if(F(f))_=r;else{const E=c.getCompleteChild(d);E!=null?_y(f)===".priority"&&E.getChild(vy(f)).isEmpty()?_=E:_=E.updateChild(f,r):_=V.EMPTY_NODE}if(g.equals(_))a=t;else{const E=e.filter.updateChild(l.getNode(),d,_,f,c,o);a=Oi(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Ah(e,t){return e.eventCache.isCompleteForChild(t)}function eC(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=fe(n,a);Ah(t,U(c))&&(l=Pu(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=fe(n,a);Ah(t,U(c))||(l=Pu(e,l,c,u,i,s,o))}),l}function Ch(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Lu(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;F(n)?u=r:u=new Q(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=t.serverCache.getNode().getImmediateChild(d),_=Ch(e,g,f);a=Fo(e,a,new Z(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const g=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const _=t.serverCache.getNode().getImmediateChild(d),E=Ch(e,_,f);a=Fo(e,a,new Z(d),E,i,s,o,l)}}),a}function tC(e,t,n,r,i,s,o){if(Uo(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Fo(e,t,n,a.getNode().getChild(n),i,s,l,o);if(F(n)){let u=new Q(null);return a.getNode().forEachChild(Dr,(c,d)=>{u=u.set(new Z(c),d)}),Lu(e,t,n,u,i,s,l,o)}else return t}else{let u=new Q(null);return r.foreach((c,d)=>{const f=fe(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),Lu(e,t,n,u,i,s,l,o)}}function nC(e,t,n,r,i){const s=t.serverCache,o=Dy(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return Hy(e,o,n,r,By,i)}function rC(e,t,n,r,i,s){let o;if(Uo(r,n)!=null)return t;{const l=new Zc(r,t,i),a=t.eventCache.getNode();let u;if(F(n)||U(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Du(r,Xn(t));else{const d=t.serverCache.getNode();C(d instanceof V,"serverChildren would be complete if leaf node"),c=Uy(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=U(n);let d=Jc(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,X(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,V.EMPTY_NODE,X(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Du(r,Xn(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Uo(r,G())!=null,Oi(t,u,o,e.filter.filtersNodes())}}function iC(e,t){const n=Xn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(U(t)).isEmpty())?n.getChild(t):null}function Nh(e,t,n,r){t.type===kt.MERGE&&t.source.queryId!==null&&(C(Xn(e.viewCache_),"We should always have a full cache before handling merges"),C(Ru(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=JA(e.processor_,i,t,n,r);return XA(e.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,sC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function sC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return DA(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function oC(e){C(!xh,"__referenceConstructor has already been defined"),xh=e}function ed(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return C(s!=null,"SyncTree gave us an op for an invalid query."),Nh(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Nh(o,t,n,r));return s}}function td(e,t){let n=null;for(const r of e.views.values())n=n||iC(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;function lC(e){C(!Rh,"__referenceConstructor has already been defined"),Rh=e}class Oh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Q(null),this.pendingWriteTree_=KA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $y(e,t,n,r,i){return MA(e.pendingWriteTree_,t,n,r,i),i?gl(e,new Qn(xy(),t,n)):[]}function Fn(e,t,n=!1){const r=UA(e.pendingWriteTree_,t);if(FA(e.pendingWriteTree_,t)){let s=new Q(null);return r.snap!=null?s=s.set(G(),!0):ct(r.children,o=>{s=s.set(new Z(o),!0)}),gl(e,new Mo(r.path,s,n))}else return[]}function ml(e,t,n){return gl(e,new Qn(Ry(),t,n))}function aC(e,t,n){const r=Q.fromObject(n);return gl(e,new ts(Ry(),t,r))}function uC(e,t,n,r){const i=zy(e,r);if(i!=null){const s=Gy(i),o=s.path,l=s.queryId,a=ot(o,t),u=new Qn(Oy(l),a,n);return Ky(e,o,u)}else return[]}function cC(e,t,n,r){const i=zy(e,r);if(i){const s=Gy(i),o=s.path,l=s.queryId,a=ot(o,t),u=Q.fromObject(n),c=new ts(Oy(l),a,u);return Ky(e,o,c)}else return[]}function nd(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=ot(o,t),u=td(l,a);if(u)return u});return My(i,t,s,n,!0)}function gl(e,t){return Vy(t,e.syncPointTree_,null,Ly(e.pendingWriteTree_,G()))}function Vy(e,t,n,r){if(F(e.path))return Wy(e,t,n,r);{const i=t.get(G());n==null&&i!=null&&(n=td(i,G()));let s=[];const o=U(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=Fy(r,o);s=s.concat(Vy(l,a,u,c))}return i&&(s=s.concat(ed(i,e,r,n))),s}}function Wy(e,t,n,r){const i=t.get(G());n==null&&i!=null&&(n=td(i,G()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Fy(r,o),c=e.operationForChild(o);c&&(s=s.concat(Wy(c,l,a,u)))}),i&&(s=s.concat(ed(i,e,r,n))),s}function zy(e,t){return e.tagToQueryMap.get(t)}function Gy(e){const t=e.indexOf("$");return C(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z(e.substr(0,t))}}function Ky(e,t,n){const r=e.syncPointTree_.get(t);C(r,"Missing sync point for query tag that we're tracking");const i=Ly(e.pendingWriteTree_,t);return ed(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rd(n)}node(){return this.node_}}class id{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=fe(this.path_,t);return new id(this.syncTree_,n)}node(){return nd(this.syncTree_,this.path_)}}const dC=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},kh=function(e,t,n){if(!e||typeof e!="object")return e;if(C(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return fC(e[".sv"],t,n);if(typeof e[".sv"]=="object")return hC(e[".sv"],t);C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},fC=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+e)}},hC=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);const i=t.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},pC=function(e,t,n,r){return sd(t,new id(n,e),r)},Yy=function(e,t,n){return sd(e,new rd(t),n)};function sd(e,t,n){const r=e.getPriority().val(),i=kh(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=kh(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new me(l,Se(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new me(i))),o.forEachChild(ke,(l,a)=>{const u=sd(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function ld(e,t){let n=t instanceof Z?t:new Z(t),r=e,i=U(n);for(;i!==null;){const s=Vr(r.node.children,i)||{children:{},childCount:0};r=new od(i,r,s),n=X(n),i=U(n)}return r}function Zr(e){return e.node.value}function qy(e,t){e.node.value=t,bu(e)}function Qy(e){return e.node.childCount>0}function mC(e){return Zr(e)===void 0&&!Qy(e)}function _l(e,t){ct(e.node.children,(n,r)=>{t(new od(n,e,r))})}function Xy(e,t,n,r){n&&!r&&t(e),_l(e,i=>{Xy(i,t,!0,r)}),n&&r&&t(e)}function gC(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function _s(e){return new Z(e.parent===null?e.name:_s(e.parent)+"/"+e.name)}function bu(e){e.parent!==null&&_C(e.parent,e.name,e)}function _C(e,t,n){const r=mC(n),i=Zt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bu(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,bu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/[\[\].#$\/\u0000-\u001F\u007F]/,vC=/[\[\].#$\u0000-\u001F\u007F]/,ua=10*1024*1024,Jy=function(e){return typeof e=="string"&&e.length!==0&&!yC.test(e)},Zy=function(e){return typeof e=="string"&&e.length!==0&&!vC.test(e)},EC=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zy(e)},SC=function(e,t,n,r){r&&t===void 0||ad($c(e,"value"),t,n)},ad=function(e,t,n){const r=n instanceof Z?new nA(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+kn(r));if(typeof t=="function")throw new Error(e+"contains a function "+kn(r)+" with contents = "+t.toString());if(Q_(t))throw new Error(e+"contains "+t.toString()+" "+kn(r));if(typeof t=="string"&&t.length>ua/3&&dl(t)>ua)throw new Error(e+"contains a string greater than "+ua+" utf8 bytes "+kn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(ct(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Jy(o)))throw new Error(e+" contains an invalid key ("+o+") "+kn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rA(r,o),ad(e,l,r),iA(r)}),i&&s)throw new Error(e+' contains ".value" child '+kn(r)+" in addition to actual children.")}},ev=function(e,t,n,r){if(!(r&&n===void 0)&&!Zy(n))throw new Error($c(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wC=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ev(e,t,n,r)},IC=function(e,t){if(U(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},TC=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Jy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!EC(n))throw new Error($c(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tv(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Ey(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Xt(e,t,n){tv(e,n),CC(e,r=>Et(r,t)||Et(t,r))}function CC(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(NC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function NC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Vn&&Oe("event: "+n.toString()),Jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="repo_interrupt",RC=25;class OC{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bo(),this.transactionQueueTree_=new od,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kC(e,t,n){if(e.stats_=Gc(e.repoInfo_),e.forceRestClient_||NT())e.server_=new Lo(e.repoInfo_,(r,i,s,o)=>{Dh(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ph(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Vt(e.repoInfo_,t,(r,i,s,o)=>{Dh(e,r,i,s,o)},r=>{Ph(e,r)},r=>{PC(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=DT(e.repoInfo_,()=>new kA(e.stats_,e.server_)),e.infoData_=new CA,e.infoSyncTree_=new Oh({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=ml(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),cd(e,"connected",!1),e.serverSyncTree_=new Oh({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Xt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function DC(e){const n=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ud(e){return dC({timestamp:DC(e)})}function Dh(e,t,n,r,i){e.dataUpdateCount++;const s=new Z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Ro(n,u=>Se(u));o=cC(e.serverSyncTree_,s,a,i)}else{const a=Se(n);o=uC(e.serverSyncTree_,s,a,i)}else if(r){const a=Ro(n,u=>Se(u));o=aC(e.serverSyncTree_,s,a)}else{const a=Se(n);o=ml(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=yl(e,s)),Xt(e.eventQueue_,l,o)}function Ph(e,t){cd(e,"connected",t),t===!1&&bC(e)}function PC(e,t){ct(t,(n,r)=>{cd(e,n,r)})}function cd(e,t,n){const r=new Z("/.info/"+t),i=Se(n);e.infoData_.updateSnapshot(r,i);const s=ml(e.infoSyncTree_,r,i);Xt(e.eventQueue_,r,s)}function nv(e){return e.nextWriteId_++}function LC(e,t,n,r,i){dd(e,"set",{path:t.toString(),value:n,priority:r});const s=ud(e),o=Se(n,r),l=nd(e.serverSyncTree_,t),a=Yy(o,l,s),u=nv(e),c=$y(e.serverSyncTree_,t,a,u,!0);tv(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||Ye("set at "+t+" failed: "+f);const E=Fn(e.serverSyncTree_,u,!_);Xt(e.eventQueue_,t,E),UC(e,i,f,g)});const d=lv(e,t);yl(e,d),Xt(e.eventQueue_,d,[])}function bC(e){dd(e,"onDisconnectEvents");const t=ud(e),n=bo();xu(e.onDisconnect_,G(),(i,s)=>{const o=pC(i,s,e.serverSyncTree_,t);Ny(n,i,o)});let r=[];xu(n,G(),(i,s)=>{r=r.concat(ml(e.serverSyncTree_,i,s));const o=lv(e,i);yl(e,o)}),e.onDisconnect_=bo(),Xt(e.eventQueue_,G(),r)}function MC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(xC)}function dd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Oe(n,...t)}function UC(e,t,n,r){t&&Jr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function rv(e,t,n){return nd(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function fd(e,t=e.transactionQueueTree_){if(t||vl(e,t),Zr(t)){const n=sv(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&FC(e,_s(t),n)}else Qy(t)&&_l(t,n=>{fd(e,n)})}function FC(e,t,n){const r=n.map(u=>u.currentWriteId),i=rv(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];C(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ot(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{dd(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Fn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();vl(e,ld(e.transactionQueueTree_,t)),fd(e,e.transactionQueueTree_),Xt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Jr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}yl(e,t)}},o)}function yl(e,t){const n=iv(e,t),r=_s(n),i=sv(e,n);return jC(e,i,r),r}function jC(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=ot(n,a.path);let c=!1,d;if(C(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Fn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=RC)c=!0,d="maxretry",i=i.concat(Fn(e.serverSyncTree_,a.currentWriteId,!0));else{const f=rv(e,a.path,o);a.currentInputSnapshot=f;const g=t[l].update(f.val());if(g!==void 0){ad("transaction failed: Data returned ",g,a.path);let _=Se(g);typeof g=="object"&&g!=null&&Zt(g,".priority")||(_=_.updatePriority(f.getPriority()));const v=a.currentWriteId,m=ud(e),h=Yy(_,f,m);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=nv(e),o.splice(o.indexOf(v),1),i=i.concat($y(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Fn(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Fn(e.serverSyncTree_,a.currentWriteId,!0))}Xt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}vl(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Jr(r[l]);fd(e,e.transactionQueueTree_)}function iv(e,t){let n,r=e.transactionQueueTree_;for(n=U(t);n!==null&&Zr(r)===void 0;)r=ld(r,n),t=X(t),n=U(t);return r}function sv(e,t){const n=[];return ov(e,t,n),n.sort((r,i)=>r.order-i.order),n}function ov(e,t,n){const r=Zr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_l(t,i=>{ov(e,i,n)})}function vl(e,t){const n=Zr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qy(t,n.length>0?n:void 0)}_l(t,r=>{vl(e,r)})}function lv(e,t){const n=_s(iv(e,t)),r=ld(e.transactionQueueTree_,t);return gC(r,i=>{ca(e,i)}),ca(e,r),Xy(r,i=>{ca(e,i)}),n}function ca(e,t){const n=Zr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?qy(t,void 0):n.length=s+1,Xt(e.eventQueue_,_s(t),i);for(let o=0;o<r.length;o++)Jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function HC(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${e}'`)}return t}const Lh=function(e,t){const n=$C(e),r=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ay(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z(n.pathString)}},$C=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=BC(e.substring(c,d)));const f=HC(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:_y(this._path)}get ref(){return new or(this._repo,this._path)}get _queryIdentifier(){const t=vh(this._queryParams),n=Wc(t);return n==="{}"?"default":n}get _queryObject(){return vh(this._queryParams)}isEqual(t){if(t=ir(t),!(t instanceof hd))return!1;const n=this._repo===t._repo,r=Ey(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tA(this._path)}}class or extends hd{constructor(t,n){super(t,n,new Qc,!1)}get parent(){const t=vy(this._path);return t===null?null:new or(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function VC(e,t){return e=ir(e),e._checkNotDeleted("ref"),t!==void 0?WC(e._root,t):e._root}function WC(e,t){return e=ir(e),U(e._path)===null?wC("child","path",t,!1):ev("child","path",t,!1),new or(e._repo,fe(e._path,t))}function zC(e,t){e=ir(e),IC("set",e._path),SC("set",t,e._path,!1);const n=new ul;return LC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}oC(or);lC(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="FIREBASE_DATABASE_EMULATOR_HOST",Mu={};let KC=!1;function YC(e,t,n,r){e.repoInfo_=new ay(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function qC(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Lh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[GC]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Lh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new kr(kr.OWNER):new RT(e.name,e.options,t);TC("Invalid Firebase Database URL",o),F(o.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=XC(l,e,c,new xT(e.name,n));return new JC(d,e)}function QC(e,t){const n=Mu[t];(!n||n[e.key]!==e)&&Qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),MC(e),delete n[e.key]}function XC(e,t,n,r){let i=Mu[t.name];i||(i={},Mu[t.name]=i);let s=i[e.toURLString()];return s&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new OC(e,KC,n,r),i[e.toURLString()]=s,s}class JC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new or(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qt("Cannot call "+t+" on a deleted database.")}}function ZC(e=W_(),t){const n=hl(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Gw("database");r&&eN(n,...r)}return n}function eN(e,t,n,r={}){e=ir(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Qt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kr(kr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Kw(r.mockUserToken,e.app.options.projectId);s=new kr(o)}YC(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){pT(nT),In(new Yt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return qC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Lt(th,nh,e),Lt(th,nh,"esm2017")}Vt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Vt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};tN();const av="@firebase/installations",pd="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=1e4,cv=`w:${pd}`,dv="FIS_v2",nN="https://firebaseinstallations.googleapis.com/v1",rN=60*60*1e3,iN="installations",sN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jn=new cl(iN,sN,oN);function fv(e){return e instanceof Qr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv({projectId:e}){return`${nN}/projects/${e}/installations`}function pv(e){return{token:e.token,requestStatus:2,expiresIn:aN(e.expiresIn),creationTime:Date.now()}}async function mv(e,t){const r=(await t.json()).error;return Jn.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function lN(e,{refreshToken:t}){const n=gv(e);return n.append("Authorization",uN(t)),n}async function _v(e){const t=await e();return t.status>=500&&t.status<600?e():t}function aN(e){return Number(e.replace("s","000"))}function uN(e){return`${dv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=hv(e),i=gv(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:dv,appId:e.appId,sdkVersion:cv},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await _v(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:pv(u.authToken)}}else throw await mv("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^[cdef][\w-]{21}$/,Uu="";function hN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=pN(e);return fN.test(n)?n:Uu}catch{return Uu}}function pN(e){return dN(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function Ev(e,t){const n=El(e);Sv(n,t),mN(n,t)}function Sv(e,t){const n=vv.get(e);if(n)for(const r of n)r(t)}function mN(e,t){const n=gN();n&&n.postMessage({key:e,fid:t}),_N()}let jn=null;function gN(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=e=>{Sv(e.data.key,e.data.fid)}),jn}function _N(){vv.size===0&&jn&&(jn.close(),jn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-installations-database",vN=1,Zn="firebase-installations-store";let da=null;function md(){return da||(da=fl(yN,vN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zn)}}})),da}async function jo(e,t){const n=El(e),i=(await md()).transaction(Zn,"readwrite"),s=i.objectStore(Zn),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&Ev(e,t.fid),t}async function wv(e){const t=El(e),r=(await md()).transaction(Zn,"readwrite");await r.objectStore(Zn).delete(t),await r.done}async function Sl(e,t){const n=El(e),i=(await md()).transaction(Zn,"readwrite"),s=i.objectStore(Zn),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&Ev(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(e){let t;const n=await Sl(e.appConfig,r=>{const i=EN(r),s=SN(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Uu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function EN(e){const t=e||{fid:hN(),registrationStatus:0};return Iv(t)}function SN(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=wN(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:IN(e)}:{installationEntry:t}}async function wN(e,t){try{const n=await cN(e,t);return jo(e.appConfig,n)}catch(n){throw fv(n)&&n.customData.serverCode===409?await wv(e.appConfig):await jo(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function IN(e){let t=await bh(e.appConfig);for(;t.registrationStatus===1;)await yv(100),t=await bh(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gd(e);return r||n}return t}function bh(e){return Sl(e,t=>{if(!t)throw Jn.create("installation-not-found");return Iv(t)})}function Iv(e){return TN(e)?{fid:e.fid,registrationStatus:0}:e}function TN(e){return e.registrationStatus===1&&e.registrationTime+uv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN({appConfig:e,heartbeatServiceProvider:t},n){const r=CN(e,n),i=lN(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:cv,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await _v(()=>fetch(r,l));if(a.ok){const u=await a.json();return pv(u)}else throw await mv("Generate Auth Token",a)}function CN(e,{fid:t}){return`${hv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(e,t=!1){let n;const r=await Sl(e.appConfig,s=>{if(!Tv(s))throw Jn.create("not-registered");const o=s.authToken;if(!t&&RN(o))return s;if(o.requestStatus===1)return n=NN(e,t),s;{if(!navigator.onLine)throw Jn.create("app-offline");const l=kN(s);return n=xN(e,l),l}});return n?await n:r.authToken}async function NN(e,t){let n=await Mh(e.appConfig);for(;n.authToken.requestStatus===1;)await yv(100),n=await Mh(e.appConfig);const r=n.authToken;return r.requestStatus===0?_d(e,t):r}function Mh(e){return Sl(e,t=>{if(!Tv(t))throw Jn.create("not-registered");const n=t.authToken;return DN(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function xN(e,t){try{const n=await AN(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await jo(e.appConfig,r),n}catch(n){if(fv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wv(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await jo(e.appConfig,r)}throw n}}function Tv(e){return e!==void 0&&e.registrationStatus===2}function RN(e){return e.requestStatus===2&&!ON(e)}function ON(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+rN}function kN(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function DN(e){return e.requestStatus===1&&e.requestTime+uv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e){const t=e,{installationEntry:n,registrationPromise:r}=await gd(t);return r?r.catch(console.error):_d(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(e,t=!1){const n=e;return await bN(n),(await _d(n,t)).token}async function bN(e){const{registrationPromise:t}=await gd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){if(!e||!e.options)throw fa("App Configuration");if(!e.name)throw fa("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw fa(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function fa(e){return Jn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="installations",UN="installations-internal",FN=e=>{const t=e.getProvider("app").getImmediate(),n=MN(t),r=hl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jN=e=>{const t=e.getProvider("app").getImmediate(),n=hl(t,Av).getImmediate();return{getId:()=>PN(n),getToken:i=>LN(n,i)}};function BN(){In(new Yt(Av,FN,"PUBLIC")),In(new Yt(UN,jN,"PRIVATE"))}BN();Lt(av,pd);Lt(av,pd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="/firebase-messaging-sw.js",$N="/firebase-cloud-messaging-push-scope",Cv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",VN="https://fcmregistrations.googleapis.com/v1",Nv="google.c.a.c_id",WN="google.c.a.c_l",zN="google.c.a.ts",GN="google.c.a.e";var Uh;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Uh||(Uh={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ns;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ns||(ns={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function KN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="fcm_token_details_db",YN=5,Fh="fcm_token_object_Store";async function qN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(ha))return null;let t=null;return(await fl(ha,YN,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(Fh))return;const a=o.objectStore(Fh),u=await a.index("fcmSenderId").get(e);if(await a.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:(l=c.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Mt(c.vapidKey)}}}else if(i===3){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Mt(c.auth),p256dh:Mt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Mt(c.vapidKey)}}}else if(i===4){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Mt(c.auth),p256dh:Mt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Mt(c.vapidKey)}}}}}})).close(),await ta(ha),await ta("fcm_vapid_details_db"),await ta("undefined"),QN(t)?t:null}function QN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-messaging-database",JN=1,rs="firebase-messaging-store";let pa=null;function xv(){return pa||(pa=fl(XN,JN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(rs)}}})),pa}async function ZN(e){const t=Rv(e),r=await(await xv()).transaction(rs).objectStore(rs).get(t);if(r)return r;{const i=await qN(e.appConfig.senderId);if(i)return await yd(e,i),i}}async function yd(e,t){const n=Rv(e),i=(await xv()).transaction(rs,"readwrite");return await i.objectStore(rs).put(t,n),await i.done,t}function Rv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Fe=new cl("messaging","Messaging",ex);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(e,t){const n=await Ed(e),r=Ov(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(vd(e.appConfig),i)).json()}catch(o){throw Fe.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Fe.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Fe.create("token-subscribe-no-token");return s.token}async function nx(e,t){const n=await Ed(e),r=Ov(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${vd(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw Fe.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Fe.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Fe.create("token-update-no-token");return s.token}async function rx(e,t){const r={method:"DELETE",headers:await Ed(e)};try{const s=await(await fetch(`${vd(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw Fe.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Fe.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function vd({projectId:e}){return`${VN}/projects/${e}/registrations`}async function Ed({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Ov({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Cv&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=7*24*60*60*1e3;async function sx(e){const t=await lx(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Mt(t.getKey("auth")),p256dh:Mt(t.getKey("p256dh"))},r=await ZN(e.firebaseDependencies);if(r){if(ax(r.subscriptionOptions,n))return Date.now()>=r.createTime+ix?ox(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await rx(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return jh(e.firebaseDependencies,n)}else return jh(e.firebaseDependencies,n)}async function ox(e,t){try{const n=await nx(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await yd(e.firebaseDependencies,r),n}catch(n){throw n}}async function jh(e,t){const r={token:await tx(e,t),createTime:Date.now(),subscriptionOptions:t};return await yd(e,r),r.token}async function lx(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:KN(t)})}function ax(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return ux(t,e),cx(t,e),dx(t,e),t}function ux(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function cx(e,t){t.data&&(e.data=t.data)}function dx(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const l=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;l&&(e.fcmOptions.link=l);const a=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(e){return typeof e=="object"&&!!e&&Nv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function hx(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(e){if(!e||!e.options)throw ma("App Configuration Object");if(!e.name)throw ma("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw ma(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ma(e){return Fe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=px(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(e){try{e.swRegistration=await navigator.serviceWorker.register(HN,{scope:$N}),e.swRegistration.update().catch(()=>{})}catch(t){throw Fe.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(e,t){if(!t&&!e.swRegistration&&await gx(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Fe.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Cv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(e,t){if(!navigator)throw Fe.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Fe.create("permission-blocked");return await yx(e,t==null?void 0:t.vapidKey),await _x(e,t==null?void 0:t.serviceWorkerRegistration),sx(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(e,t,n){const r=Ex(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Nv],message_name:n[WN],message_time:n[zN],message_device_time:Math.floor(Date.now()/1e3)})}function Ex(e){switch(e){case ns.NOTIFICATION_CLICKED:return"notification_open";case ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===ns.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Bh(n)):e.onMessageHandler.next(Bh(n)));const r=n.data;fx(r)&&r[GN]==="1"&&await vx(e,n.messageType,r)}const Hh="@firebase/messaging",$h="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=e=>{const t=new mx(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Sx(t,n)),t},Ix=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>kv(t,r)}};function Tx(){In(new Yt("messaging",wx,"PUBLIC")),In(new Yt("messaging-internal",Ix,"PRIVATE")),Lt(Hh,$h),Lt(Hh,$h,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(){try{await F_()}catch{return!1}return typeof window<"u"&&U_()&&Qw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(e=W_()){return Ax().then(t=>{if(!t)throw Fe.create("unsupported-browser")},t=>{throw Fe.create("indexed-db-unsupported")}),hl(ir(e),"messaging").getImmediate()}async function Nx(e,t){return e=ir(e),kv(e,t)}Tx();const Dv={apiKey:"AIzaSyBzBlEr1WSMy5ornhdEvEmLvg_9oKsYqDU",authDomain:"japs-parivar-siren.firebaseapp.com",databaseURL:"https://japs-parivar-siren-default-rtdb.firebaseio.com",projectId:"japs-parivar-siren",storageBucket:"japs-parivar-siren.firebasestorage.app",messagingSenderId:"329214308072",appId:"1:329214308072:web:7dfb90b6629e84f590235d",measurementId:"G-18MNV84E8X"},Pv="BD7XDu-yQd39uk_PPx1Xs_djDjWlQ1g3eTVAwohs4Ga4Jryk8FQ16Jhj2mLvL4P2KMpFNtLUdhwIk0yBzVxmCd8",Sd=Dv.apiKey!=="PASTE_YOUR_API_KEY_HERE";Sd?console.log(" Firebase Configured"):console.warn(" Firebase is NOT configured. Push notifications will not work.");const Bo=Sd?V_(Dv):null,Fu=Bo?ZC(Bo):null,Vh=Bo?Cx(Bo):null,Wh=()=>Sd&&Pv.length>50,ju=async()=>{if(!Vh||!Fu)return!1;try{if(await Notification.requestPermission()!=="granted")return console.log(" Notification permission denied"),!1;const t=await Nx(Vh,{vapidKey:Pv});return t?(console.log(" FCM Token Generated:",t),await xx(t),!0):!1}catch(e){return console.error("Error initializing notifications:",e),!1}},xx=async e=>{if(Fu){e.substring(0,10)+""+e.substring(e.length-5);try{await zC(VC(Fu,`fcm_tokens/${e.replace(/[.\#$\[\]]/g,"_")}`),{token:e,updatedAt:Date.now(),userAgent:navigator.userAgent}),console.log(" Token saved to Realtime Database")}catch(t){console.error(" Failed to save token to DB:",t)}}},Rx="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAASAAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA",Ox=()=>{var ys;const e=ds(),[t]=Aw(),[n,r]=w.useState([]),[i,s]=w.useState(!1),[o,l]=w.useState(null),[a,u]=w.useState(!1),[c,d]=w.useState(null),[f,g]=w.useState(!1),[_,E]=w.useState(!1),[v,m]=w.useState(!1),[h,y]=w.useState(null),[S,T]=w.useState(!1),[A,R]=w.useState(Date.now()),[O,$]=w.useState(!1),[P,Pe]=w.useState(!0),[en,At]=w.useState("default"),ve=w.useRef(null),ft=w.useRef(null),qe=w.useRef(null),Ct=w.useRef(null),N=w.useRef(()=>{});w.useEffect(()=>{localStorage.getItem("sentinel_armed")==="true"&&B(!0);const W=()=>{const ei=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;g(!!ei)};W(),window.matchMedia("(display-mode: standalone)").addEventListener("change",W);const ae=Wh();Pe(ae),"Notification"in window&&At(Notification.permission);const Ce=Hr();m(!!Ce&&Ce.length>0),Ue()&&ae&&ju(),t.get("emergency")==="true"&&(console.log("Opened via Emergency Notification"),u(!0))},[]);const L=async()=>{if(!("Notification"in window))return;const D=await Notification.requestPermission();At(D),D==="granted"&&Wh()&&ju()},b=async()=>{if("wakeLock"in navigator)try{const D=await navigator.wakeLock.request("screen");y(D),T(!1),D.addEventListener("release",()=>{y(null),document.visibilityState==="visible"&&localStorage.getItem("sentinel_armed")==="true"&&b()})}catch{T(!0)}else T(!0)};w.useEffect(()=>{const D=()=>{document.visibilityState==="visible"&&i&&(b(),ve.current&&ve.current.state==="suspended"&&ve.current.resume())};return document.addEventListener("visibilitychange",D),()=>document.removeEventListener("visibilitychange",D)},[i]);const B=(D=!1)=>{if(!ve.current){const ae=window.AudioContext||window.webkitAudioContext;ve.current=new ae}const W=ve.current;if(W.state==="suspended"&&W.resume().catch(()=>console.log("Auto-resume waiting for gesture")),ft.current){const ae=ft.current.play();ae!==void 0&&ae.then(()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:"Sentinel Active",artist:"Emergency Broadcast System",artwork:[{src:"https://cdn-icons-png.flaticon.com/512/564/564619.png",sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",()=>{var Ce;(Ce=ft.current)==null||Ce.play()}),navigator.mediaSession.playbackState="playing")}).catch(()=>console.log("Auto-play prevented"))}if(s(!0),localStorage.setItem("sentinel_armed","true"),u(!1),L(),b(),!D)try{const ae=W.createOscillator(),Ce=W.createGain();ae.connect(Ce),Ce.connect(W.destination),ae.frequency.setValueAtTime(1e3,W.currentTime),ae.frequency.exponentialRampToValueAtTime(2e3,W.currentTime+.1),Ce.gain.setValueAtTime(.3,W.currentTime),Ce.gain.exponentialRampToValueAtTime(1e-4,W.currentTime+.3),ae.start(),ae.stop(W.currentTime+.3),(t.get("emergency")==="true"||a)&&k()}catch(ae){console.error(ae)}},te=()=>{s(!1),localStorage.removeItem("sentinel_armed"),E(!1),ht(),h&&h.release().then(()=>y(null)),ve.current&&ve.current.suspend(),ft.current&&ft.current.pause()},ht=()=>{qe.current&&(clearInterval(qe.current),qe.current=null),navigator.vibrate&&navigator.vibrate(0)},k=w.useCallback(()=>{if(E(!0),setTimeout(()=>{E(!1),ht()},15e3),navigator.vibrate&&(navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100]),qe.current&&clearInterval(qe.current),qe.current=setInterval(()=>{navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100])},3e3)),!ve.current)return;const D=ve.current;D.state==="suspended"&&D.resume();try{const W=D.createOscillator(),ae=D.createGain();W.connect(ae),ae.connect(D.destination),W.type="sawtooth";const Ce=D.currentTime;for(let ei=0;ei<15;ei++){const Al=Ce+ei;W.frequency.setValueAtTime(600,Al),W.frequency.linearRampToValueAtTime(1200,Al+.5),W.frequency.linearRampToValueAtTime(600,Al+1)}ae.gain.setValueAtTime(.5,Ce),ae.gain.linearRampToValueAtTime(.001,Ce+15),W.start(Ce),W.stop(Ce+15)}catch(W){console.error(W)}},[i]),pe=w.useCallback(async()=>{m(Ue());const D=await x_();r(D),o!==null&&D.length>o&&(k(),document.visibilityState==="hidden"&&D.length>0&&Qe(D[0])),l(D.length)},[o,k]);w.useEffect(()=>{N.current=pe},[pe]),w.useEffect(()=>{if(A){$(!0);const D=setTimeout(()=>$(!1),500);return()=>clearTimeout(D)}},[A]),w.useEffect(()=>{try{Ct.current=new Worker(new URL("./polling-worker.js",window.location.origin+window.location.pathname.replace(/\/[^/]*$/,"/")).href),Ct.current.onmessage=D=>{D.data==="tick"&&(R(Date.now()),N.current&&N.current())},Ct.current.postMessage("start")}catch{}return()=>{var D;return(D=Ct.current)==null?void 0:D.terminate()}},[]);const Qe=D=>{if(!(!("Notification"in window)||Notification.permission!=="granted"))try{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.ready.then(W=>{W.showNotification(` ${D.severity}`,{body:D.content,icon:"https://cdn-icons-png.flaticon.com/512/564/564619.png",tag:"sentinel-alert",renotify:!0,requireInteraction:!0,vibrate:[500,200,500,200,1e3]})})}catch{}};w.useEffect(()=>{const D=W=>{W.preventDefault(),d(W)};return window.addEventListener("beforeinstallprompt",D),window.addEventListener("appinstalled",()=>{g(!0),d(null)}),()=>window.removeEventListener("beforeinstallprompt",D)},[]);const pt=()=>{if(c)c.prompt(),c.userChoice.then(D=>{D.outcome==="accepted"&&d(null)});else{const D=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;alert(D?` To Install on iPhone:

1. Tap the 'Share' button at the bottom of Safari.
2. Scroll down and tap 'Add to Home Screen'.`:` To Install:

Tap the browser menu (three dots ) and select 'Install App' or 'Add to Home Screen'.`)}};return p.jsxs("div",{className:`min-h-screen text-white flex flex-col transition-colors duration-500 ${_?"alarm-flash":"bg-slate-900"}`,children:[p.jsx("audio",{ref:ft,src:Rx,loop:!0,playsInline:!0,style:{display:"none"}}),a&&p.jsxs("div",{className:"fixed inset-0 z-[100] bg-red-600 flex flex-col items-center justify-center cursor-pointer animate-pulse",onClick:()=>B(!1),children:[p.jsx("i",{className:"fas fa-radiation text-9xl text-white mb-8 animate-bounce"}),p.jsx("h1",{className:"text-4xl font-bold text-center text-white font-oswald mb-4",children:"EMERGENCY ALERT"}),p.jsx("p",{className:"text-2xl text-white font-bold blink",children:"TAP SCREEN TO LISTEN"})]}),p.jsx("header",{className:"bg-slate-800 border-b border-slate-700 p-3 sticky top-0 z-50 shadow-md",children:p.jsxs("div",{className:"max-w-4xl mx-auto flex flex-row justify-between items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 bg-red-600 rounded-full flex items-center justify-center shadow-lg shadow-red-900/50 ${_?"animate-spin":"animate-pulse"}`,children:p.jsx("i",{className:"fas fa-bullhorn text-white text-lg md:text-xl"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-red-500 leading-tight",children:"SENTINEL"}),p.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs font-mono",children:[v?p.jsx("span",{className:"text-green-400 font-bold",children:" ON"}):p.jsx("span",{className:"text-red-500 font-bold animate-pulse",children:" OFF"}),i&&(h?p.jsxs("span",{className:"text-blue-400 hidden md:inline",children:[p.jsx("i",{className:"fas fa-desktop"})," SCREEN ON"]}):p.jsxs("span",{className:`${S?"text-red-400":"text-slate-500"} hidden md:inline`,children:[p.jsx("i",{className:"fas fa-desktop"})," ",S?"LOCK FAIL":"NORMAL"]})),p.jsx("span",{className:`transition-opacity duration-200 ${O?"opacity-100 text-blue-400":"opacity-20 text-slate-500"}`,children:p.jsx("i",{className:"fas fa-heartbeat"})})]})]})]}),p.jsxs("div",{className:"flex gap-2 items-center",children:[!f&&p.jsx("button",{onClick:pt,className:"bg-blue-600 hover:bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center shadow-lg shadow-blue-900/50 border border-blue-400",title:"Download / Install App",children:p.jsx("i",{className:"fas fa-download"})}),i?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"hidden md:flex items-center text-green-400 text-sm font-mono bg-green-900/20 px-3 py-1 rounded border border-green-900 h-10",children:[p.jsx("i",{className:"fas fa-satellite-dish mr-2 animate-pulse"})," ARMED"]}),p.jsx(Mn,{onClick:te,variant:"secondary",className:"text-xs opacity-60 hover:opacity-100 h-10",children:"STOP"})]}):p.jsx(Mn,{onClick:()=>B(!1),variant:"danger",className:"animate-bounce font-bold shadow-lg shadow-red-900/50 text-sm px-3 md:px-4 h-10",children:"ACTIVATE"})]})]})}),!v&&p.jsx("div",{className:"bg-red-600 text-white p-2 text-center text-xs md:text-sm font-bold animate-pulse",children:" OFFLINE MODE. Check internet."}),p.jsx("main",{className:"flex-1 max-w-4xl mx-auto w-full p-4 md:p-8 mb-16",children:n.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[p.jsx("i",{className:"fas fa-shield-alt text-6xl mb-4 opacity-20"}),p.jsx("p",{className:"text-xl",children:"Monitoring Active"}),i&&((ys=ve.current)==null?void 0:ys.state)==="suspended"&&p.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/30 text-yellow-500 border border-yellow-800 rounded text-sm animate-pulse cursor-pointer",onClick:()=>B(!1),children:[p.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," Audio suspended. Tap to fix."]}),p.jsx("div",{className:"mt-8 text-center max-w-sm mx-auto",children:p.jsxs("div",{className:"inline-block bg-slate-950 p-4 rounded-lg border border-slate-800 text-xs text-left w-full mb-4",children:[p.jsxs("p",{className:"font-bold text-slate-400 mb-2",children:[p.jsx("i",{className:"fas fa-lightbulb text-yellow-500"})," BEST PRACTICES"]}),p.jsxs("ul",{className:"space-y-2 text-slate-500 list-disc pl-4",children:[p.jsxs("li",{children:["Turn Volume ",p.jsx("strong",{children:"MAX"}),"."]}),p.jsxs("li",{children:["Keep screen ",p.jsx("strong",{children:"OPEN"})," for continuous siren."]}),p.jsx("li",{className:"text-blue-300",children:'Tap "Activate" to ensure sound works.'})]})]})})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 animate-ping"}),p.jsx("h2",{className:"text-slate-400 uppercase tracking-widest text-sm font-semibold",children:"Live Alert"})]}),n.map(D=>p.jsx(gu,{alert:D},D.id))]})}),p.jsx("footer",{className:"bg-slate-950 p-6 text-center text-slate-600 text-xs border-t border-slate-900",children:p.jsx("button",{onClick:()=>e("/admin"),className:"text-slate-800 hover:text-slate-500",children:"Admin Access"})})]})},kx=({onLogin:e})=>{const t=ds(),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),a=u=>{u.preventDefault(),n===Wf.username&&i===Wf.password?(e(),t("/dashboard")):l("Invalid credentials")};return p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-lg shadow-2xl border border-slate-700",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("i",{className:"fas fa-shield-alt text-4xl text-blue-500 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-white font-oswald",children:"Admin Access"})]}),p.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o&&p.jsx("div",{className:"bg-red-500/20 text-red-400 p-3 rounded text-sm text-center border border-red-500/50",children:o}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Username"}),p.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),p.jsx(Mn,{type:"submit",fullWidth:!0,children:"Login"}),p.jsx("div",{className:"text-center pt-2",children:p.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-slate-500 hover:text-slate-300",children:" Back to Public Broadcast"})})]}),p.jsxs("div",{className:"mt-8 p-4 bg-slate-900/50 rounded text-xs text-slate-500 font-mono text-center",children:[p.jsx("p",{children:"Demo Credentials:"}),p.jsx("p",{children:"User: admin | Pass: yogiji"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zh;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zh||(zh={}));var Gh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Gh||(Gh={}));var Kh;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Kh||(Kh={}));var Yh;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Yh||(Yh={}));var qh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(qh||(qh={}));var Qh;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qh||(Qh={}));var Xh;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Xh||(Xh={}));var Jh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Jh||(Jh={}));var Zh;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zh||(Zh={}));var ep;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(ep||(ep={}));var tp;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(tp||(tp={}));var np;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(np||(np={}));var rp;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(rp||(rp={}));var ip;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(ip||(ip={}));var sp;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(sp||(sp={}));var op;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(op||(op={}));var lp;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lp||(lp={}));var ap;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ap||(ap={}));var up;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(up||(up={}));var cp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(cp||(cp={}));var dp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dp||(dp={}));var fp;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fp||(fp={}));var hp;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hp||(hp={}));var pp;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pp||(pp={}));var mp;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mp||(mp={}));var gp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(gp||(gp={}));var _p;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(_p||(_p={}));var yp;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yp||(yp={}));var vp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(vp||(vp={}));var Ep;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ep||(Ep={}));var Sp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Sp||(Sp={}));var wp;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(wp||(wp={}));var Ip;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ip||(Ip={}));var Tp;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Tp||(Tp={}));var Ap;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ap||(Ap={}));var Cp;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cp||(Cp={}));var Np;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Np||(Np={}));var xp;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xp||(xp={}));var Rp;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Rp||(Rp={}));var Op;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Op||(Op={}));var kp;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(kp||(kp={}));var Dp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Dp||(Dp={}));var Pp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Pp||(Pp={}));var Lp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Lp||(Lp={}));var bp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(bp||(bp={}));var Mp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Mp||(Mp={}));var Up;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Up||(Up={}));var Fp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Fp||(Fp={}));var jp;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(jp||(jp={}));var Bp;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bp||(Bp={}));var Hp;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hp||(Hp={}));var $p;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})($p||($p={}));var Vp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vp||(Vp={}));var Wp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wp||(Wp={}));var zp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(zp||(zp={}));var Gp;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Gp||(Gp={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kp;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Kp||(Kp={}));function Ho(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Yp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(e){return this instanceof ne?(this.v=e,this):new ne(e)}function Di(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function l(g,_){r[g]&&(i[g]=function(E){return new Promise(function(v,m){s.push([g,E,v,m])>1||a(g,E)})},_&&(i[g]=_(i[g])))}function a(g,_){try{u(r[g](_))}catch(E){f(s[0][3],E)}}function u(g){g.value instanceof ne?Promise.resolve(g.value.v).then(c,d):f(s[0][2],g)}function c(g){a("next",g)}function d(g){a("throw",g)}function f(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Yp=="function"?Yp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lv=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Lv=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Dx=()=>Lv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Hu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dt extends Error{}class je extends dt{constructor(t,n,r,i){super(`${je.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new wl({message:r,cause:Hu(n)});const s=n;return t===400?new Mv(t,s,r,i):t===401?new Uv(t,s,r,i):t===403?new Fv(t,s,r,i):t===404?new jv(t,s,r,i):t===409?new Bv(t,s,r,i):t===422?new Hv(t,s,r,i):t===429?new $v(t,s,r,i):t>=500?new Vv(t,s,r,i):new je(t,s,r,i)}}class $u extends je{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class wl extends je{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class bv extends wl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Mv extends je{}class Uv extends je{}class Fv extends je{}class jv extends je{}class Bv extends je{}class Hv extends je{}class $v extends je{}class Vv extends je{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Px=/^[a-z][a-z0-9+.-]*:/i,Lx=e=>Px.test(e);let Vu=e=>(Vu=Array.isArray,Vu(e));const bx=Vu;let Mx=bx;const qp=Mx;function Ux(e){if(!e)return!0;for(const t in e)return!1;return!0}function Fx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const jx=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new dt(`${e} must be an integer`);if(t<0)throw new dt(`${e} must be a positive integer`);return t},Bx=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hx=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ur="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Vx=()=>{var e,t,n,r,i;const s=$x();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Xp(Deno.build.os),"X-Stainless-Arch":Qp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Xp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qp((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Wx();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Wx(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const Qp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Xp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Fs;const zx=()=>Fs??(Fs=Vx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Wv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Kx(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Wv({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function zv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Yx(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ga(e,t,n){return Gv(),new File(e,t??"unknown_file",n)}function Qx(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Xx=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Jx=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Kv(e),Zx=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function e1(e,t,n){if(Gv(),e=await e,Jx(e))return e instanceof File?e:ga([await e.arrayBuffer()],e.name);if(Zx(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ga(await Wu(i),t,n)}const r=await Wu(e);if(t||(t=Qx(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ga(r,t,n)}async function Wu(e){var t,n,r,i,s;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(Kv(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(Xx(e))try{for(var l=!0,a=Pr(e),u;u=await a.next(),t=u.done,!t;l=!0){i=u.value,l=!1;const c=i;o.push(...await Wu(c))}}catch(c){n={error:c}}finally{try{!l&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}else{const c=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${t1(e)}`)}return o}function t1(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yv{constructor(t){this._client=t}}Yv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Jp=Object.freeze(Object.create(null)),n1=(e=qv)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((c,d,f)=>{var g,_,E;/[?#]/.test(d)&&(i=!0);const v=r[f];let m=(i?encodeURIComponent:e)(""+v);return f!==r.length&&(v==null||typeof v=="object"&&v.toString===((E=Object.getPrototypeOf((_=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:Jp))!==null&&_!==void 0?_:Jp))===null||E===void 0?void 0:E.toString))&&(m=v+"",s.push({start:c.length+d.length,length:m.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":m)},""),l=o.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=a.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((c,d)=>c.start-d.start),s.length>0){let c=0;const d=s.reduce((f,g)=>{const _=" ".repeat(g.start-c),E="^".repeat(g.length);return c=g.start+g.length,f+_+E},"");throw new dt(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},js=n1(qv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qv extends Yv{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,s=Ho(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new dt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new dt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(js`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(js`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(js`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=Ho(s,["api_version"]);return this._client.get(js`/${o}/interactions/${t}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Qv._key=Object.freeze(["interactions"]);class Xv extends Qv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Bs;function wd(e){let t;return(Bs??(t=new globalThis.TextEncoder,Bs=t.encode.bind(t)))(e)}let Hs;function Zp(e){let t;return(Hs??(t=new globalThis.TextDecoder,Hs=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Il{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?wd(t):t;this.buffer=r1([this.buffer,n]);const r=[];let i;for(;(i=i1(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Zp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Zp(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Il.NEWLINE_CHARS=new Set([`
`,"\r"]);Il.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function i1(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function s1(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $o={off:0,error:200,warn:300,info:400,debug:500},em=(e,t,n)=>{if(e){if(Fx($o,e))return e;Le(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys($o))}`)}};function vi(){}function $s(e,t,n){return!t||$o[e]>$o[n]?vi:t[e].bind(t)}const o1={error:vi,warn:vi,info:vi,debug:vi};let tm=new WeakMap;function Le(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return o1;const i=tm.get(n);if(i&&i[0]===r)return i[1];const s={error:$s("error",n,r),warn:$s("warn",n,r),info:$s("info",n,r),debug:$s("debug",n,r)};return tm.set(n,[r,s]),s}const Dn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ir{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const s=r?Le(r):console;function o(){return Di(this,arguments,function*(){var a,u,c,d;if(i)throw new dt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Pr(l1(t,n)),E;E=yield ne(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;if(!f)if(v.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield ne(JSON.parse(v.data))}catch(m){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),m}}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield ne(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Bu(v))return yield ne(void 0);throw v}finally{f||n.abort()}})}return new Ir(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function s(){return Di(this,arguments,function*(){var a,u,c,d;const f=new Il,g=zv(t);try{for(var _=!0,E=Pr(g),v;v=yield ne(E.next()),a=v.done,!a;_=!0){d=v.value,_=!1;const m=d;for(const h of f.decode(m))yield yield ne(h)}}catch(m){u={error:m}}finally{try{!_&&!a&&(c=E.return)&&(yield ne(c.call(E)))}finally{if(u)throw u.error}}for(const m of f.flush())yield yield ne(m)})}function o(){return Di(this,arguments,function*(){var a,u,c,d;if(i)throw new dt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Pr(s()),E;E=yield ne(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;f||v&&(yield yield ne(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield ne(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Bu(v))return yield ne(void 0);throw v}finally{f||n.abort()}})}return new Ir(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new Ir(()=>i(t),this.controller,this.client),new Ir(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Wv({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=wd(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function l1(e,t){return Di(this,arguments,function*(){var r,i,s,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new dt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new dt("Attempted to iterate over a response with no body");const l=new u1,a=new Il,u=zv(e.body);try{for(var c=!0,d=Pr(a1(u)),f;f=yield ne(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;const g=o;for(const _ of a.decode(g)){const E=l.decode(_);E&&(yield yield ne(E))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(s=d.return)&&(yield ne(s.call(d)))}finally{if(i)throw i.error}}for(const g of a.flush()){const _=l.decode(g);_&&(yield yield ne(_))}})}function a1(e){return Di(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,a=Pr(e),u;u=yield ne(a.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const c=s;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?wd(c):c;let f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let g;for(;(g=s1(o))!==-1;)yield yield ne(o.slice(0,g)),o=o.slice(g)}}catch(c){r={error:c}}finally{try{!l&&!n&&(i=a.return)&&(yield ne(i.call(a)))}finally{if(r)throw r.error}}o.length>0&&(yield yield ne(o))})}class u1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=c1(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function c1(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function d1(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,o=await(async()=>{var l;if(t.options.stream)return Le(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ir.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),u=(l=a==null?void 0:a.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Le(e).debug(`[${r}] response parsed`,Dn({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Id extends Promise{constructor(t,n,r=d1){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Id(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jv=Symbol("brand.privateNullableHeaders");function*f1(e){if(!e)return;if(Jv in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():qp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=qp(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(t&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const hi=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,o]of f1(r)){const l=s.toLowerCase();i.has(l)||(t.delete(s),i.add(l)),o===null?(t.delete(s),n.add(l)):(t.append(s,o),n.delete(l))}}return{[Jv]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _a=e=>{var t,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zv;class Tl{constructor(t){var n,r,i,s,o,l,a,{baseURL:u=_a("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=_a("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,f=Ho(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Tl.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(o=(s=em(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:em(_a("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(a=g.fetch)!==null&&a!==void 0?a:Gx(),this.encoder=qx,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=hi([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return hi([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hi([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new dt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ur}`}defaultIdempotencyKey(){return`stainless-node-retry-${Dx()}`}makeStatusError(t,n,r,i){return je.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=Lx(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return Ux(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Id(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,s,o;const l=await t,a=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=a),await this.prepareOptions(l);const{req:u,url:c,timeout:d}=await this.buildRequest(l,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:l});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(Le(this).debug(`[${f}] sending request`,Dn({retryOfRequestLogID:r,method:l.method,url:c,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new $u;const E=new AbortController,v=await this.fetchWithTimeout(c,u,d,E).catch(Hu),m=Date.now();if(v instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new $u;const S=Bu(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return Le(this).info(`[${f}] connection ${S?"timed out":"failed"} - ${y}`),Le(this).debug(`[${f}] connection ${S?"timed out":"failed"} (${y})`,Dn({retryOfRequestLogID:r,url:c,durationMs:m-_,message:v.message})),this.retryRequest(l,n,r??f);throw Le(this).info(`[${f}] connection ${S?"timed out":"failed"} - error; no more retries left`),Le(this).debug(`[${f}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Dn({retryOfRequestLogID:r,url:c,durationMs:m-_,message:v.message})),S?new bv:new wl({cause:v})}const h=`[${f}${g}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${m-_}ms`;if(!v.ok){const y=await this.shouldRetry(v);if(n&&y){const $=`retrying, ${n} attempts remaining`;return await Yx(v.body),Le(this).info(`${h} - ${$}`),Le(this).debug(`[${f}] response error (${$})`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:m-_})),this.retryRequest(l,n,r??f,v.headers)}const S=y?"error; no more retries left":"error; not retryable";Le(this).info(`${h} - ${S}`);const T=await v.text().catch($=>Hu($).message),A=Bx(T),R=A?void 0:T;throw Le(this).debug(`[${f}] response error (${S})`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:R,durationMs:Date.now()-_})),this.makeStatusError(v.status,A,R,v.headers)}return Le(this).info(h),Le(this).debug(`[${f}] response start`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:m-_})),{response:v,options:l,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(t,n,r,i){const s=n||{},{signal:o,method:l}=s,a=Ho(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),a);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const a=i==null?void 0:i.get("retry-after");if(a&&!o){const u=parseFloat(a);Number.isNaN(u)?o=Date.parse(a)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Hx(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},t),{method:l,path:a,query:u,defaultBaseURL:c}=o,d=this.buildURL(a,u,c);"timeout"in o&&jx("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:g}=this.buildBody({options:o}),_=await this.buildHeaders({options:t,method:l,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:_},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:d,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let l=hi([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),zx()),this._options.defaultHeaders,r,t.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=hi([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Kx(t)}:this.encoder({body:t,headers:r})}}Tl.DEFAULT_TIMEOUT=6e4;class Ae extends Tl{constructor(){super(...arguments),this.interactions=new Xv(this)}}Zv=Ae;Ae.GeminiNextGenAPIClient=Zv;Ae.GeminiNextGenAPIClientError=dt;Ae.APIError=je;Ae.APIConnectionError=wl;Ae.APIConnectionTimeoutError=bv;Ae.APIUserAbortError=$u;Ae.NotFoundError=jv;Ae.ConflictError=Bv;Ae.RateLimitError=$v;Ae.BadRequestError=Mv;Ae.AuthenticationError=Uv;Ae.InternalServerError=Vv;Ae.PermissionDeniedError=Fv;Ae.UnprocessableEntityError=Hv;Ae.toFile=e1;Ae.Interactions=Xv;const h1=async(e,t)=>(console.warn("API Key is missing. AI generation disabled."),"Error: API Key missing. Please check configuration."),p1=({onLogout:e})=>{const t=ds(),[n,r]=w.useState(""),[i,s]=w.useState(Rt.INFO),[o,l]=w.useState(""),[a,u]=w.useState([]),[c,d]=w.useState([]),[f,g]=w.useState([]),[_,E]=w.useState("checking"),[v,m]=w.useState(!1),[h,y]=w.useState("create"),[S,T]=w.useState(!1),[A,R]=w.useState(Hr()),[O,$]=w.useState(Ue()),P=w.useCallback(async()=>{if(u(await Mw()),d(await x_()),g(await hs()),$(Ue()),R(Hr()),Ue()){const k=await xw();if(k){const pe=Date.now()-k.last_seen<1e4&&k.online;E(pe?"online":"offline")}else E("offline")}else E("offline")},[]);w.useEffect(()=>{P();const k=setInterval(P,2e3);return()=>clearInterval(k)},[P]);const Pe=()=>{e(),t("/")},en=async k=>{if(k.preventDefault(),!n||!o||O&&_==="offline"&&!window.confirm(` WARNING: The Monitor Script is OFFLINE.

Push notifications will NOT be sent to closed apps.

Run 'npm run monitor' on your PC to fix this.

Schedule anyway?`))return;const pe=new Date,[Qe,pt]=o.split(":").map(Number),ys=new Date(pe.getFullYear(),pe.getMonth(),pe.getDate(),Qe,pt,0,0),D=Ow(n,ys.getTime(),i);await Rw(D),ve(),await P(),alert("One-time Alert Scheduled Successfully")},At=async k=>{if(k.preventDefault(),!n||!o)return;const pe=Pw(n,o,i);await Dw(pe),ve(),await P(),alert("Recurring Alert Created Successfully")},ve=()=>{r(""),l(""),s(Rt.INFO)},ft=async()=>{if(!n){alert("Please enter a topic first.");return}m(!0);try{const k=await h1(n,i);r(k)}catch{alert("Failed to generate content")}finally{m(!1)}},qe=async k=>{window.confirm("Remove this alert?")&&(await kw(k),await P())},Ct=async k=>{await bw(k),await P()},N=async k=>{await Lw(k),await P()},L=()=>{if(A&&!A.startsWith("https://")){alert("URL must start with https://");return}Nw(A),P(),alert("Database connection updated.")},b=k=>{if(!k)return"";const[pe,Qe]=k.split(":"),pt=new Date;return pt.setHours(parseInt(pe),parseInt(Qe)),pt.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})},B=k=>{y(k),T(!1)},te=A&&!A.includes(".firebaseio.com")&&!A.includes(".firebasedatabase.app"),ht=A&&(A.endsWith(".co")||A.endsWith(".c"));return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col md:flex-row",children:[p.jsxs("div",{className:"md:hidden bg-slate-800 p-4 flex justify-between items-center border-b border-slate-700 sticky top-0 z-50 shadow-lg",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("i",{className:"fas fa-shield-alt text-blue-500"}),p.jsx("h2",{className:"text-xl font-bold font-oswald text-white",children:"ADMIN"})]}),p.jsx("button",{onClick:()=>T(!S),className:"text-white p-2 focus:outline-none",children:p.jsx("i",{className:`fas ${S?"fa-times":"fa-bars"} text-2xl`})})]}),p.jsxs("aside",{className:`
          fixed inset-0 z-40 bg-slate-900/95 backdrop-blur-md transform transition-transform duration-300 ease-in-out
          md:relative md:translate-x-0 md:w-64 md:flex md:flex-col md:bg-slate-800 md:border-r md:border-slate-700
          ${S?"translate-x-0 flex flex-col pt-20 px-6":"-translate-x-full hidden"}
      `,children:[p.jsxs("div",{className:"hidden md:block p-6 border-b border-slate-700",children:[p.jsx("h2",{className:"text-2xl font-bold font-oswald text-blue-400",children:"ADMIN PANEL"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"SENTINEL CONTROL"})]}),p.jsx("div",{className:"md:px-6 md:pt-4 mb-4 mt-4 md:mt-0",children:p.jsxs("div",{className:"bg-slate-950/50 p-3 rounded border border-slate-700 space-y-2",children:[O?p.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[p.jsx("i",{className:"fas fa-wifi"})," DB Connected"]}):p.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-500",children:[p.jsx("i",{className:"fas fa-exclamation-triangle"})," Local Mode"]}),O&&p.jsxs("div",{onClick:()=>B("settings"),className:`flex items-center gap-2 text-xs font-bold cursor-pointer hover:opacity-80 transition-opacity ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${_==="online"?"bg-green-500 animate-pulse":_==="checking"?"bg-yellow-500":"bg-red-500"}`}),_==="online"?"Monitor: ONLINE":_==="checking"?"Checking...":"Monitor: OFFLINE"]})]})}),p.jsxs("nav",{className:"flex-1 md:p-4 space-y-2",children:[p.jsx(pi,{active:h==="create",onClick:()=>B("create"),icon:"fa-plus-circle",label:"One-Time Alert"}),p.jsx(pi,{active:h==="recurring",onClick:()=>B("recurring"),icon:"fa-sync-alt",label:"Recurring Alerts"}),p.jsx(pi,{active:h==="scheduled",onClick:()=>B("scheduled"),icon:"fa-clock",label:"Scheduled",count:a.length}),p.jsx(pi,{active:h==="history",onClick:()=>B("history"),icon:"fa-history",label:"History"}),p.jsx(pi,{active:h==="settings",onClick:()=>B("settings"),icon:"fa-cog",label:"Settings & Keys"})]}),p.jsx("div",{className:"p-4 border-t border-slate-700 mt-auto",children:p.jsx(Mn,{variant:"outline",fullWidth:!0,onClick:Pe,children:"Logout"})})]}),p.jsxs("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:[h==="create"&&p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-6 font-oswald flex items-center gap-3",children:[p.jsx("i",{className:"fas fa-bullhorn text-blue-500"})," One-Time Broadcast"]}),p.jsxs("form",{onSubmit:en,className:"space-y-6 bg-slate-800 p-6 md:p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx(nm,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:ft}),p.jsx("div",{className:"pt-4",children:p.jsxs(Mn,{type:"submit",fullWidth:!0,disabled:v,children:[p.jsx("i",{className:"fas fa-paper-plane mr-2"})," Schedule Today"]})})]})]}),h==="recurring"&&p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 font-oswald text-purple-400",children:"Recurring Rule"}),p.jsxs("form",{onSubmit:At,className:"space-y-6 bg-slate-800 p-6 md:p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx(nm,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:ft}),p.jsx("div",{className:"pt-4",children:p.jsxs(Mn,{type:"submit",fullWidth:!0,disabled:v,className:"bg-purple-600 hover:bg-purple-500",children:[p.jsx("i",{className:"fas fa-save mr-2"})," Save Rule"]})})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-6 font-oswald text-slate-400",children:"Active Rules"}),f.length===0?p.jsx("div",{className:"text-slate-500 italic border border-dashed border-slate-700 p-8 rounded text-center",children:"No recurring rules."}):p.jsx("div",{className:"space-y-4",children:f.map(k=>p.jsxs("div",{className:`p-4 rounded border-l-4 flex flex-col gap-2 shadow bg-slate-800 ${k.isActive?"border-purple-500":"border-slate-600 opacity-60"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"font-mono text-xl font-bold text-white",children:b(k.scheduledTime)}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",onClick:()=>N(k.id),className:`px-2 py-1 text-xs rounded font-bold uppercase ${k.isActive?"bg-green-900 text-green-400":"bg-slate-700 text-slate-400"}`,children:k.isActive?"Active":"Paused"}),p.jsx("button",{type:"button",onClick:pe=>{pe.preventDefault(),Ct(k.id)},className:"w-8 h-8 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded",children:p.jsx("i",{className:"fas fa-trash text-xs"})})]})]}),p.jsx("div",{className:`text-xs font-bold uppercase ${k.severity==="CRITICAL"?"text-red-400":k.severity==="WARNING"?"text-yellow-400":"text-blue-400"}`,children:k.severity}),p.jsx("p",{className:"text-sm text-slate-300",children:k.content})]},k.id))})]})]})}),h==="scheduled"&&p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 font-oswald text-blue-400",children:"Scheduled Queue"}),a.length===0?p.jsx("p",{className:"text-slate-500 italic",children:"No alerts scheduled."}):a.map(k=>p.jsx(gu,{alert:k,isAdmin:!0,onDelete:qe},k.id))]}),h==="history"&&p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 font-oswald text-slate-400",children:"History"}),c.length===0?p.jsx("p",{className:"text-slate-500 italic",children:"No history."}):c.map(k=>p.jsx("div",{className:"opacity-75",children:p.jsx(gu,{alert:k,isAdmin:!0,onDelete:k.id.startsWith("recurring")?void 0:qe})},k.id))]}),h==="settings"&&p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 font-oswald text-slate-200",children:"System Configuration"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-slate-800 p-6 md:p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"1. Database Connection"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Firebase Database URL"}),p.jsx("input",{type:"text",placeholder:"https://your-project.firebaseio.com",value:A,onChange:k=>R(k.target.value.trim()),className:`w-full bg-slate-900 border rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none ${ht||te?"border-red-500":"border-slate-700"}`}),ht&&p.jsxs("p",{className:"text-red-400 text-xs mt-2 animate-pulse font-bold",children:[" It looks like there is a typo in your URL (ending in .co). It usually ends in ",p.jsx("code",{children:".com"}),"."]}),!ht&&te&&p.jsxs("p",{className:"text-yellow-400 text-xs mt-2",children:[" Standard Firebase URLs usually end in ",p.jsx("code",{children:".firebaseio.com"})," or ",p.jsx("code",{children:".firebasedatabase.app"}),"."]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center pt-4 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${O?"bg-green-500":"bg-red-500"}`}),p.jsx("span",{className:"text-sm font-medium",children:O?"Cloud Connected":"Local Mode"})]}),p.jsx(Mn,{onClick:L,fullWidth:!0,className:"md:w-auto",children:"Save & Connect"})]})]}),p.jsxs("div",{className:"bg-slate-800 p-6 md:p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"2. Server Monitor"}),p.jsxs("div",{className:"mt-4 border-t border-slate-700 pt-4",children:[p.jsx("h4",{className:"font-bold text-slate-300 mb-2",children:"Debug Monitor Connection"}),p.jsxs("div",{className:`p-4 rounded border text-sm space-y-2 ${_==="offline"?"bg-red-900/20 border-red-500":"bg-slate-900 border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-slate-400",children:"Current Status:"}),p.jsx("span",{className:`font-bold ${_==="online"?"text-green-400":"text-red-500"}`,children:_==="online"?"ONLINE":"OFFLINE"})]}),_==="offline"&&p.jsxs("div",{className:"text-red-300 text-xs mb-3 font-bold",children:[p.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),"Action Required: The URL in this dashboard must match the URL used by the monitor script."]}),p.jsxs("p",{className:"text-slate-400 mb-2",children:["To fix OFFLINE, open ",p.jsx("code",{children:"monitor-local.js"})," and change ",p.jsx("strong",{children:"MANUAL_DB_URL"})," to:"]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("code",{className:"block bg-black p-2 rounded text-green-400 flex-1 overflow-x-auto whitespace-nowrap font-mono select-all",children:A||"No Database URL Set"})})]}),p.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:[p.jsx("p",{children:"Running the monitor script:"}),p.jsx("code",{className:"block bg-slate-950 p-2 mt-1 rounded text-slate-300",children:"npm run monitor"})]})]})]})]})]})]})]})},pi=({active:e,onClick:t,icon:n,label:r,count:i})=>p.jsxs("button",{onClick:t,className:`w-full text-left px-4 py-3 rounded transition-colors flex items-center justify-between ${e?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsxs("span",{children:[p.jsx("i",{className:`fas ${n} w-6`})," ",r]}),i>0&&p.jsx("span",{className:"bg-slate-900 px-2 py-0.5 rounded-full text-xs font-bold",children:i})]}),nm=({severity:e,setSeverity:t,timeInput:n,setTimeInput:r,content:i,setContent:s,isGenerating:o,onGenerate:l})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Severity Level"}),p.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:Object.values(Rt).map(a=>p.jsx("button",{type:"button",onClick:()=>t(a),className:`py-3 rounded border-2 font-bold text-xs md:text-sm ${e===a?a==="CRITICAL"?"border-red-500 bg-red-500/20 text-red-500":a==="WARNING"?"border-yellow-500 bg-yellow-500/20 text-yellow-500":"border-blue-500 bg-blue-500/20 text-blue-500":"border-slate-600 text-slate-500"}`,children:a},a))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Time (HH:MM)"}),p.jsx("input",{type:"time",required:!0,value:n,onChange:a=>r(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none font-mono text-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Message Content"}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{required:!0,value:i,onChange:a=>s(a.target.value),rows:4,placeholder:"Enter alert message...",className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none pr-12"}),p.jsx("button",{type:"button",onClick:l,disabled:o,className:"absolute top-2 right-2 text-slate-400 hover:text-blue-400 p-2",children:p.jsx("i",{className:`fas ${o?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`})})]})]})]}),m1=()=>{const[e,t]=w.useState(!1);return w.useEffect(()=>{Ue()&&ju()},[]),p.jsx(Tw,{children:p.jsx("div",{className:"antialiased text-slate-200",children:p.jsxs(Ew,{children:[p.jsx(to,{path:"/",element:p.jsx(Ox,{})}),p.jsx(to,{path:"/admin",element:p.jsx(kx,{onLogin:()=>t(!0)})}),p.jsx(to,{path:"/dashboard",element:e?p.jsx(p1,{onLogout:()=>t(!1)}):p.jsx(yw,{to:"/admin",replace:!0})})]})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const e0=document.getElementById("root");if(!e0)throw new Error("Could not find root element to mount to");const g1=ya.createRoot(e0);g1.render(p.jsx(hm.StrictMode,{children:p.jsx(m1,{})}));
