function Xv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Jv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var em={exports:{}},jo={},tm={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),o0=Symbol.for("react.suspense"),l0=Symbol.for("react.memo"),a0=Symbol.for("react.lazy"),wd=Symbol.iterator;function u0(e){return e===null||typeof e!="object"?null:(e=wd&&e[wd]||e["@@iterator"],typeof e=="function"?e:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rm=Object.assign,im={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=im,this.updater=n||nm}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sm(){}sm.prototype=Wr.prototype;function $u(e,t,n){this.props=e,this.context=t,this.refs=im,this.updater=n||nm}var Vu=$u.prototype=new sm;Vu.constructor=$u;rm(Vu,Wr.prototype);Vu.isPureReactComponent=!0;var Id=Array.isArray,om=Object.prototype.hasOwnProperty,Wu={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function am(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)om.call(t,r)&&!lm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ns,type:e,key:s,ref:o,props:i,_owner:Wu.current}}function c0(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function d0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Td=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d0(""+e.key):t.toString(36)}function js(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case Zv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Il(o,0):r,Id(i)?(n="",e!=null&&(n=e.replace(Td,"$&/")+"/"),js(i,t,n,"",function(u){return u})):i!=null&&(zu(i)&&(i=c0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Td,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Id(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Il(s,l);o+=js(s,t,n,a,i)}else if(a=u0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Il(s,l++),o+=js(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(e,t,n){if(e==null)return e;var r=[],i=0;return js(e,r,"","",function(s){return t.call(n,s,i++)}),r}function f0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Bs={transition:null},h0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:Wu};function um(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:ms,forEach:function(e,t,n){ms(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ms(e,function(){t++}),t},toArray:function(e){return ms(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};b.Component=Wr;b.Fragment=e0;b.Profiler=n0;b.PureComponent=$u;b.StrictMode=t0;b.Suspense=o0;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0;b.act=um;b.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Wu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)om.call(t,a)&&!lm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ns,type:e.type,key:i,ref:s,props:r,_owner:o}};b.createContext=function(e){return e={$$typeof:i0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r0,_context:e},e.Consumer=e};b.createElement=am;b.createFactory=function(e){var t=am.bind(null,e);return t.type=e,t};b.createRef=function(){return{current:null}};b.forwardRef=function(e){return{$$typeof:s0,render:e}};b.isValidElement=zu;b.lazy=function(e){return{$$typeof:a0,_payload:{_status:-1,_result:e},_init:f0}};b.memo=function(e,t){return{$$typeof:l0,type:e,compare:t===void 0?null:t}};b.startTransition=function(e){var t=Bs.transition;Bs.transition={};try{e()}finally{Bs.transition=t}};b.unstable_act=um;b.useCallback=function(e,t){return Ue.current.useCallback(e,t)};b.useContext=function(e){return Ue.current.useContext(e)};b.useDebugValue=function(){};b.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};b.useEffect=function(e,t){return Ue.current.useEffect(e,t)};b.useId=function(){return Ue.current.useId()};b.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};b.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};b.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};b.useMemo=function(e,t){return Ue.current.useMemo(e,t)};b.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};b.useRef=function(e){return Ue.current.useRef(e)};b.useState=function(e){return Ue.current.useState(e)};b.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};b.useTransition=function(){return Ue.current.useTransition()};b.version="18.3.1";tm.exports=b;var w=tm.exports;const cm=Jv(w),p0=Xv({__proto__:null,default:cm},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=w,g0=Symbol.for("react.element"),_0=Symbol.for("react.fragment"),y0=Object.prototype.hasOwnProperty,v0=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E0={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)y0.call(t,r)&&!E0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:g0,type:e,key:s,ref:o,props:i,_owner:v0.current}}jo.Fragment=_0;jo.jsx=dm;jo.jsxs=dm;em.exports=jo;var p=em.exports,ga={},fm={exports:{}},Xe={},hm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,T){var D=x.length;x.push(T);e:for(;0<D;){var W=D-1>>>1,z=x[W];if(0<i(z,T))x[W]=T,x[D]=z,D=W;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var T=x[0],D=x.pop();if(D!==T){x[0]=D;e:for(var W=0,z=x.length,Dt=z>>>1;W<Dt;){var et=2*(W+1)-1,Jr=x[et],Pt=et+1,Nn=x[Pt];if(0>i(Jr,D))Pt<z&&0>i(Nn,Jr)?(x[W]=Nn,x[Pt]=D,W=Pt):(x[W]=Jr,x[et]=D,W=et);else if(Pt<z&&0>i(Nn,D))x[W]=Nn,x[Pt]=D,W=Pt;else break e}}return T}function i(x,T){var D=x.sortIndex-T.sortIndex;return D!==0?D:x.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(x){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=x)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function S(x){if(E=!1,y(x),!_)if(n(a)!==null)_=!0,wt(A);else{var T=n(u);T!==null&&kt(S,T.startTime-x)}}function A(x,T){_=!1,E&&(E=!1,m(R),R=-1),g=!0;var D=f;try{for(y(T),d=n(a);d!==null&&(!(d.expirationTime>T)||x&&!Oe());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var z=W(d.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(a)&&r(a),y(T)}else r(a);d=n(a)}if(d!==null)var Dt=!0;else{var et=n(u);et!==null&&kt(S,et.startTime-T),Dt=!1}return Dt}finally{d=null,f=D,g=!1}}var N=!1,k=null,R=-1,B=5,L=-1;function Oe(){return!(e.unstable_now()-L<B)}function ct(){if(k!==null){var x=e.unstable_now();L=x;var T=!0;try{T=k(!0,x)}finally{T?le():(N=!1,k=null)}}else N=!1}var le;if(typeof h=="function")le=function(){h(ct)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,St=Ze.port2;Ze.port1.onmessage=ct,le=function(){St.postMessage(null)}}else le=function(){v(ct,0)};function wt(x){k=x,N||(N=!0,le())}function kt(x,T){R=v(function(){x(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,wt(A))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var D=f;f=T;try{return x()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,T){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=f;f=x;try{return T()}finally{f=D}},e.unstable_scheduleCallback=function(x,T,D){var W=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,x){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,x={id:c++,callback:T,priorityLevel:x,startTime:D,expirationTime:z,sortIndex:-1},D>W?(x.sortIndex=D,t(u,x),n(a)===null&&x===n(u)&&(E?(m(R),R=-1):E=!0,kt(S,D-W))):(x.sortIndex=z,t(a,x),_||g||(_=!0,wt(A))),x},e.unstable_shouldYield=Oe,e.unstable_wrapCallback=function(x){var T=f;return function(){var D=f;f=T;try{return x.apply(this,arguments)}finally{f=D}}}})(pm);hm.exports=pm;var S0=hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=w,Qe=S0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mm=new Set,Oi={};function Zn(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(Oi[e]=t,e=0;e<t.length;e++)mm.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=Object.prototype.hasOwnProperty,I0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ad={},Cd={};function T0(e){return _a.call(Cd,e)?!0:_a.call(Ad,e)?!1:I0.test(e)?Cd[e]=!0:(Ad[e]=!0,!1)}function A0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C0(e,t,n,r){if(t===null||typeof t>"u"||A0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gu=/[\-:]([a-z])/g;function Ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gu,Ku);Se[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gu,Ku);Se[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gu,Ku);Se[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yu(e,t,n,r){var i=Se.hasOwnProperty(t)?Se[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C0(t,n,i,r)&&(n=null),r||i===null?T0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),ur=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),qu=Symbol.for("react.strict_mode"),ya=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),Qu=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),ym=Symbol.for("react.offscreen"),Nd=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Tl;function fi(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Al=!1;function Cl(e,t){if(!e||Al)return"";Al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fi(e):""}function N0(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function Sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case ur:return"Portal";case ya:return"Profiler";case qu:return"StrictMode";case va:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _m:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case Qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xu:return t=e.displayName||null,t!==null?t:Sa(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return Sa(e(t))}catch{}}return null}function x0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(t);case 8:return t===qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R0(e){var t=vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=R0(e))}function Em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wa(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sm(e,t){t=t.checked,t!=null&&Yu(e,"checked",t,!1)}function Ia(e,t){Sm(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ta(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ta(e,t,n){(t!=="number"||Js(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function Ir(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Od(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(hi(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function wm(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Im(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Im(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ki(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O0=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){O0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_i[t]=_i[e]})});function Am(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_i.hasOwnProperty(e)&&_i[e]?(""+t).trim():t+"px"}function Cm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Am(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var k0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(e,t){if(t){if(k0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,Tr=null,Ar=null;function Dd(e){if(e=ss(e)){if(typeof Oa!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Wo(t),Oa(e.stateNode,e.type,t))}}function Nm(e){Tr?Ar?Ar.push(e):Ar=[e]:Tr=e}function xm(){if(Tr){var e=Tr,t=Ar;if(Ar=Tr=null,Dd(e),t)for(e=0;e<t.length;e++)Dd(t[e])}}function Rm(e,t){return e(t)}function Om(){}var Nl=!1;function km(e,t,n){if(Nl)return e(t,n);Nl=!0;try{return Rm(e,t,n)}finally{Nl=!1,(Tr!==null||Ar!==null)&&(Om(),xm())}}function Di(e,t){var n=e.stateNode;if(n===null)return null;var r=Wo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ka=!1;if(Vt)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){ka=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{ka=!1}function D0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var yi=!1,Zs=null,eo=!1,Da=null,P0={onError:function(e){yi=!0,Zs=e}};function L0(e,t,n,r,i,s,o,l,a){yi=!1,Zs=null,D0.apply(P0,arguments)}function b0(e,t,n,r,i,s,o,l,a){if(L0.apply(this,arguments),yi){if(yi){var u=Zs;yi=!1,Zs=null}else throw Error(I(198));eo||(eo=!0,Da=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pd(e){if(er(e)!==e)throw Error(I(188))}function M0(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pd(i),e;if(s===r)return Pd(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Pm(e){return e=M0(e),e!==null?Lm(e):null}function Lm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lm(e);if(t!==null)return t;e=e.sibling}return null}var bm=Qe.unstable_scheduleCallback,Ld=Qe.unstable_cancelCallback,U0=Qe.unstable_shouldYield,F0=Qe.unstable_requestPaint,oe=Qe.unstable_now,j0=Qe.unstable_getCurrentPriorityLevel,Zu=Qe.unstable_ImmediatePriority,Mm=Qe.unstable_UserBlockingPriority,to=Qe.unstable_NormalPriority,B0=Qe.unstable_LowPriority,Um=Qe.unstable_IdlePriority,Bo=null,xt=null;function H0(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Bo,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:W0,$0=Math.log,V0=Math.LN2;function W0(e){return e>>>=0,e===0?32:31-($0(e)/V0|0)|0}var vs=64,Es=4194304;function pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function no(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=pi(l):(s&=o,s!==0&&(r=pi(s)))}else o=n&~i,o!==0?r=pi(o):s!==0&&(r=pi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_t(t),i=1<<n,r|=e[n],t&=~i;return r}function z0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-_t(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=z0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fm(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function xl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function K0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_t(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ec(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $=0;function jm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bm,tc,Hm,$m,Vm,La=!1,Ss=[],un=null,cn=null,dn=null,Pi=new Map,Li=new Map,nn=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ti(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ss(t),t!==null&&tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function q0(e,t,n,r,i){switch(t){case"focusin":return un=ti(un,e,t,n,r,i),!0;case"dragenter":return cn=ti(cn,e,t,n,r,i),!0;case"mouseover":return dn=ti(dn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pi.set(s,ti(Pi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Li.set(s,ti(Li.get(s)||null,e,t,n,r,i)),!0}return!1}function Wm(e){var t=Pn(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=Dm(n),t!==null){e.blockedOn=t,Vm(e.priority,function(){Hm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ra=r,n.target.dispatchEvent(r),Ra=null}else return t=ss(n),t!==null&&tc(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){Hs(e)&&n.delete(t)}function Q0(){La=!1,un!==null&&Hs(un)&&(un=null),cn!==null&&Hs(cn)&&(cn=null),dn!==null&&Hs(dn)&&(dn=null),Pi.forEach(Md),Li.forEach(Md)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,La||(La=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Q0)))}function bi(e){function t(i){return ni(i,e)}if(0<Ss.length){ni(Ss[0],e);for(var n=1;n<Ss.length;n++){var r=Ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&ni(un,e),cn!==null&&ni(cn,e),dn!==null&&ni(dn,e),Pi.forEach(t),Li.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)Wm(n),n.blockedOn===null&&nn.shift()}var Cr=Xt.ReactCurrentBatchConfig,ro=!0;function X0(e,t,n,r){var i=$,s=Cr.transition;Cr.transition=null;try{$=1,nc(e,t,n,r)}finally{$=i,Cr.transition=s}}function J0(e,t,n,r){var i=$,s=Cr.transition;Cr.transition=null;try{$=4,nc(e,t,n,r)}finally{$=i,Cr.transition=s}}function nc(e,t,n,r){if(ro){var i=ba(e,t,n,r);if(i===null)Fl(e,t,r,io,n),bd(e,r);else if(q0(i,e,t,n,r))r.stopPropagation();else if(bd(e,r),t&4&&-1<Y0.indexOf(e)){for(;i!==null;){var s=ss(i);if(s!==null&&Bm(s),s=ba(e,t,n,r),s===null&&Fl(e,t,r,io,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fl(e,t,r,null,n)}}var io=null;function ba(e,t,n,r){if(io=null,e=Ju(r),e=Pn(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return io=e,null}function zm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case Zu:return 1;case Mm:return 4;case to:case B0:return 16;case Um:return 536870912;default:return 16}default:return 16}}var sn=null,rc=null,$s=null;function Gm(){if($s)return $s;var e,t=rc,n=t.length,r,i="value"in sn?sn.value:sn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $s=i.slice(e,1<r?1-r:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function Ud(){return!1}function Je(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ws:Ud,this.isPropagationStopped=Ud,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Je(zr),is=ie({},zr,{view:0,detail:0}),Z0=Je(is),Rl,Ol,ri,Ho=ie({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Rl=e.screenX-ri.screenX,Ol=e.screenY-ri.screenY):Ol=Rl=0,ri=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),Fd=Je(Ho),eE=ie({},Ho,{dataTransfer:0}),tE=Je(eE),nE=ie({},is,{relatedTarget:0}),kl=Je(nE),rE=ie({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=Je(rE),sE=ie({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oE=Je(sE),lE=ie({},zr,{data:0}),jd=Je(lE),aE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cE[e])?!!t[e]:!1}function sc(){return dE}var fE=ie({},is,{key:function(e){if(e.key){var t=aE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hE=Je(fE),pE=ie({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Je(pE),mE=ie({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),gE=Je(mE),_E=ie({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yE=Je(_E),vE=ie({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Je(vE),SE=[9,13,27,32],oc=Vt&&"CompositionEvent"in window,vi=null;Vt&&"documentMode"in document&&(vi=document.documentMode);var wE=Vt&&"TextEvent"in window&&!vi,Km=Vt&&(!oc||vi&&8<vi&&11>=vi),Hd=String.fromCharCode(32),$d=!1;function Ym(e,t){switch(e){case"keyup":return SE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function IE(e,t){switch(e){case"compositionend":return qm(t);case"keypress":return t.which!==32?null:($d=!0,Hd);case"textInput":return e=t.data,e===Hd&&$d?null:e;default:return null}}function TE(e,t){if(dr)return e==="compositionend"||!oc&&Ym(e,t)?(e=Gm(),$s=rc=sn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Km&&t.locale!=="ko"?null:t.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AE[e.type]:t==="textarea"}function Qm(e,t,n,r){Nm(r),t=so(t,"onChange"),0<t.length&&(n=new ic("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ei=null,Mi=null;function CE(e){lg(e,0)}function $o(e){var t=pr(e);if(Em(t))return e}function NE(e,t){if(e==="change")return t}var Xm=!1;if(Vt){var Dl;if(Vt){var Pl="oninput"in document;if(!Pl){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Pl=typeof Wd.oninput=="function"}Dl=Pl}else Dl=!1;Xm=Dl&&(!document.documentMode||9<document.documentMode)}function zd(){Ei&&(Ei.detachEvent("onpropertychange",Jm),Mi=Ei=null)}function Jm(e){if(e.propertyName==="value"&&$o(Mi)){var t=[];Qm(t,Mi,e,Ju(e)),km(CE,t)}}function xE(e,t,n){e==="focusin"?(zd(),Ei=t,Mi=n,Ei.attachEvent("onpropertychange",Jm)):e==="focusout"&&zd()}function RE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $o(Mi)}function OE(e,t){if(e==="click")return $o(t)}function kE(e,t){if(e==="input"||e==="change")return $o(t)}function DE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:DE;function Ui(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_a.call(t,i)||!Et(e[i],t[i]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kd(e,t){var n=Gd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gd(n)}}function Zm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eg(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PE(e){var t=eg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zm(n.ownerDocument.documentElement,n)){if(r!==null&&lc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Kd(n,s);var o=Kd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LE=Vt&&"documentMode"in document&&11>=document.documentMode,fr=null,Ma=null,Si=null,Ua=!1;function Yd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||fr==null||fr!==Js(r)||(r=fr,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ui(Si,r)||(Si=r,r=so(Ma,"onSelect"),0<r.length&&(t=new ic("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function Is(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},Ll={},tg={};Vt&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Vo(e){if(Ll[e])return Ll[e];if(!hr[e])return e;var t=hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tg)return Ll[e]=t[n];return e}var ng=Vo("animationend"),rg=Vo("animationiteration"),ig=Vo("animationstart"),sg=Vo("transitionend"),og=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){og.set(e,t),Zn(t,[e])}for(var bl=0;bl<qd.length;bl++){var Ml=qd[bl],bE=Ml.toLowerCase(),ME=Ml[0].toUpperCase()+Ml.slice(1);Tn(bE,"on"+ME)}Tn(ng,"onAnimationEnd");Tn(rg,"onAnimationIteration");Tn(ig,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(sg,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function Qd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,b0(r,t,void 0,e),e.currentTarget=null}function lg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Qd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Qd(i,l,u),s=a}}}if(eo)throw e=Da,eo=!1,Da=null,e}function q(e,t){var n=t[$a];n===void 0&&(n=t[$a]=new Set);var r=e+"__bubble";n.has(r)||(ag(t,e,2,!1),n.add(r))}function Ul(e,t,n){var r=0;t&&(r|=4),ag(n,e,r,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[Ts]){e[Ts]=!0,mm.forEach(function(n){n!=="selectionchange"&&(UE.has(n)||Ul(n,!1,e),Ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,Ul("selectionchange",!1,t))}}function ag(e,t,n,r){switch(zm(t)){case 1:var i=X0;break;case 4:i=J0;break;default:i=nc}n=i.bind(null,t,n,e),i=void 0,!ka||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}km(function(){var u=s,c=Ju(n),d=[];e:{var f=og.get(e);if(f!==void 0){var g=ic,_=e;switch(e){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":g=hE;break;case"focusin":_="focus",g=kl;break;case"focusout":_="blur",g=kl;break;case"beforeblur":case"afterblur":g=kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gE;break;case ng:case rg:case ig:g=iE;break;case sg:g=yE;break;case"scroll":g=Z0;break;case"wheel":g=EE;break;case"copy":case"cut":case"paste":g=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bd}var E=(t&4)!==0,v=!E&&e==="scroll",m=E?f!==null?f+"Capture":null:f;E=[];for(var h=u,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=Di(h,m),S!=null&&E.push(ji(h,S,y)))),v)break;h=h.return}0<E.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Ra&&(_=n.relatedTarget||n.fromElement)&&(Pn(_)||_[Wt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Pn(_):null,_!==null&&(v=er(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(E=Fd,S="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=Bd,S="onPointerLeave",m="onPointerEnter",h="pointer"),v=g==null?f:pr(g),y=_==null?f:pr(_),f=new E(S,h+"leave",g,n,c),f.target=v,f.relatedTarget=y,S=null,Pn(c)===u&&(E=new E(m,h+"enter",_,n,c),E.target=y,E.relatedTarget=v,S=E),v=S,g&&_)t:{for(E=g,m=_,h=0,y=E;y;y=or(y))h++;for(y=0,S=m;S;S=or(S))y++;for(;0<h-y;)E=or(E),h--;for(;0<y-h;)m=or(m),y--;for(;h--;){if(E===m||m!==null&&E===m.alternate)break t;E=or(E),m=or(m)}E=null}else E=null;g!==null&&Xd(d,f,g,E,!1),_!==null&&v!==null&&Xd(d,v,_,E,!0)}}e:{if(f=u?pr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var A=NE;else if(Vd(f))if(Xm)A=kE;else{A=RE;var N=xE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=OE);if(A&&(A=A(e,u))){Qm(d,A,n,c);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ta(f,"number",f.value)}switch(N=u?pr(u):window,e){case"focusin":(Vd(N)||N.contentEditable==="true")&&(fr=N,Ma=u,Si=null);break;case"focusout":Si=Ma=fr=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,Yd(d,n,c);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Yd(d,n,c)}var k;if(oc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else dr?Ym(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Km&&n.locale!=="ko"&&(dr||R!=="onCompositionStart"?R==="onCompositionEnd"&&dr&&(k=Gm()):(sn=c,rc="value"in sn?sn.value:sn.textContent,dr=!0)),N=so(u,R),0<N.length&&(R=new jd(R,e,null,n,c),d.push({event:R,listeners:N}),k?R.data=k:(k=qm(n),k!==null&&(R.data=k)))),(k=wE?IE(e,n):TE(e,n))&&(u=so(u,"onBeforeInput"),0<u.length&&(c=new jd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}lg(d,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function so(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Di(e,n),s!=null&&r.unshift(ji(e,s,i)),s=Di(e,t),s!=null&&r.push(ji(e,s,i))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Di(n,s),a!=null&&o.unshift(ji(n,a,l))):i||(a=Di(n,s),a!=null&&o.push(ji(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var FE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(FE,`
`).replace(jE,"")}function As(e,t,n){if(t=Jd(t),Jd(e)!==t&&n)throw Error(I(425))}function oo(){}var Fa=null,ja=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ha=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(e){return Zd.resolve(null).then(e).catch($E)}:Ha;function $E(e){setTimeout(function(){throw e})}function jl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bi(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Gr,Bi="__reactProps$"+Gr,Wt="__reactContainer$"+Gr,$a="__reactEvents$"+Gr,VE="__reactListeners$"+Gr,WE="__reactHandles$"+Gr;function Pn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ef(e);e!==null;){if(n=e[Ct])return n;e=ef(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[Ct]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Wo(e){return e[Bi]||null}var Va=[],mr=-1;function An(e){return{current:e}}function J(e){0>mr||(e.current=Va[mr],Va[mr]=null,mr--)}function K(e,t){mr++,Va[mr]=e.current,e.current=t}var En={},Re=An(En),$e=An(!1),Vn=En;function Lr(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ve(e){return e=e.childContextTypes,e!=null}function lo(){J($e),J(Re)}function tf(e,t,n){if(Re.current!==En)throw Error(I(168));K(Re,t),K($e,n)}function ug(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,x0(e)||"Unknown",i));return ie({},n,r)}function ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Vn=Re.current,K(Re,e),K($e,$e.current),!0}function nf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=ug(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,J($e),J(Re),K(Re,e)):J($e),K($e,n)}var Mt=null,zo=!1,Bl=!1;function cg(e){Mt===null?Mt=[e]:Mt.push(e)}function zE(e){zo=!0,cg(e)}function Cn(){if(!Bl&&Mt!==null){Bl=!0;var e=0,t=$;try{var n=Mt;for($=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,zo=!1}catch(i){throw Mt!==null&&(Mt=Mt.slice(e+1)),bm(Zu,Cn),i}finally{$=t,Bl=!1}}return null}var gr=[],_r=0,uo=null,co=0,tt=[],nt=0,Wn=null,Ut=1,Ft="";function xn(e,t){gr[_r++]=co,gr[_r++]=uo,uo=e,co=t}function dg(e,t,n){tt[nt++]=Ut,tt[nt++]=Ft,tt[nt++]=Wn,Wn=e;var r=Ut;e=Ft;var i=32-_t(r)-1;r&=~(1<<i),n+=1;var s=32-_t(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-_t(t)+i|n<<i|r,Ft=s+e}else Ut=1<<s|n<<i|r,Ft=e}function ac(e){e.return!==null&&(xn(e,1),dg(e,1,0))}function uc(e){for(;e===uo;)uo=gr[--_r],gr[_r]=null,co=gr[--_r],gr[_r]=null;for(;e===Wn;)Wn=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null,Ut=tt[--nt],tt[nt]=null}var qe=null,Ye=null,ee=!1,pt=null;function fg(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ye=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:Ut,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Ye=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function za(e){if(ee){var t=Ye;if(t){var n=t;if(!rf(e,t)){if(Wa(e))throw Error(I(418));t=fn(n.nextSibling);var r=qe;t&&rf(e,t)?fg(r,n):(e.flags=e.flags&-4097|2,ee=!1,qe=e)}}else{if(Wa(e))throw Error(I(418));e.flags=e.flags&-4097|2,ee=!1,qe=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Cs(e){if(e!==qe)return!1;if(!ee)return sf(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=Ye)){if(Wa(e))throw hg(),Error(I(418));for(;t;)fg(e,t),t=fn(t.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=qe?fn(e.stateNode.nextSibling):null;return!0}function hg(){for(var e=Ye;e;)e=fn(e.nextSibling)}function br(){Ye=qe=null,ee=!1}function cc(e){pt===null?pt=[e]:pt.push(e)}var GE=Xt.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function of(e){var t=e._init;return t(e._payload)}function pg(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=gn(m,h),m.index=0,m.sibling=null,m}function s(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,y,S){return h===null||h.tag!==6?(h=Kl(y,m.mode,S),h.return=m,h):(h=i(h,y),h.return=m,h)}function a(m,h,y,S){var A=y.type;return A===cr?c(m,h,y.props.children,S,y.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&of(A)===h.type)?(S=i(h,y.props),S.ref=ii(m,h,y),S.return=m,S):(S=Qs(y.type,y.key,y.props,null,m.mode,S),S.ref=ii(m,h,y),S.return=m,S)}function u(m,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Yl(y,m.mode,S),h.return=m,h):(h=i(h,y.children||[]),h.return=m,h)}function c(m,h,y,S,A){return h===null||h.tag!==7?(h=Bn(y,m.mode,S,A),h.return=m,h):(h=i(h,y),h.return=m,h)}function d(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Kl(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case gs:return y=Qs(h.type,h.key,h.props,null,m.mode,y),y.ref=ii(m,null,h),y.return=m,y;case ur:return h=Yl(h,m.mode,y),h.return=m,h;case en:var S=h._init;return d(m,S(h._payload),y)}if(hi(h)||Zr(h))return h=Bn(h,m.mode,y,null),h.return=m,h;Ns(m,h)}return null}function f(m,h,y,S){var A=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:l(m,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gs:return y.key===A?a(m,h,y,S):null;case ur:return y.key===A?u(m,h,y,S):null;case en:return A=y._init,f(m,h,A(y._payload),S)}if(hi(y)||Zr(y))return A!==null?null:c(m,h,y,S,null);Ns(m,y)}return null}function g(m,h,y,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,l(h,m,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gs:return m=m.get(S.key===null?y:S.key)||null,a(h,m,S,A);case ur:return m=m.get(S.key===null?y:S.key)||null,u(h,m,S,A);case en:var N=S._init;return g(m,h,y,N(S._payload),A)}if(hi(S)||Zr(S))return m=m.get(y)||null,c(h,m,S,A,null);Ns(h,S)}return null}function _(m,h,y,S){for(var A=null,N=null,k=h,R=h=0,B=null;k!==null&&R<y.length;R++){k.index>R?(B=k,k=null):B=k.sibling;var L=f(m,k,y[R],S);if(L===null){k===null&&(k=B);break}e&&k&&L.alternate===null&&t(m,k),h=s(L,h,R),N===null?A=L:N.sibling=L,N=L,k=B}if(R===y.length)return n(m,k),ee&&xn(m,R),A;if(k===null){for(;R<y.length;R++)k=d(m,y[R],S),k!==null&&(h=s(k,h,R),N===null?A=k:N.sibling=k,N=k);return ee&&xn(m,R),A}for(k=r(m,k);R<y.length;R++)B=g(k,m,R,y[R],S),B!==null&&(e&&B.alternate!==null&&k.delete(B.key===null?R:B.key),h=s(B,h,R),N===null?A=B:N.sibling=B,N=B);return e&&k.forEach(function(Oe){return t(m,Oe)}),ee&&xn(m,R),A}function E(m,h,y,S){var A=Zr(y);if(typeof A!="function")throw Error(I(150));if(y=A.call(y),y==null)throw Error(I(151));for(var N=A=null,k=h,R=h=0,B=null,L=y.next();k!==null&&!L.done;R++,L=y.next()){k.index>R?(B=k,k=null):B=k.sibling;var Oe=f(m,k,L.value,S);if(Oe===null){k===null&&(k=B);break}e&&k&&Oe.alternate===null&&t(m,k),h=s(Oe,h,R),N===null?A=Oe:N.sibling=Oe,N=Oe,k=B}if(L.done)return n(m,k),ee&&xn(m,R),A;if(k===null){for(;!L.done;R++,L=y.next())L=d(m,L.value,S),L!==null&&(h=s(L,h,R),N===null?A=L:N.sibling=L,N=L);return ee&&xn(m,R),A}for(k=r(m,k);!L.done;R++,L=y.next())L=g(k,m,R,L.value,S),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?R:L.key),h=s(L,h,R),N===null?A=L:N.sibling=L,N=L);return e&&k.forEach(function(ct){return t(m,ct)}),ee&&xn(m,R),A}function v(m,h,y,S){if(typeof y=="object"&&y!==null&&y.type===cr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case gs:e:{for(var A=y.key,N=h;N!==null;){if(N.key===A){if(A=y.type,A===cr){if(N.tag===7){n(m,N.sibling),h=i(N,y.props.children),h.return=m,m=h;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&of(A)===N.type){n(m,N.sibling),h=i(N,y.props),h.ref=ii(m,N,y),h.return=m,m=h;break e}n(m,N);break}else t(m,N);N=N.sibling}y.type===cr?(h=Bn(y.props.children,m.mode,S,y.key),h.return=m,m=h):(S=Qs(y.type,y.key,y.props,null,m.mode,S),S.ref=ii(m,h,y),S.return=m,m=S)}return o(m);case ur:e:{for(N=y.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(m,h.sibling),h=i(h,y.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Yl(y,m.mode,S),h.return=m,m=h}return o(m);case en:return N=y._init,v(m,h,N(y._payload),S)}if(hi(y))return _(m,h,y,S);if(Zr(y))return E(m,h,y,S);Ns(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,y),h.return=m,m=h):(n(m,h),h=Kl(y,m.mode,S),h.return=m,m=h),o(m)):n(m,h)}return v}var Mr=pg(!0),mg=pg(!1),fo=An(null),ho=null,yr=null,dc=null;function fc(){dc=yr=ho=null}function hc(e){var t=fo.current;J(fo),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){ho=e,dc=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(dc!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(ho===null)throw Error(I(308));yr=e,ho.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Ln=null;function pc(e){Ln===null?Ln=[e]:Ln.push(e)}function gg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,pc(t)):(n.next=i.next,i.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zt(e,n)}return i=r.interleaved,i===null?(t.next=t,pc(r)):(t.next=i.next,i.next=t),r.interleaved=t,zt(e,n)}function Ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ec(e,n)}}function lf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var i=e.updateQueue;tn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(f=t,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=ie({},d,f);break e;case 2:tn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=d}}function af(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var os={},Rt=An(os),Hi=An(os),$i=An(os);function bn(e){if(e===os)throw Error(I(174));return e}function gc(e,t){switch(K($i,t),K(Hi,e),K(Rt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}J(Rt),K(Rt,t)}function Ur(){J(Rt),J(Hi),J($i)}function yg(e){bn($i.current);var t=bn(Rt.current),n=Ca(t,e.type);t!==n&&(K(Hi,e),K(Rt,n))}function _c(e){Hi.current===e&&(J(Rt),J(Hi))}var ne=An(0);function mo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function yc(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var zs=Xt.ReactCurrentDispatcher,$l=Xt.ReactCurrentBatchConfig,zn=0,re=null,ce=null,pe=null,go=!1,wi=!1,Vi=0,KE=0;function Te(){throw Error(I(321))}function vc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Ec(e,t,n,r,i,s){if(zn=s,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?XE:JE,e=n(r,i),wi){s=0;do{if(wi=!1,Vi=0,25<=s)throw Error(I(301));s+=1,pe=ce=null,t.updateQueue=null,zs.current=ZE,e=n(r,i)}while(wi)}if(zs.current=_o,t=ce!==null&&ce.next!==null,zn=0,pe=ce=re=null,go=!1,t)throw Error(I(300));return e}function Sc(){var e=Vi!==0;return Vi=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=e:pe=pe.next=e,pe}function lt(){if(ce===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=pe===null?re.memoizedState:pe.next;if(t!==null)pe=t,ce=e;else{if(e===null)throw Error(I(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},pe===null?re.memoizedState=pe=e:pe=pe.next=e}return pe}function Wi(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=lt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,re.lanes|=c,Gn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Et(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,re.lanes|=s,Gn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wl(e){var t=lt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Et(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vg(){}function Eg(e,t){var n=re,r=lt(),i=t(),s=!Et(r.memoizedState,i);if(s&&(r.memoizedState=i,Be=!0),r=r.queue,wc(Ig.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,zi(9,wg.bind(null,n,r,i,t),void 0,null),ge===null)throw Error(I(349));zn&30||Sg(n,t,i)}return i}function Sg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wg(e,t,n,r){t.value=n,t.getSnapshot=r,Tg(t)&&Ag(e)}function Ig(e,t,n){return n(function(){Tg(t)&&Ag(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Ag(e){var t=zt(e,1);t!==null&&yt(t,e,1,-1)}function uf(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=QE.bind(null,re,e),[t.memoizedState,e]}function zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cg(){return lt().memoizedState}function Gs(e,t,n,r){var i=Tt();re.flags|=e,i.memoizedState=zi(1|t,n,void 0,r===void 0?null:r)}function Go(e,t,n,r){var i=lt();r=r===void 0?null:r;var s=void 0;if(ce!==null){var o=ce.memoizedState;if(s=o.destroy,r!==null&&vc(r,o.deps)){i.memoizedState=zi(t,n,s,r);return}}re.flags|=e,i.memoizedState=zi(1|t,n,s,r)}function cf(e,t){return Gs(8390656,8,e,t)}function wc(e,t){return Go(2048,8,e,t)}function Ng(e,t){return Go(4,2,e,t)}function xg(e,t){return Go(4,4,e,t)}function Rg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Og(e,t,n){return n=n!=null?n.concat([e]):null,Go(4,4,Rg.bind(null,t,e),n)}function Ic(){}function kg(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dg(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pg(e,t,n){return zn&21?(Et(n,t)||(n=Fm(),re.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function YE(e,t){var n=$;$=n!==0&&4>n?n:4,e(!0);var r=$l.transition;$l.transition={};try{e(!1),t()}finally{$=n,$l.transition=r}}function Lg(){return lt().memoizedState}function qE(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bg(e))Mg(t,n);else if(n=gg(e,t,n,r),n!==null){var i=Pe();yt(n,e,r,i),Ug(n,t,r)}}function QE(e,t,n){var r=mn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bg(e))Mg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Et(l,o)){var a=t.interleaved;a===null?(i.next=i,pc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=gg(e,t,i,r),n!==null&&(i=Pe(),yt(n,e,r,i),Ug(n,t,r))}}function bg(e){var t=e.alternate;return e===re||t!==null&&t===re}function Mg(e,t){wi=go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ug(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ec(e,n)}}var _o={readContext:ot,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},XE={readContext:ot,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4194308,4,Rg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qE.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:Ic,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=YE.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,i=Tt();if(ee){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ge===null)throw Error(I(349));zn&30||Sg(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cf(Ig.bind(null,r,s,e),[e]),r.flags|=2048,zi(9,wg.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tt(),t=ge.identifierPrefix;if(ee){var n=Ft,r=Ut;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JE={readContext:ot,useCallback:kg,useContext:ot,useEffect:wc,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:xg,useMemo:Dg,useReducer:Vl,useRef:Cg,useState:function(){return Vl(Wi)},useDebugValue:Ic,useDeferredValue:function(e){var t=lt();return Pg(t,ce.memoizedState,e)},useTransition:function(){var e=Vl(Wi)[0],t=lt().memoizedState;return[e,t]},useMutableSource:vg,useSyncExternalStore:Eg,useId:Lg,unstable_isNewReconciler:!1},ZE={readContext:ot,useCallback:kg,useContext:ot,useEffect:wc,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:xg,useMemo:Dg,useReducer:Wl,useRef:Cg,useState:function(){return Wl(Wi)},useDebugValue:Ic,useDeferredValue:function(e){var t=lt();return ce===null?t.memoizedState=e:Pg(t,ce.memoizedState,e)},useTransition:function(){var e=Wl(Wi)[0],t=lt().memoizedState;return[e,t]},useMutableSource:vg,useSyncExternalStore:Eg,useId:Lg,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ko={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),i=mn(e),s=Bt(r,i);s.payload=t,n!=null&&(s.callback=n),t=hn(e,s,i),t!==null&&(yt(t,e,i,r),Ws(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),i=mn(e),s=Bt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=hn(e,s,i),t!==null&&(yt(t,e,i,r),Ws(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=mn(e),i=Bt(n,r);i.tag=2,t!=null&&(i.callback=t),t=hn(e,i,r),t!==null&&(yt(t,e,r,n),Ws(t,e,r))}};function df(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,r)||!Ui(i,s):!0}function Fg(e,t,n){var r=!1,i=En,s=t.contextType;return typeof s=="object"&&s!==null?s=ot(s):(i=Ve(t)?Vn:Re.current,r=t.contextTypes,s=(r=r!=null)?Lr(e,i):En),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ko,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ff(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function Ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},mc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ot(s):(s=Ve(t)?Vn:Re.current,i.context=Lr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ka(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ko.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=N0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function zl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function jg(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vo||(vo=!0,su=r),qa(e,t)},n}function Bg(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pS.bind(null,e,t,n),t.then(e,e))}function pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var tS=Xt.ReactCurrentOwner,Be=!1;function De(e,t,n,r){t.child=e===null?mg(t,null,n,r):Mr(t,e.child,n,r)}function gf(e,t,n,r,i){n=n.render;var s=t.ref;return Nr(t,i),r=Ec(e,t,n,r,s,i),n=Sc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&n&&ac(t),t.flags|=1,De(e,t,r,i),t.child)}function _f(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Hg(e,t,s,r,i)):(e=Qs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(o,r)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Hg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ui(s,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return Qa(e,t,n,r,i)}function $g(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Er,Ke),Ke|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Er,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(Er,Ke),Ke|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,K(Er,Ke),Ke|=r;return De(e,t,i,n),t.child}function Vg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,n,r,i){var s=Ve(n)?Vn:Re.current;return s=Lr(t,s),Nr(t,i),n=Ec(e,t,n,r,s,i),r=Sc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&r&&ac(t),t.flags|=1,De(e,t,n,i),t.child)}function yf(e,t,n,r,i){if(Ve(n)){var s=!0;ao(t)}else s=!1;if(Nr(t,i),t.stateNode===null)Ks(e,t),Fg(t,n,r),Ya(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?Vn:Re.current,u=Lr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ff(t,o,r,u),tn=!1;var f=t.memoizedState;o.state=f,po(t,r,o,i),a=t.memoizedState,l!==r||f!==a||$e.current||tn?(typeof c=="function"&&(Ka(t,n,c,r),a=t.memoizedState),(l=tn||df(t,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_g(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ft(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Ve(n)?Vn:Re.current,a=Lr(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&ff(t,o,r,a),tn=!1,f=t.memoizedState,o.state=f,po(t,r,o,i);var _=t.memoizedState;l!==d||f!==_||$e.current||tn?(typeof g=="function"&&(Ka(t,n,g,r),_=t.memoizedState),(u=tn||df(t,n,u,r,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Xa(e,t,n,r,s,i)}function Xa(e,t,n,r,i,s){Vg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&nf(t,n,!1),Gt(e,t,s);r=t.stateNode,tS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Mr(t,e.child,null,s),t.child=Mr(t,null,l,s)):De(e,t,l,s),t.memoizedState=r.state,i&&nf(t,n,!0),t.child}function Wg(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),gc(e,t.containerInfo)}function vf(e,t,n,r,i){return br(),cc(i),t.flags|=256,De(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function Za(e){return{baseLanes:e,cachePool:null,transitions:null}}function zg(e,t,n){var r=t.pendingProps,i=ne.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),K(ne,i&1),e===null)return za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qo(o,r,0,null),e=Bn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Za(n),t.memoizedState=Ja,e):Tc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return nS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=gn(l,s):(s=Bn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Za(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ja,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tc(e,t){return t=Qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xs(e,t,n,r){return r!==null&&cc(r),Mr(t,e.child,null,n),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=zl(Error(I(422))),xs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Qo({mode:"visible",children:r.children},i,0,null),s=Bn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Mr(t,e.child,null,o),t.child.memoizedState=Za(o),t.memoizedState=Ja,s);if(!(t.mode&1))return xs(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=zl(s,r,void 0),xs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Be||l){if(r=ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zt(e,i),yt(r,e,i,-1))}return Oc(),r=zl(Error(I(421))),xs(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ye=fn(i.nextSibling),qe=t,ee=!0,pt=null,e!==null&&(tt[nt++]=Ut,tt[nt++]=Ft,tt[nt++]=Wn,Ut=e.id,Ft=e.overflow,Wn=t),t=Tc(t,r.children),t.flags|=4096,t)}function Ef(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function Gl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(De(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,n,t);else if(e.tag===19)Ef(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gl(t,!0,n,null,s);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rS(e,t,n){switch(t.tag){case 3:Wg(t),br();break;case 5:yg(t);break;case 1:Ve(t.type)&&ao(t);break;case 4:gc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;K(fo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?zg(e,t,n):(K(ne,ne.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);K(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,$g(e,t,n)}return Gt(e,t,n)}var Kg,eu,Yg,qg;Kg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};Yg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bn(Rt.current);var s=null;switch(n){case"input":i=wa(e,i),r=wa(e,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=Aa(e,i),r=Aa(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oo)}Na(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};qg=function(e,t,n,r){n!==r&&(t.flags|=4)};function si(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iS(e,t,n){var r=t.pendingProps;switch(uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ve(t.type)&&lo(),Ae(t),null;case 3:return r=t.stateNode,Ur(),J($e),J(Re),yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(au(pt),pt=null))),eu(e,t),Ae(t),null;case 5:_c(t);var i=bn($i.current);if(n=t.type,e!==null&&t.stateNode!=null)Yg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}if(e=bn(Rt.current),Cs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ct]=t,r[Bi]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<mi.length;i++)q(mi[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":xd(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":Od(r,s),q("invalid",r)}Na(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,e),i=["children",""+l]):Oi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":_s(r),Rd(r,s,!0);break;case"textarea":_s(r),kd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=oo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Im(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ct]=t,e[Bi]=r,Kg(e,t,!1,!1),t.stateNode=e;e:{switch(o=xa(n,r),n){case"dialog":q("cancel",e),q("close",e),i=r;break;case"iframe":case"object":case"embed":q("load",e),i=r;break;case"video":case"audio":for(i=0;i<mi.length;i++)q(mi[i],e);i=r;break;case"source":q("error",e),i=r;break;case"img":case"image":case"link":q("error",e),q("load",e),i=r;break;case"details":q("toggle",e),i=r;break;case"input":xd(e,r),i=wa(e,r),q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),q("invalid",e);break;case"textarea":Od(e,r),i=Aa(e,r),q("invalid",e);break;default:i=r}Na(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Cm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ki(e,a):typeof a=="number"&&ki(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&q("scroll",e):a!=null&&Yu(e,s,a,o))}switch(n){case"input":_s(e),Rd(e,r,!1);break;case"textarea":_s(e),kd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ir(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=oo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)qg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=bn($i.current),bn(Rt.current),Cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(s=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:As(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Ae(t),null;case 13:if(J(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ye!==null&&t.mode&1&&!(t.flags&128))hg(),br(),t.flags|=98560,s=!1;else if(s=Cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Ct]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),s=!1}else pt!==null&&(au(pt),pt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):Oc())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Ur(),eu(e,t),e===null&&Fi(t.stateNode.containerInfo),Ae(t),null;case 10:return hc(t.type._context),Ae(t),null;case 17:return Ve(t.type)&&lo(),Ae(t),null;case 19:if(J(ne),s=t.memoizedState,s===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)si(s,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mo(e),o!==null){for(t.flags|=128,si(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(ne,ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&oe()>jr&&(t.flags|=128,r=!0,si(s,!1),t.lanes=4194304)}else{if(!r)if(e=mo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),si(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return Ae(t),null}else 2*oe()-s.renderingStartTime>jr&&n!==1073741824&&(t.flags|=128,r=!0,si(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=oe(),t.sibling=null,n=ne.current,K(ne,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Rc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function sS(e,t){switch(uc(t),t.tag){case 1:return Ve(t.type)&&lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),J($e),J(Re),yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _c(t),null;case 13:if(J(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ne),null;case 4:return Ur(),null;case 10:return hc(t.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var Rs=!1,Ce=!1,oS=typeof WeakSet=="function"?WeakSet:Set,O=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){se(e,t,r)}}var Sf=!1;function lS(e,t){if(Fa=ro,e=eg(),lc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ja={focusedElem:e,selectionRange:n},ro=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,v=_.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:ft(t.type,E),v);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=Sf,Sf=!1,_}function Ii(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&tu(t,n,s)}i=i.next}while(i!==r)}}function Yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qg(e){var t=e.alternate;t!==null&&(e.alternate=null,Qg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Bi],delete t[$a],delete t[VE],delete t[WE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xg(e){return e.tag===5||e.tag===3||e.tag===4}function wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oo));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}var _e=null,ht=!1;function Zt(e,t,n){for(n=n.child;n!==null;)Jg(e,t,n),n=n.sibling}function Jg(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Bo,n)}catch{}switch(n.tag){case 5:Ce||vr(n,t);case 6:var r=_e,i=ht;_e=null,Zt(e,t,n),_e=r,ht=i,_e!==null&&(ht?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(ht?(e=_e,n=n.stateNode,e.nodeType===8?jl(e.parentNode,n):e.nodeType===1&&jl(e,n),bi(e)):jl(_e,n.stateNode));break;case 4:r=_e,i=ht,_e=n.stateNode.containerInfo,ht=!0,Zt(e,t,n),_e=r,ht=i;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tu(n,t,o),i=i.next}while(i!==r)}Zt(e,t,n);break;case 1:if(!Ce&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Zt(e,t,n),Ce=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function If(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oS),t.forEach(function(r){var i=gS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,ht=!1;break e;case 3:_e=l.stateNode.containerInfo,ht=!0;break e;case 4:_e=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(_e===null)throw Error(I(160));Jg(s,o,i),_e=null,ht=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zg(t,e),t=t.sibling}function Zg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),It(e),r&4){try{Ii(3,e,e.return),Yo(3,e)}catch(E){se(e,e.return,E)}try{Ii(5,e,e.return)}catch(E){se(e,e.return,E)}}break;case 1:dt(t,e),It(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(dt(t,e),It(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var i=e.stateNode;try{ki(i,"")}catch(E){se(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Sm(i,s),xa(l,o);var u=xa(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Cm(i,d):c==="dangerouslySetInnerHTML"?Tm(i,d):c==="children"?ki(i,d):Yu(i,c,d,u)}switch(l){case"input":Ia(i,s);break;case"textarea":wm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ir(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ir(i,!!s.multiple,s.defaultValue,!0):Ir(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bi]=s}catch(E){se(e,e.return,E)}}break;case 6:if(dt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){se(e,e.return,E)}}break;case 3:if(dt(t,e),It(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(E){se(e,e.return,E)}break;case 4:dt(t,e),It(e);break;case 13:dt(t,e),It(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nc=oe())),r&4&&If(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||c,dt(t,e),Ce=u):dt(t,e),It(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ii(4,f,f.return);break;case 1:vr(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){se(r,n,E)}}break;case 5:vr(f,f.return);break;case 22:if(f.memoizedState!==null){Af(d);continue}}g!==null?(g.return=f,O=g):Af(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Am("display",o))}catch(E){se(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){se(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dt(t,e),It(e),r&4&&If(e);break;case 21:break;default:dt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ki(i,""),r.flags&=-33);var s=wf(e);iu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wf(e);ru(e,l,o);break;default:throw Error(I(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aS(e,t,n){O=e,e_(e)}function e_(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ce;l=Rs;var u=Ce;if(Rs=o,(Ce=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Cf(i):a!==null?(a.return=o,O=a):Cf(i);for(;s!==null;)O=s,e_(s),s=s.sibling;O=i,Rs=l,Ce=u}Tf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Tf(e)}}function Tf(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||Yo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&af(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}af(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ce||t.flags&512&&nu(t)}catch(f){se(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Af(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Cf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yo(4,t)}catch(a){se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){se(t,i,a)}}var s=t.return;try{nu(t)}catch(a){se(t,s,a)}break;case 5:var o=t.return;try{nu(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var uS=Math.ceil,yo=Xt.ReactCurrentDispatcher,Ac=Xt.ReactCurrentOwner,st=Xt.ReactCurrentBatchConfig,j=0,ge=null,ae=null,Ee=0,Ke=0,Er=An(0),fe=0,Gi=null,Gn=0,qo=0,Cc=0,Ti=null,je=null,Nc=0,jr=1/0,Lt=null,vo=!1,su=null,pn=null,Os=!1,on=null,Eo=0,Ai=0,ou=null,Ys=-1,qs=0;function Pe(){return j&6?oe():Ys!==-1?Ys:Ys=oe()}function mn(e){return e.mode&1?j&2&&Ee!==0?Ee&-Ee:GE.transition!==null?(qs===0&&(qs=Fm()),qs):(e=$,e!==0||(e=window.event,e=e===void 0?16:zm(e.type)),e):1}function yt(e,t,n,r){if(50<Ai)throw Ai=0,ou=null,Error(I(185));rs(e,n,r),(!(j&2)||e!==ge)&&(e===ge&&(!(j&2)&&(qo|=n),fe===4&&rn(e,Ee)),We(e,r),n===1&&j===0&&!(t.mode&1)&&(jr=oe()+500,zo&&Cn()))}function We(e,t){var n=e.callbackNode;G0(e,t);var r=no(e,e===ge?Ee:0);if(r===0)n!==null&&Ld(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ld(n),t===1)e.tag===0?zE(Nf.bind(null,e)):cg(Nf.bind(null,e)),HE(function(){!(j&6)&&Cn()}),n=null;else{switch(jm(r)){case 1:n=Zu;break;case 4:n=Mm;break;case 16:n=to;break;case 536870912:n=Um;break;default:n=to}n=a_(n,t_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t_(e,t){if(Ys=-1,qs=0,j&6)throw Error(I(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var r=no(e,e===ge?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=So(e,r);else{t=r;var i=j;j|=2;var s=r_();(ge!==e||Ee!==t)&&(Lt=null,jr=oe()+500,jn(e,t));do try{fS();break}catch(l){n_(e,l)}while(1);fc(),yo.current=s,j=i,ae!==null?t=0:(ge=null,Ee=0,t=fe)}if(t!==0){if(t===2&&(i=Pa(e),i!==0&&(r=i,t=lu(e,i))),t===1)throw n=Gi,jn(e,0),rn(e,r),We(e,oe()),n;if(t===6)rn(e,r);else{if(i=e.current.alternate,!(r&30)&&!cS(i)&&(t=So(e,r),t===2&&(s=Pa(e),s!==0&&(r=s,t=lu(e,s))),t===1))throw n=Gi,jn(e,0),rn(e,r),We(e,oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:Rn(e,je,Lt);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=Nc+500-oe(),10<t)){if(no(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ha(Rn.bind(null,e,je,Lt),t);break}Rn(e,je,Lt);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-_t(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uS(r/1960))-r,10<r){e.timeoutHandle=Ha(Rn.bind(null,e,je,Lt),r);break}Rn(e,je,Lt);break;case 5:Rn(e,je,Lt);break;default:throw Error(I(329))}}}return We(e,oe()),e.callbackNode===n?t_.bind(null,e):null}function lu(e,t){var n=Ti;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=So(e,t),e!==2&&(t=je,je=n,t!==null&&au(t)),e}function au(e){je===null?je=e:je.push.apply(je,e)}function cS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Et(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Cc,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),r=1<<n;e[n]=-1,t&=~r}}function Nf(e){if(j&6)throw Error(I(327));xr();var t=no(e,0);if(!(t&1))return We(e,oe()),null;var n=So(e,t);if(e.tag!==0&&n===2){var r=Pa(e);r!==0&&(t=r,n=lu(e,r))}if(n===1)throw n=Gi,jn(e,0),rn(e,t),We(e,oe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,je,Lt),We(e,oe()),null}function xc(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(jr=oe()+500,zo&&Cn())}}function Kn(e){on!==null&&on.tag===0&&!(j&6)&&xr();var t=j;j|=1;var n=st.transition,r=$;try{if(st.transition=null,$=1,e)return e()}finally{$=r,st.transition=n,j=t,!(j&6)&&Cn()}}function Rc(){Ke=Er.current,J(Er)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,BE(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lo();break;case 3:Ur(),J($e),J(Re),yc();break;case 5:_c(r);break;case 4:Ur();break;case 13:J(ne);break;case 19:J(ne);break;case 10:hc(r.type._context);break;case 22:case 23:Rc()}n=n.return}if(ge=e,ae=e=gn(e.current,null),Ee=Ke=t,fe=0,Gi=null,Cc=qo=Gn=0,je=Ti=null,Ln!==null){for(t=0;t<Ln.length;t++)if(n=Ln[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ln=null}return e}function n_(e,t){do{var n=ae;try{if(fc(),zs.current=_o,go){for(var r=re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}go=!1}if(zn=0,pe=ce=re=null,wi=!1,Vi=0,Ac.current=null,n===null||n.return===null){fe=1,Gi=t,ae=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ee,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=pf(o);if(g!==null){g.flags&=-257,mf(g,o,l,s,t),g.mode&1&&hf(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(a),t.updateQueue=E}else _.add(a);break e}else{if(!(t&1)){hf(s,u,t),Oc();break e}a=Error(I(426))}}else if(ee&&l.mode&1){var v=pf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mf(v,o,l,s,t),cc(Fr(a,l));break e}}s=a=Fr(a,l),fe!==4&&(fe=2),Ti===null?Ti=[s]:Ti.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=jg(s,a,t);lf(s,m);break e;case 1:l=a;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pn===null||!pn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Bg(s,l,t);lf(s,S);break e}}s=s.return}while(s!==null)}s_(n)}catch(A){t=A,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(1)}function r_(){var e=yo.current;return yo.current=_o,e===null?_o:e}function Oc(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Gn&268435455)&&!(qo&268435455)||rn(ge,Ee)}function So(e,t){var n=j;j|=2;var r=r_();(ge!==e||Ee!==t)&&(Lt=null,jn(e,t));do try{dS();break}catch(i){n_(e,i)}while(1);if(fc(),j=n,yo.current=r,ae!==null)throw Error(I(261));return ge=null,Ee=0,fe}function dS(){for(;ae!==null;)i_(ae)}function fS(){for(;ae!==null&&!U0();)i_(ae)}function i_(e){var t=l_(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?s_(e):ae=t,Ac.current=null}function s_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sS(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ae=null;return}}else if(n=iS(n,t,Ke),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);fe===0&&(fe=5)}function Rn(e,t,n){var r=$,i=st.transition;try{st.transition=null,$=1,hS(e,t,n,r)}finally{st.transition=i,$=r}return null}function hS(e,t,n,r){do xr();while(on!==null);if(j&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(K0(e,s),e===ge&&(ae=ge=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Os||(Os=!0,a_(to,function(){return xr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=st.transition,st.transition=null;var o=$;$=1;var l=j;j|=4,Ac.current=null,lS(e,n),Zg(n,e),PE(ja),ro=!!Fa,ja=Fa=null,e.current=n,aS(n),F0(),j=l,$=o,st.transition=s}else e.current=n;if(Os&&(Os=!1,on=e,Eo=i),s=e.pendingLanes,s===0&&(pn=null),H0(n.stateNode),We(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vo)throw vo=!1,e=su,su=null,e;return Eo&1&&e.tag!==0&&xr(),s=e.pendingLanes,s&1?e===ou?Ai++:(Ai=0,ou=e):Ai=0,Cn(),null}function xr(){if(on!==null){var e=jm(Eo),t=st.transition,n=$;try{if(st.transition=null,$=16>e?16:e,on===null)var r=!1;else{if(e=on,on=null,Eo=0,j&6)throw Error(I(331));var i=j;for(j|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Ii(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,g=c.return;if(Qg(c),c===u){O=null;break}if(f!==null){f.return=g,O=f;break}O=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ii(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var h=e.current;for(O=h;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yo(9,l)}}catch(A){se(l,l.return,A)}if(l===o){O=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,O=S;break e}O=l.return}}if(j=i,Cn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Bo,e)}catch{}r=!0}return r}finally{$=n,st.transition=t}}return!1}function xf(e,t,n){t=Fr(n,t),t=jg(e,t,1),e=hn(e,t,1),t=Pe(),e!==null&&(rs(e,1,t),We(e,t))}function se(e,t,n){if(e.tag===3)xf(e,e,n);else for(;t!==null;){if(t.tag===3){xf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Fr(n,e),e=Bg(t,e,1),t=hn(t,e,1),e=Pe(),t!==null&&(rs(t,1,e),We(t,e));break}}t=t.return}}function pS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Ee&n)===n&&(fe===4||fe===3&&(Ee&130023424)===Ee&&500>oe()-Nc?jn(e,0):Cc|=n),We(e,t)}function o_(e,t){t===0&&(e.mode&1?(t=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):t=1);var n=Pe();e=zt(e,t),e!==null&&(rs(e,t,n),We(e,n))}function mS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o_(e,n)}function gS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),o_(e,n)}var l_;l_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,rS(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ee&&t.flags&1048576&&dg(t,co,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Lr(t,Re.current);Nr(t,n),i=Ec(null,t,r,e,i,n);var s=Sc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(s=!0,ao(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mc(t),i.updater=Ko,t.stateNode=i,i._reactInternals=t,Ya(t,r,e,n),t=Xa(null,t,r,!0,s,n)):(t.tag=0,ee&&s&&ac(t),De(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=yS(r),e=ft(r,e),i){case 0:t=Qa(null,t,r,e,n);break e;case 1:t=yf(null,t,r,e,n);break e;case 11:t=gf(null,t,r,e,n);break e;case 14:t=_f(null,t,r,ft(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),Qa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),yf(e,t,r,i,n);case 3:e:{if(Wg(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,_g(e,t),po(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fr(Error(I(423)),t),t=vf(e,t,r,n,i);break e}else if(r!==i){i=Fr(Error(I(424)),t),t=vf(e,t,r,n,i);break e}else for(Ye=fn(t.stateNode.containerInfo.firstChild),qe=t,ee=!0,pt=null,n=mg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){t=Gt(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return yg(t),e===null&&za(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ba(r,i)?o=null:s!==null&&Ba(r,s)&&(t.flags|=32),Vg(e,t),De(e,t,o,n),t.child;case 6:return e===null&&za(t),null;case 13:return zg(e,t,n);case 4:return gc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),gf(e,t,r,i,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,K(fo,r._currentValue),r._currentValue=o,s!==null)if(Et(s.value,o)){if(s.children===i.children&&!$e.current){t=Gt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ga(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ga(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}De(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nr(t,n),i=ot(i),r=r(i),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,i=ft(r,t.pendingProps),i=ft(r.type,i),_f(e,t,r,i,n);case 15:return Hg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ft(r,i),Ks(e,t),t.tag=1,Ve(r)?(e=!0,ao(t)):e=!1,Nr(t,n),Fg(t,r,i),Ya(t,r,i,n),Xa(null,t,r,!0,e,n);case 19:return Gg(e,t,n);case 22:return $g(e,t,n)}throw Error(I(156,t.tag))};function a_(e,t){return bm(e,t)}function _S(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new _S(e,t,n,r)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yS(e){if(typeof e=="function")return kc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qu)return 11;if(e===Xu)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")kc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cr:return Bn(n.children,i,s,t);case qu:o=8,i|=8;break;case ya:return e=rt(12,n,t,i|2),e.elementType=ya,e.lanes=s,e;case va:return e=rt(13,n,t,i),e.elementType=va,e.lanes=s,e;case Ea:return e=rt(19,n,t,i),e.elementType=Ea,e.lanes=s,e;case ym:return Qo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:o=10;break e;case _m:o=9;break e;case Qu:o=11;break e;case Xu:o=14;break e;case en:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=rt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Bn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Qo(e,t,n,r){return e=rt(22,e,r,t),e.elementType=ym,e.lanes=n,e.stateNode={isHidden:!1},e}function Kl(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dc(e,t,n,r,i,s,o,l,a){return e=new vS(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=rt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(s),e}function ES(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function u_(e){if(!e)return En;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ve(n))return ug(e,n,t)}return t}function c_(e,t,n,r,i,s,o,l,a){return e=Dc(n,r,!0,e,i,s,o,l,a),e.context=u_(null),n=e.current,r=Pe(),i=mn(n),s=Bt(r,i),s.callback=t??null,hn(n,s,i),e.current.lanes=i,rs(e,i,r),We(e,r),e}function Xo(e,t,n,r){var i=t.current,s=Pe(),o=mn(i);return n=u_(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(i,t,o),e!==null&&(yt(e,i,o,s),Ws(e,i,o)),o}function wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pc(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function SS(){return null}var d_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lc(e){this._internalRoot=e}Jo.prototype.render=Lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Xo(e,t,null,null)};Jo.prototype.unmount=Lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Xo(null,e,null,null)}),t[Wt]=null}};function Jo(e){this._internalRoot=e}Jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$m();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&Wm(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function wS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wo(o);s.call(u)}}var o=c_(t,r,e,0,null,!1,!1,"",Of);return e._reactRootContainer=o,e[Wt]=o.current,Fi(e.nodeType===8?e.parentNode:e),Kn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=wo(a);l.call(u)}}var a=Dc(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=a,e[Wt]=a.current,Fi(e.nodeType===8?e.parentNode:e),Kn(function(){Xo(t,a,n,r)}),a}function el(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=wo(o);l.call(a)}}Xo(t,o,e,i)}else o=wS(n,t,e,i,r);return wo(o)}Bm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pi(t.pendingLanes);n!==0&&(ec(t,n|1),We(t,oe()),!(j&6)&&(jr=oe()+500,Cn()))}break;case 13:Kn(function(){var r=zt(e,1);if(r!==null){var i=Pe();yt(r,e,1,i)}}),Pc(e,1)}};tc=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Pe();yt(t,e,134217728,n)}Pc(e,134217728)}};Hm=function(e){if(e.tag===13){var t=mn(e),n=zt(e,t);if(n!==null){var r=Pe();yt(n,e,t,r)}Pc(e,t)}};$m=function(){return $};Vm=function(e,t){var n=$;try{return $=e,t()}finally{$=n}};Oa=function(e,t,n){switch(t){case"input":if(Ia(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wo(r);if(!i)throw Error(I(90));Em(r),Ia(r,i)}}}break;case"textarea":wm(e,n);break;case"select":t=n.value,t!=null&&Ir(e,!!n.multiple,t,!1)}};Rm=xc;Om=Kn;var IS={usingClientEntryPoint:!1,Events:[ss,pr,Wo,Nm,xm,xc]},oi={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TS={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||SS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{Bo=ks.inject(TS),xt=ks}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(t))throw Error(I(200));return ES(e,t,null,n)};Xe.createRoot=function(e,t){if(!bc(e))throw Error(I(299));var n=!1,r="",i=d_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dc(e,1,!1,null,null,n,!1,r,i),e[Wt]=t.current,Fi(e.nodeType===8?e.parentNode:e),new Lc(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Kn(e)};Xe.hydrate=function(e,t,n){if(!Zo(t))throw Error(I(200));return el(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!bc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=d_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=c_(t,null,e,1,n??null,i,!1,s,o),e[Wt]=t.current,Fi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jo(t)};Xe.render=function(e,t,n){if(!Zo(t))throw Error(I(200));return el(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!Zo(e))throw Error(I(40));return e._reactRootContainer?(Kn(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};Xe.unstable_batchedUpdates=xc;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zo(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return el(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function f_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f_)}catch(e){console.error(e)}}f_(),fm.exports=Xe;var AS=fm.exports,kf=AS;ga.createRoot=kf.createRoot,ga.hydrateRoot=kf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}var ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ln||(ln={}));const Df="popstate";function CS(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=tr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),uu("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:h_(s))}function r(i,s){tl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xS(t,n,r,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NS(){return Math.random().toString(36).substr(2,8)}function Pf(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,n,r){return n===void 0&&(n=null),Ki({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||NS()})}function h_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ln.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Ki({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=ln.Pop;let v=c(),m=v==null?null:v-u;u=v,a&&a({action:l,location:E.location,delta:m})}function f(v,m){l=ln.Push;let h=uu(E.location,v,m);n&&n(h,v),u=c()+1;let y=Pf(h,u),S=E.createHref(h);try{o.pushState(y,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}s&&a&&a({action:l,location:E.location,delta:1})}function g(v,m){l=ln.Replace;let h=uu(E.location,v,m);n&&n(h,v),u=c();let y=Pf(h,u),S=E.createHref(h);o.replaceState(y,"",S),s&&a&&a({action:l,location:E.location,delta:0})}function _(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof v=="string"?v:h_(v);return h=h.replace(/ $/,"%20"),ue(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let E={get action(){return l},get location(){return e(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Df,d),a=v,()=>{i.removeEventListener(Df,d),a=null}},createHref(v){return t(i,v)},createURL:_,encodeLocation(v){let m=_(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(v){return o.go(v)}};return E}var Lf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lf||(Lf={}));function RS(e,t,n){return n===void 0&&(n="/"),OS(e,t,n,!1)}function OS(e,t,n,r){let i=typeof t=="string"?tr(t):t,s=g_(i.pathname||"/",n);if(s==null)return null;let o=p_(e);kS(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=$S(s);l=BS(o[a],u,r)}return l}function p_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ue(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Hn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:FS(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of m_(s.path))i(s,o,a)}),t}function m_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=m_(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function kS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DS=/^:[\w-]+$/,PS=3,LS=2,bS=1,MS=10,US=-2,bf=e=>e==="*";function FS(e,t){let n=e.split("/"),r=n.length;return n.some(bf)&&(r+=US),t&&(r+=LS),n.filter(i=>!bf(i)).reduce((i,s)=>i+(DS.test(s)?PS:s===""?bS:MS),r)}function jS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function BS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Mf({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Mf({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Hn([s,d.pathname]),pathnameBase:KS(Hn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Hn([s,d.pathnameBase]))}return o}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let E=l[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[d];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function HS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function $S(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function g_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WS=e=>VS.test(e);function zS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tr(e):e,s;if(n)if(WS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),tl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Uf(n.substring(1),"/"):s=Uf(n,t)}else s=t;return{pathname:s,search:YS(r),hash:qS(i)}}function Uf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ql(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function __(e,t){let n=GS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tr(e):(i=Ki({},e),ue(!i.pathname||!i.pathname.includes("?"),ql("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),ql("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),ql("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=zS(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),KS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const v_=["post","put","patch","delete"];new Set(v_);const XS=["get",...v_];new Set(XS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi.apply(this,arguments)}const Mc=w.createContext(null),JS=w.createContext(null),ls=w.createContext(null),nl=w.createContext(null),nr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),E_=w.createContext(null);function as(){return w.useContext(nl)!=null}function Uc(){return as()||ue(!1),w.useContext(nl).location}function S_(e){w.useContext(ls).static||w.useLayoutEffect(e)}function rl(){let{isDataRoute:e}=w.useContext(nr);return e?dw():ZS()}function ZS(){as()||ue(!1);let e=w.useContext(Mc),{basename:t,future:n,navigator:r}=w.useContext(ls),{matches:i}=w.useContext(nr),{pathname:s}=Uc(),o=JSON.stringify(__(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return S_(()=>{l.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=y_(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Hn([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function ew(e,t){return tw(e,t)}function tw(e,t,n,r){as()||ue(!1);let{navigator:i}=w.useContext(ls),{matches:s}=w.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Uc(),c;if(t){var d;let v=typeof t=="string"?tr(t):t;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||ue(!1),c=v}else c=u;let f=c.pathname||"/",g=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=RS(e,{pathname:g}),E=ow(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Hn([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Hn([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&E?w.createElement(nl.Provider,{value:{location:Yi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ln.Pop}},E):E}function nw(){let e=cw(),t=QS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const rw=w.createElement(nw,null);class iw extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(E_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sw(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Mc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(nr.Provider,{value:t},r)}function ow(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ue(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:g}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let g,_=!1,E=null,v=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||rw,a&&(u<0&&f===0?(fw("route-fallback",!1),_=!0,v=null):u===f&&(_=!0,v=d.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),h=()=>{let y;return g?y=E:_?y=v:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(sw,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(iw,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var w_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(w_||{}),Io=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Io||{});function lw(e){let t=w.useContext(Mc);return t||ue(!1),t}function aw(e){let t=w.useContext(JS);return t||ue(!1),t}function uw(e){let t=w.useContext(nr);return t||ue(!1),t}function I_(e){let t=uw(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function cw(){var e;let t=w.useContext(E_),n=aw(Io.UseRouteError),r=I_(Io.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dw(){let{router:e}=lw(w_.UseNavigateStable),t=I_(Io.UseNavigateStable),n=w.useRef(!1);return S_(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yi({fromRouteId:t},s)))},[e,t])}const Ff={};function fw(e,t,n){!t&&!Ff[e]&&(Ff[e]=!0)}function hw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function pw(e){let{to:t,replace:n,state:r,relative:i}=e;as()||ue(!1);let{future:s,static:o}=w.useContext(ls),{matches:l}=w.useContext(nr),{pathname:a}=Uc(),u=rl(),c=y_(t,__(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Xs(e){ue(!1)}function mw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ln.Pop,navigator:s,static:o=!1,future:l}=e;as()&&ue(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o,future:Yi({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=tr(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:_="default"}=r,E=w.useMemo(()=>{let v=g_(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:_},navigationType:i}},[a,c,d,f,g,_,i]);return E==null?null:w.createElement(ls.Provider,{value:u},w.createElement(nl.Provider,{children:n,value:E}))}function gw(e){let{children:t,location:n}=e;return ew(cu(t),n)}new Promise(()=>{});function cu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,cu(r.props.children,s));return}r.type!==Xs&&ue(!1),!r.props.index||!r.props.children||ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _w="6";try{window.__reactRouterVersion=_w}catch{}const yw="startTransition",jf=p0[yw];function vw(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=CS({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(d=>{u&&jf?jf(()=>a(d)):a(d)},[a,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.useEffect(()=>hw(r),[r]),w.createElement(mw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Bf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bf||(Bf={}));var Hf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hf||(Hf={}));const du="SENTINEL_REMOTE_DB_URL",qi=()=>(localStorage.getItem(du)||"").replace(/\/$/,""),Ew=e=>{if(!e)localStorage.removeItem(du);else{const t=e.replace(/\/$/,"");localStorage.setItem(du,t)}},Le=()=>{const e=qi();return!!e&&e.length>0},Br="sentinel_alerts_v1",Sn="sentinel_recurring_v1",fu="sentinel_status/monitor",T_=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),Fc=async e=>{if(!Le())return null;const t=qi();try{const n=await fetch(`${t}/${e}.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return e!==fu&&localStorage.setItem(`cache_${e}`,JSON.stringify(r)),r}catch(n){if(e!==fu){console.warn(`Cloud fetch error for ${e}, falling back to cache:`,n);const r=localStorage.getItem(`cache_${e}`);return r?JSON.parse(r):null}return null}},us=async(e,t)=>{if(!Le())return;const n=qi();localStorage.setItem(`cache_${e}`,JSON.stringify(t));try{await fetch(`${n}/${e}.json`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}catch(r){console.error("Cloud write error:",r)}},Sw=async()=>await Fc(fu),il=async()=>{if(Le()){const e=await Fc(Br);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(Br);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load alerts",e),[]}},ww=async e=>{const n=[...await il(),e];Le()?await us(Br,n):localStorage.setItem(Br,JSON.stringify(n))},Iw=(e,t,n)=>({id:T_(),content:e,scheduledTime:t,createdAt:Date.now(),severity:n,isSent:!1}),Tw=async e=>{const n=(await il()).filter(r=>r.id!==e);Le()?await us(Br,n):localStorage.setItem(Br,JSON.stringify(n))},cs=async()=>{if(Le()){const e=await Fc(Sn);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(Sn);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load recurring alerts",e),[]}},Aw=async e=>{const n=[...await cs(),e];Le()?await us(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},Cw=(e,t,n)=>({id:T_(),content:e,scheduledTime:t,severity:n,isActive:!0,createdAt:Date.now()}),Nw=async e=>{const n=(await cs()).map(r=>r.id===e?{...r,isActive:!r.isActive}:r);Le()?await us(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},xw=async e=>{const n=(await cs()).filter(r=>r.id!==e);Le()?await us(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},Rw=async()=>{const e=Date.now();return(await il()).filter(n=>n.scheduledTime>e).sort((n,r)=>n.scheduledTime-r.scheduledTime)},A_=async()=>{const e=new Date,t=e.getTime(),n=e.toDateString(),i=(await il()).filter(a=>a.scheduledTime<=t),o=(await cs()).filter(a=>a.isActive),l=[];return o.forEach(a=>{try{const[u,c]=a.scheduledTime.split(":").map(Number),d=new Date(e);d.setHours(u,c,0,0),t>=d.getTime()&&l.push({id:`recurring-${a.id}-${n}`,content:`[DAILY REPEAT] ${a.content}`,scheduledTime:d.getTime(),createdAt:a.createdAt,severity:a.severity,isSent:!0})}catch(u){console.error("Error parsing recurring time",u)}}),[...i,...l].sort((a,u)=>u.scheduledTime-a.scheduledTime)};var At=(e=>(e.INFO="INFO",e.WARNING="WARNING",e.CRITICAL="CRITICAL",e))(At||{});const $f={username:"admin",password:"yogiji"},hu=({alert:e,isAdmin:t,onDelete:n})=>{const r={[At.INFO]:"border-l-blue-500 bg-blue-900/20 text-blue-100",[At.WARNING]:"border-l-yellow-500 bg-yellow-900/20 text-yellow-100",[At.CRITICAL]:"border-l-red-500 bg-red-900/20 text-red-100 animate-pulse-fast"},i={[At.INFO]:"fa-info-circle",[At.WARNING]:"fa-exclamation-triangle",[At.CRITICAL]:"fa-radiation"},s=o=>{const l=new Date(o),a=new Date,u=l.getDate()===a.getDate()&&l.getMonth()===a.getMonth()&&l.getFullYear()===a.getFullYear(),c=l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return u?c:`${l.toLocaleDateString()} ${c}`};return p.jsxs("div",{className:`p-4 rounded-r-lg border-l-4 mb-3 relative flex items-start gap-4 shadow-lg backdrop-blur-sm ${r[e.severity]}`,children:[p.jsx("div",{className:"text-2xl pt-1",children:p.jsx("i",{className:`fas ${i[e.severity]}`})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("h3",{className:"font-bold text-lg uppercase tracking-wider",children:[e.severity," ALERT"]}),p.jsx("span",{className:"text-xs opacity-70 font-mono bg-black/30 px-2 py-1 rounded",children:s(e.scheduledTime)})]}),p.jsx("p",{className:"mt-2 text-lg font-medium leading-relaxed",children:e.content}),t&&p.jsx("div",{className:"mt-3 flex justify-end",children:p.jsx("button",{onClick:o=>{o.stopPropagation(),n&&n(e.id)},className:"text-xs text-red-400 hover:text-red-300 underline",children:"Recall/Delete"})})]})]})},an=({children:e,variant:t="primary",fullWidth:n=!1,className:r="",...i})=>{const s="px-4 py-2 rounded-md font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900",o={primary:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-500",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-500",secondary:"bg-slate-700 hover:bg-slate-600 text-white focus:ring-slate-500",outline:"border border-slate-600 text-slate-300 hover:bg-slate-800 focus:ring-slate-500"};return p.jsx("button",{className:`${s} ${o[t]} ${n?"w-full":""} ${r}`,...i,children:e})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(e,t){if(!e)throw Kr(t)},Kr=function(e){return new Error("Firebase Database ("+C_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ow=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},jc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ow(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new kw;const f=s<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x_=function(e){const t=N_(e);return jc.encodeByteArray(t,!0)},To=function(e){return x_(e).replace(/\./g,"")},pu=function(e){try{return jc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(e){return R_(void 0,e)}function R_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Pw(n)||(e[n]=R_(e[n],t[n]));return e}function Pw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=()=>Lw().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Uw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pu(e[1]);return t&&JSON.parse(t)},O_=()=>{try{return bw()||Mw()||Uw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Fw=e=>{var t,n;return(n=(t=O_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},jw=e=>{const t=Fw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},k_=()=>{var e;return(e=O_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[To(JSON.stringify(n)),To(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hw())}function $w(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P_(){return C_.NODE_ADMIN===!0}function L_(){try{return typeof indexedDB=="object"}catch{return!1}}function b_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function Vw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Yr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ww,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?zw(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,l,r)}}function zw(e,t){return e.replace(Gw,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Gw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(e){return JSON.parse(e)}function ve(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Qi(pu(s[0])||""),n=Qi(pu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Kw=function(e){const t=M_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Yw=function(e){const t=M_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Vf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ao(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function mu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Wf(s)&&Wf(o)){if(!mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Bc(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ll=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e){return e&&e._delegate?e._delegate:e}class Kt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eI(t))try{this.getOrInitializeService({instanceIdentifier:On})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=On){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=On){return this.instances.has(t)}getOptions(t=On){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=On){return this.component?this.component.multipleInstances?t:On:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(e){return e===On?void 0:e}function eI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Jw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(G||(G={}));const nI={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},rI=G.INFO,iI={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},sI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=iI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class U_{constructor(t){this.name=t,this._logLevel=rI,this._logHandler=sI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in G))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}const oI=(e,t)=>t.some(n=>e instanceof n);let zf,Gf;function lI(){return zf||(zf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aI(){return Gf||(Gf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,gu=new WeakMap,j_=new WeakMap,Ql=new WeakMap,Hc=new WeakMap;function uI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ht(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&F_.set(n,e)}).catch(()=>{}),Hc.set(t,e),t}function cI(e){if(gu.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});gu.set(e,t)}let _u={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||j_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dI(e){_u=e(_u)}function fI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Xl(this),t,...n);return j_.set(r,t.sort?t.sort():[t]),Ht(r)}:aI().includes(e)?function(...t){return e.apply(Xl(this),t),Ht(F_.get(this))}:function(...t){return Ht(e.apply(Xl(this),t))}}function hI(e){return typeof e=="function"?fI(e):(e instanceof IDBTransaction&&cI(e),oI(e,lI())?new Proxy(e,_u):e)}function Ht(e){if(e instanceof IDBRequest)return uI(e);if(Ql.has(e))return Ql.get(e);const t=hI(e);return t!==e&&(Ql.set(e,t),Hc.set(t,e)),t}const Xl=e=>Hc.get(e);function al(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Ht(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ht(o.result),a.oldVersion,a.newVersion,Ht(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function Jl(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Ht(n).then(()=>{})}const pI=["get","getKey","getAll","getAllKeys","count"],mI=["put","add","delete","clear"],Zl=new Map;function Kf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zl.get(t))return Zl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Zl.set(t,s),s}dI(e=>({...e,get:(t,n,r)=>Kf(t,n)||e.get(t,n,r),has:(t,n)=>!!Kf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_I(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _I(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yu="@firebase/app",Yf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new U_("@firebase/app"),yI="@firebase/app-compat",vI="@firebase/analytics-compat",EI="@firebase/analytics",SI="@firebase/app-check-compat",wI="@firebase/app-check",II="@firebase/auth",TI="@firebase/auth-compat",AI="@firebase/database",CI="@firebase/data-connect",NI="@firebase/database-compat",xI="@firebase/functions",RI="@firebase/functions-compat",OI="@firebase/installations",kI="@firebase/installations-compat",DI="@firebase/messaging",PI="@firebase/messaging-compat",LI="@firebase/performance",bI="@firebase/performance-compat",MI="@firebase/remote-config",UI="@firebase/remote-config-compat",FI="@firebase/storage",jI="@firebase/storage-compat",BI="@firebase/firestore",HI="@firebase/vertexai-preview",$I="@firebase/firestore-compat",VI="firebase",WI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="[DEFAULT]",zI={[yu]:"fire-core",[yI]:"fire-core-compat",[EI]:"fire-analytics",[vI]:"fire-analytics-compat",[wI]:"fire-app-check",[SI]:"fire-app-check-compat",[II]:"fire-auth",[TI]:"fire-auth-compat",[AI]:"fire-rtdb",[CI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[xI]:"fire-fn",[RI]:"fire-fn-compat",[OI]:"fire-iid",[kI]:"fire-iid-compat",[DI]:"fire-fcm",[PI]:"fire-fcm-compat",[LI]:"fire-perf",[bI]:"fire-perf-compat",[MI]:"fire-rc",[UI]:"fire-rc-compat",[FI]:"fire-gcs",[jI]:"fire-gcs-compat",[BI]:"fire-fst",[$I]:"fire-fst-compat",[HI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Map,GI=new Map,Eu=new Map;function qf(e,t){try{e.container.addComponent(t)}catch(n){Yt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wn(e){const t=e.name;if(Eu.has(t))return Yt.debug(`There were multiple attempts to register component ${t}.`),!1;Eu.set(t,e);for(const n of Co.values())qf(n,e);for(const n of GI.values())qf(n,e);return!0}function ul(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new ol("app","Firebase",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=WI;function B_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:vu,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=k_()),!n)throw _n.create("no-options");const s=Co.get(i);if(s){if(mu(n,s.options)&&mu(r,s.config))return s;throw _n.create("duplicate-app",{appName:i})}const o=new tI(i);for(const a of Eu.values())o.addComponent(a);const l=new YI(n,r,o);return Co.set(i,l),l}function H_(e=vu){const t=Co.get(e);if(!t&&e===vu&&k_())return B_();if(!t)throw _n.create("no-app",{appName:e});return t}function Ot(e,t,n){var r;let i=(r=zI[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yt.warn(l.join(" "));return}wn(new Kt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebase-heartbeat-database",XI=1,Xi="firebase-heartbeat-store";let ea=null;function $_(){return ea||(ea=al(QI,XI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xi)}catch(n){console.warn(n)}}}}).catch(e=>{throw _n.create("idb-open",{originalErrorMessage:e.message})})),ea}async function JI(e){try{const n=(await $_()).transaction(Xi),r=await n.objectStore(Xi).get(V_(e));return await n.done,r}catch(t){if(t instanceof Yr)Yt.warn(t.message);else{const n=_n.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yt.warn(n.message)}}}async function Qf(e,t){try{const r=(await $_()).transaction(Xi,"readwrite");await r.objectStore(Xi).put(t,V_(e)),await r.done}catch(n){if(n instanceof Yr)Yt.warn(n.message);else{const r=_n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yt.warn(r.message)}}}function V_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1024,eT=30*24*60*60*1e3;class tT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=eT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xf(),{heartbeatsToSend:r,unsentEntries:i}=nT(this._heartbeatsCache.heartbeats),s=To(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yt.warn(n),""}}}function Xf(){return new Date().toISOString().substring(0,10)}function nT(e,t=ZI){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jf(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L_()?b_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Jf(e){return To(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e){wn(new Kt("platform-logger",t=>new gI(t),"PRIVATE")),wn(new Kt("heartbeat",t=>new tT(t),"PRIVATE")),Ot(yu,Yf,e),Ot(yu,Yf,"esm2017"),Ot("fire-js","")}iT("");var sT="firebase",oT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot(sT,oT,"app");const Zf="@firebase/database",eh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_="";function lT(e){W_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ve(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Qi(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Jt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aT(t)}}catch{}return new uT},Mn=z_("localStorage"),Su=z_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new U_("@firebase/database"),cT=function(){let e=1;return function(){return e++}}(),G_=function(e){const t=Xw(e),n=new Qw;n.update(t);const r=n.digest();return jc.encodeByteArray(r)},ds=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ds.apply(null,r):typeof r=="object"?t+=ve(r):t+=r,t+=" "}return t};let $n=null,th=!0;const dT=function(e,t){C(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Rr.logLevel=G.VERBOSE,$n=Rr.log.bind(Rr),t&&Su.set("logging_enabled",!0)):typeof e=="function"?$n=e:($n=null,Su.remove("logging_enabled"))},Ne=function(...e){if(th===!0&&(th=!1,$n===null&&Su.get("logging_enabled")===!0&&dT(!0)),$n){const t=ds.apply(null,e);$n(t)}},fs=function(e){return function(...t){Ne(e,...t)}},wu=function(...e){const t="FIREBASE INTERNAL ERROR: "+ds(...e);Rr.error(t)},qt=function(...e){const t=`FIREBASE FATAL ERROR: ${ds(...e)}`;throw Rr.error(t),new Error(t)},ze=function(...e){const t="FIREBASE WARNING: "+ds(...e);Rr.warn(t)},fT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},hT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$r="[MIN_NAME]",Yn="[MAX_NAME]",qr=function(e,t){if(e===t)return 0;if(e===$r||t===Yn)return-1;if(t===$r||e===Yn)return 1;{const n=nh(e),r=nh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},pT=function(e,t){return e===t?0:e<t?-1:1},li=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ve(t))},$c=function(e){if(typeof e!="object"||e===null)return ve(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ve(t[r]),n+=":",n+=$c(e[t[r]]);return n+="}",n},Y_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function at(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const q_=function(e){C(!K_(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},mT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},_T=new RegExp("^-?(0*)\\d{1,10}$"),yT=-2147483648,vT=2147483647,nh=function(e){if(_T.test(e)){const t=Number(e);if(t>=yT&&t<=vT)return t}return null},Qr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ze("Exception was thrown by user callback.",n),t},Math.floor(0))}},ET=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ci=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ze(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ne("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ze(t)}}class Or{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Or.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="5",Q_="v",X_="s",J_="r",Z_="f",ey=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ty="ls",ny="p",Iu="ac",ry="websocket",iy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Mn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function IT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function oy(e,t,n){C(typeof t=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(t===ry)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===iy)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);IT(e)&&(n.ns=e.namespace);const i=[];return at(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.counters_={}}incrementCounter(t,n=1){Jt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Dw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta={},na={};function Wc(e){const t=e.toString();return ta[t]||(ta[t]=new TT),ta[t]}function AT(e,t){const n=e.toString();return na[n]||(na[n]=t()),na[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="start",NT="close",xT="pLPCommand",RT="pRTLPCB",ly="id",ay="pw",uy="ser",OT="cb",kT="seg",DT="ts",PT="d",LT="dframe",cy=1870,dy=30,bT=cy-dy,MT=25e3,UT=3e4;class Sr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fs(t),this.stats_=Wc(n),this.urlFn=a=>(this.appCheckToken&&(a[Iu]=this.appCheckToken),oy(n,iy,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UT)),hT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rh)this.id=l,this.password=a;else if(o===NT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[rh]="t",r[uy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Q_]=Vc,this.transportSessionId&&(r[X_]=this.transportSessionId),this.lastSessionId&&(r[ty]=this.lastSessionId),this.applicationId&&(r[ny]=this.applicationId),this.appCheckToken&&(r[Iu]=this.appCheckToken),typeof location<"u"&&location.hostname&&ey.test(location.hostname)&&(r[J_]=Z_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sr.forceAllow_=!0}static forceDisallow(){Sr.forceDisallow_=!0}static isAvailable(){return Sr.forceAllow_?!0:!Sr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mT()&&!gT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=x_(n),i=Y_(r,bT);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[LT]="t",r[ly]=t,r[ay]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ve(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zc{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cT(),window[xT+this.uniqueCallbackIdentifier]=t,window[RT+this.uniqueCallbackIdentifier]=n,this.myIFrame=zc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ne("frame writing exception"),l.stack&&Ne(l.stack),Ne(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ne("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ly]=this.myID,t[ay]=this.myPW,t[uy]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dy+r.length<=cy;){const o=this.pendingSegs.shift();r=r+"&"+kT+i+"="+o.seg+"&"+DT+i+"="+o.ts+"&"+PT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(MT)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ne("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=16384,jT=45e3;let No=null;typeof MozWebSocket<"u"?No=MozWebSocket:typeof WebSocket<"u"&&(No=WebSocket);class mt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fs(this.connId),this.stats_=Wc(n),this.connURL=mt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Q_]=Vc,typeof location<"u"&&location.hostname&&ey.test(location.hostname)&&(o[J_]=Z_),n&&(o[X_]=n),r&&(o[ty]=r),i&&(o[Iu]=i),s&&(o[ny]=s),oy(t,ry,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mn.set("previous_websocket_failure",!0);try{let r;P_(),this.mySock=new No(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){mt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&No!==null&&!mt.forceDisallow_}static previouslyFailed(){return Mn.isInMemoryStorage||Mn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qi(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(C(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Y_(n,FT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mt.responsesRequiredToBeHealthy=2;mt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Sr,mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=mt&&mt.isAvailable();let r=n&&!mt.previouslyFailed();if(t.webSocketOnly&&(n||ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[mt];else{const i=this.transports_=[];for(const s of Ji.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ji.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ji.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=6e4,HT=5e3,$T=10*1024,VT=100*1024,ra="t",ih="d",WT="s",sh="r",zT="e",oh="o",lh="a",ah="n",uh="p",GT="h";class KT{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fs("c:"+this.id+":"),this.transportManager_=new Ji(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ci(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$T?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ra in t){const n=t[ra];n===lh?this.upgradeIfSecondaryHealthy_():n===sh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=li("t",t),r=li("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ah,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=li("t",t),r=li("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=li(ra,t);if(ih in t){const r=t[ih];if(n===GT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ah){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WT?this.onConnectionShutdown_(r):n===sh?this.onReset_(r):n===zT?wu("Server Error: "+r):n===oh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vc!==r&&ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ci(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ci(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends hy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!D_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xo}getInitialEvent(t){return C(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=32,dh=768;class Z{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function V(){return new Z("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function In(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z(e.pieces_,t)}function py(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YT(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function my(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function gy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z(t,0)}function de(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function it(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return it(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _y(e,t){if(In(e)!==In(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(In(e)>In(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class qT{constructor(t,n){this.errorPrefix_=n,this.parts_=my(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ll(this.parts_[r]);yy(this)}}function QT(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ll(t),yy(e)}function XT(e){const t=e.parts_.pop();e.byteLength_-=ll(t),e.parts_.length>0&&(e.byteLength_-=1)}function yy(e){if(e.byteLength_>dh)throw new Error(e.errorPrefix_+"has a key path longer than "+dh+" bytes ("+e.byteLength_+").");if(e.parts_.length>ch)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ch+") or object contains a cycle "+kn(e))}function kn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends hy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gc}getInitialEvent(t){return C(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=1e3,JT=60*5*1e3,fh=30*1e3,ZT=1.3,eA=3e4,tA="server_kill",hh=3;class $t extends fy{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=$t.nextPersistentConnectionId_++,this.log_=fs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ai,this.maxReconnectDelay_=JT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!P_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&xo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ve(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new sl,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;$t.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Jt(t,"w")){const r=Hr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Yw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Kw(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),C(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ve(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):wu("Unrecognized action received from server: "+ve(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ai,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ai,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eA&&(this.reconnectDelay_=ai),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+$t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ne("getToken() completed but was canceled"):(Ne("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new KT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{ze(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(tA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ze(d),a())}}}interrupt(t){Ne("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ne("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Vf(this.interruptReasons_)&&(this.reconnectDelay_=ai,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>$c(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Z(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ne("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hh&&(this.reconnectDelay_=fh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ne("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+W_.replace(/\./g,"-")]=1,D_()?t["framework.cordova"]=1:$w()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=xo.getInstance().currentlyOnline();return Vf(this.interruptReasons_)&&t}}$t.nextPersistentConnectionId_=0;$t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new F(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new F($r,t),i=new F($r,n);return this.compare(r,i)!==0}minPost(){return F.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds;class vy extends cl{static get __EMPTY_NODE(){return Ds}static set __EMPTY_NODE(t){Ds=t}compare(t,n){return qr(t.name,n.name)}isDefinedOn(t){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return F.MIN}maxPost(){return new F(Yn,Ds)}makePost(t,n){return C(typeof t=="string","KeyIndex indexValue must always be a string."),new F(t,Ds)}toString(){return".key"}}const kr=new vy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??me.RED,this.left=i??He.EMPTY_NODE,this.right=s??He.EMPTY_NODE}copy(t,n,r,i,s){return new me(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return He.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return He.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class nA{copy(t,n,r,i,s){return this}insert(t,n,r){return new me(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class He{constructor(t,n=He.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new He(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new He(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ps(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ps(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ps(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ps(this.root_,null,this.comparator_,!0,t)}}He.EMPTY_NODE=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e,t){return qr(e.name,t.name)}function Kc(e,t){return qr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;function iA(e){Tu=e}const Ey=function(e){return typeof e=="number"?"number:"+q_(e):"string:"+e},Sy=function(e){if(e.isLeafNode()){const t=e.val();C(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jt(t,".sv"),"Priority must be a string or number.")}else C(e===Tu||e.isEmpty(),"priority of unexpected type.");C(e===Tu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;class he{constructor(t,n=he.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sy(this.priorityNode_)}static set __childrenNodeConstructor(t){ph=t}static get __childrenNodeConstructor(){return ph}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new he(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return U(t)?this:M(t)===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:he.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(C(r!==".priority"||In(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,he.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ey(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=q_(this.value_):t+=this.value_,this.lazyHash_=G_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===he.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof he.__childrenNodeConstructor?-1:(C(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=he.VALUE_TYPE_ORDER.indexOf(n),s=he.VALUE_TYPE_ORDER.indexOf(r);return C(i>=0,"Unknown leaf type: "+n),C(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}he.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wy,Iy;function sA(e){wy=e}function oA(e){Iy=e}class lA extends cl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?qr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(Yn,new he("[PRIORITY-POST]",Iy))}makePost(t,n){const r=wy(t);return new F(n,new he("[PRIORITY-POST]",r))}toString(){return".priority"}}const xe=new lA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=Math.log(2);class uA{constructor(t){const n=s=>parseInt(Math.log(s)/aA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ro=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new me(f,d.node,me.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),E=i(g+1,u);return d=e[g],f=n?n(d):d,new me(f,d.node,me.BLACK,_,E)}},s=function(a){let u=null,c=null,d=e.length;const f=function(_,E){const v=d-_,m=d;d-=_;const h=i(v+1,m),y=e[v],S=n?n(y):y;g(new me(S,y.node,E,null,h))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),v=Math.pow(2,a.count-(_+1));E?f(v,me.BLACK):(f(v,me.BLACK),f(v,me.RED))}return c},o=new uA(e.length),l=s(o);return new He(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia;const lr={};class jt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return C(lr&&xe,"ChildrenNode.ts has not been loaded"),ia=ia||new jt({".priority":lr},{".priority":xe}),ia}get(t){const n=Hr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof He?n:null}hasIndex(t){return Jt(this.indexSet_,t.toString())}addIndex(t,n){C(t!==kr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(F.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ro(r,t.getCompare()):l=lr;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new jt(c,u)}addToIndexes(t,n){const r=Ao(this.indexes_,(i,s)=>{const o=Hr(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===lr)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(F.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Ro(l,o.getCompare())}else return lr;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new F(t.name,l))),a.insert(t,t.node)}});return new jt(r,this.indexSet_)}removeFromIndexes(t,n){const r=Ao(this.indexes_,i=>{if(i===lr)return i;{const s=n.get(t.name);return s?i.remove(new F(t.name,s)):i}});return new jt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ui;class H{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sy(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ui||(ui=new H(new He(Kc),null,jt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ui}updatePriority(t){return this.children_.isEmpty()?this:new H(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ui:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(X(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(C(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new F(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ui:this.priorityNode_;return new H(i,o,s)}}updateChild(t,n){const r=M(t);if(r===null)return n;{C(M(t)!==".priority"||In(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(X(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(xe,(o,l)=>{n[o]=l.val(t),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ey(this.getPriority().val())+":"),this.forEachChild(xe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":G_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new F(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new F(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new F(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,F.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===hs?-1:0}withIndex(t){if(t===kr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===kr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(xe),i=n.getIterator(xe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===kr?null:this.indexMap_.get(t.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cA extends H{constructor(){super(new He(Kc),H.EMPTY_NODE,jt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return H.EMPTY_NODE}isEmpty(){return!1}}const hs=new cA;Object.defineProperties(F,{MIN:{value:new F($r,H.EMPTY_NODE)},MAX:{value:new F(Yn,hs)}});vy.__EMPTY_NODE=H.EMPTY_NODE;he.__childrenNodeConstructor=H;iA(hs);oA(hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=!0;function ye(e,t=null){if(e===null)return H.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),C(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new he(n,ye(t))}if(!(e instanceof Array)&&dA){const n=[];let r=!1;if(at(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=ye(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new F(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=Ro(n,rA,o=>o.name,Kc);if(r){const o=Ro(n,xe.getCompare());return new H(s,ye(t),new jt({".priority":o},{".priority":xe}))}else return new H(s,ye(t),jt.Default)}else{let n=H.EMPTY_NODE;return at(e,(r,i)=>{if(Jt(e,r)&&r.substring(0,1)!=="."){const s=ye(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ye(t))}}sA(ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends cl{constructor(t){super(),this.indexPath_=t,C(!U(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?qr(t.name,n.name):s}makePost(t,n){const r=ye(t),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){const t=H.EMPTY_NODE.updateChild(this.indexPath_,hs);return new F(Yn,t)}toString(){return my(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends cl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?qr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(t,n){const r=ye(t);return new F(n,r)}toString(){return".value"}}const pA=new hA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e){return{type:"value",snapshotNode:e}}function gA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _A(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function yA(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xe}copy(){const t=new Yc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===xe?n="$priority":e.index_===pA?n="$value":e.index_===kr?n="$key":(C(e.index_ instanceof fA,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ve(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ve(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ve(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ve(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ve(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function _h(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==xe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends fy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fs("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Oo.getListenId_(t,r),l={};this.listens_[o]=l;const a=gh(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Hr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Oo.getListenId_(t,n);delete this.listens_[r]}get(t){const n=gh(t._queryParams),r=t._path.toString(),i=new sl;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+qw(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Qi(l.responseText)}catch{ze("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&ze("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return{value:null,children:new Map}}function Ty(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,ko());const i=e.children.get(r);t=X(t),Ty(i,t,n)}}function Au(e,t,n){e.value!==null?n(t,e.value):EA(e,(r,i)=>{const s=new Z(t.toString()+"/"+r);Au(i,s,n)})}function EA(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=10*1e3,wA=30*1e3,IA=5*60*1e3;class TA{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SA(t);const r=yh+(wA-yh)*Math.random();Ci(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;at(t,(i,s)=>{s>0&&Jt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ci(this.reportStats_.bind(this),Math.floor(Math.random()*2*IA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nt||(Nt={}));function Ay(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ny(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Nt.ACK_USER_WRITE,this.source=Ay()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(t));return new Do(V(),n,this.revert)}}else return C(M(this.path)===t,"operationForChild called for unrelated child."),new Do(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Nt.OVERWRITE}operationForChild(t){return U(this.path)?new qn(this.source,V(),this.snap.getImmediateChild(t)):new qn(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Nt.MERGE}operationForChild(t){if(U(this.path)){const n=this.children.subtree(new Z(t));return n.isEmpty()?null:n.value?new qn(this.source,V(),n.value):new Zi(this.source,V(),n)}else return C(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function AA(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(yA(o.childName,o.snapshotNode))}),ci(e,i,"child_removed",t,r,n),ci(e,i,"child_added",t,r,n),ci(e,i,"child_moved",s,r,n),ci(e,i,"child_changed",t,r,n),ci(e,i,"value",t,r,n),i}function ci(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>NA(e,l,a)),o.forEach(l=>{const a=CA(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function CA(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function NA(e,t,n){if(t.childName==null||n.childName==null)throw Kr("Should only compare child_ events.");const r=new F(t.childName,t.snapshotNode),i=new F(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e,t){return{eventCache:e,serverCache:t}}function Ni(e,t,n,r){return xy(new qc(t,n,r),e.serverCache)}function Ry(e,t,n,r){return xy(e.eventCache,new qc(t,n,r))}function Cu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Qn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;const xA=()=>(sa||(sa=new He(pT)),sa);class Q{constructor(t,n=xA()){this.value=t,this.children=n}static fromObject(t){let n=new Q(null);return at(t,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:V(),value:this.value};if(U(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(X(t),n);return s!=null?{path:de(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new Q(null)}}set(t,n){if(U(t))return new Q(n,this.children);{const r=M(t),s=(this.children.get(r)||new Q(null)).set(X(t),n),o=this.children.insert(r,s);return new Q(this.value,o)}}remove(t){if(U(t))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(X(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Q(null):new Q(this.value,s)}else return this}}get(t){if(U(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(U(t))return n;{const r=M(t),s=(this.children.get(r)||new Q(null)).setTree(X(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Q(this.value,o)}}fold(t){return this.fold_(V(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(de(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,V(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(t))return null;{const s=M(t),o=this.children.get(s);return o?o.findOnPath_(X(t),de(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,V(),n)}foreachOnPath_(t,n,r){if(U(t))return this;{this.value&&r(n,this.value);const i=M(t),s=this.children.get(i);return s?s.foreachOnPath_(X(t),de(n,i),r):new Q(null)}}foreach(t){this.foreach_(V(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(de(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.writeTree_=t}static empty(){return new vt(new Q(null))}}function xi(e,t,n){if(U(t))return new vt(new Q(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=it(i,t);return s=s.updateChild(o,n),new vt(e.writeTree_.set(i,s))}else{const i=new Q(n),s=e.writeTree_.setTree(t,i);return new vt(s)}}}function vh(e,t,n){let r=e;return at(n,(i,s)=>{r=xi(r,de(t,i),s)}),r}function Eh(e,t){if(U(t))return vt.empty();{const n=e.writeTree_.setTree(t,new Q(null));return new vt(n)}}function Nu(e,t){return ir(e,t)!=null}function ir(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(it(n.path,t)):null}function Sh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(xe,(r,i)=>{t.push(new F(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new F(r,i.value))}),t}function yn(e,t){if(U(t))return e;{const n=ir(e,t);return n!=null?new vt(new Q(n)):new vt(e.writeTree_.subtree(t))}}function xu(e){return e.writeTree_.isEmpty()}function Vr(e,t){return Oy(V(),e.writeTree_,t)}function Oy(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(C(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Oy(de(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(de(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e,t){return My(t,e)}function RA(e,t,n,r,i){C(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=xi(e.visibleWrites,t,n)),e.lastWriteId=r}function OA(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function kA(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&DA(l,r.path)?i=!1:gt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return PA(e),!0;if(r.snap)e.visibleWrites=Eh(e.visibleWrites,r.path);else{const l=r.children;at(l,a=>{e.visibleWrites=Eh(e.visibleWrites,de(r.path,a))})}return!0}else return!1}function DA(e,t){if(e.snap)return gt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&gt(de(e.path,n),t))return!0;return!1}function PA(e){e.visibleWrites=Dy(e.allWrites,LA,V()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function LA(e){return e.visible}function Dy(e,t,n){let r=vt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)gt(n,o)?(l=it(n,o),r=xi(r,l,s.snap)):gt(o,n)&&(l=it(o,n),r=xi(r,V(),s.snap.getChild(l)));else if(s.children){if(gt(n,o))l=it(n,o),r=vh(r,l,s.children);else if(gt(o,n))if(l=it(o,n),U(l))r=vh(r,V(),s.children);else{const a=Hr(s.children,M(l));if(a){const u=a.getChild(X(l));r=xi(r,V(),u)}}}else throw Kr("WriteRecord should have .snap or .children")}}return r}function Py(e,t,n,r,i){if(!r&&!i){const s=ir(e.visibleWrites,t);if(s!=null)return s;{const o=yn(e.visibleWrites,t);if(xu(o))return n;if(n==null&&!Nu(o,V()))return null;{const l=n||H.EMPTY_NODE;return Vr(o,l)}}}else{const s=yn(e.visibleWrites,t);if(!i&&xu(s))return n;if(!i&&n==null&&!Nu(s,V()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(gt(u.path,t)||gt(t,u.path))},l=Dy(e.allWrites,o,t),a=n||H.EMPTY_NODE;return Vr(l,a)}}}function bA(e,t,n){let r=H.EMPTY_NODE;const i=ir(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(xe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=yn(e.visibleWrites,t);return n.forEachChild(xe,(o,l)=>{const a=Vr(yn(s,new Z(o)),l);r=r.updateImmediateChild(o,a)}),Sh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=yn(e.visibleWrites,t);return Sh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function MA(e,t,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=de(t,n);if(Nu(e.visibleWrites,s))return null;{const o=yn(e.visibleWrites,s);return xu(o)?i.getChild(n):Vr(o,i.getChild(n))}}function UA(e,t,n,r){const i=de(t,n),s=ir(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=yn(e.visibleWrites,i);return Vr(o,r.getNode().getImmediateChild(n))}else return null}function FA(e,t){return ir(e.visibleWrites,t)}function jA(e,t,n,r,i,s,o){let l;const a=yn(e.visibleWrites,t),u=ir(a,V());if(u!=null)l=u;else if(n!=null)l=Vr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function BA(){return{visibleWrites:vt.empty(),allWrites:[],lastWriteId:-1}}function Ru(e,t,n,r){return Py(e.writeTree,e.treePath,t,n,r)}function Ly(e,t){return bA(e.writeTree,e.treePath,t)}function wh(e,t,n,r){return MA(e.writeTree,e.treePath,t,n,r)}function Po(e,t){return FA(e.writeTree,de(e.treePath,t))}function HA(e,t,n,r,i,s){return jA(e.writeTree,e.treePath,t,n,r,i,s)}function Qc(e,t,n){return UA(e.writeTree,e.treePath,t,n)}function by(e,t){return My(de(e.treePath,t),e.writeTree)}function My(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,mh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_A(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gA(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,mh(r,t.snapshotNode,i.oldSnap));else throw Kr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Uy=new VA;class Xc{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new qc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qc(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qn(this.viewCache_),s=HA(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}function WA(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function zA(e,t,n,r,i){const s=new $A;let o,l;if(n.type===Nt.OVERWRITE){const u=n;u.source.fromUser?o=Ou(e,t,u.path,u.snap,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!U(u.path),o=Lo(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Nt.MERGE){const u=n;u.source.fromUser?o=KA(e,t,u.path,u.children,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=ku(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Nt.ACK_USER_WRITE){const u=n;u.revert?o=QA(e,t,u.path,r,i,s):o=YA(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Nt.LISTEN_COMPLETE)o=qA(e,t,n.path,r,s);else throw Kr("Unknown operation type: "+n.type);const a=s.getChanges();return GA(t,o,a),{viewCache:o,changes:a}}function GA(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Cu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(mA(Cu(t)))}}function Fy(e,t,n,r,i,s){const o=t.eventCache;if(Po(r,n)!=null)return t;{let l,a;if(U(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Qn(t),c=u instanceof H?u:H.EMPTY_NODE,d=Ly(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Ru(r,Qn(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=M(n);if(u===".priority"){C(In(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=wh(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=X(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=wh(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Qc(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return Ni(t,l,o.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function Lo(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(U(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=M(n);if(!a.isCompleteForPath(n)&&In(n)>1)return t;const _=X(n),v=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),v):u=c.updateChild(a.getNode(),g,v,_,Uy,null)}const d=Ry(t,u,a.isFullyInitialized()||U(n),c.filtersNodes()),f=new Xc(i,d,s);return Fy(e,d,n,i,f,l)}function Ou(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Xc(i,t,s);if(U(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Ni(t,u,!0,e.filter.filtersNodes());else{const d=M(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Ni(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=X(n),g=l.getNode().getImmediateChild(d);let _;if(U(f))_=r;else{const E=c.getCompleteChild(d);E!=null?py(f)===".priority"&&E.getChild(gy(f)).isEmpty()?_=E:_=E.updateChild(f,r):_=H.EMPTY_NODE}if(g.equals(_))a=t;else{const E=e.filter.updateChild(l.getNode(),d,_,f,c,o);a=Ni(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Ih(e,t){return e.eventCache.isCompleteForChild(t)}function KA(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=de(n,a);Ih(t,M(c))&&(l=Ou(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=de(n,a);Ih(t,M(c))||(l=Ou(e,l,c,u,i,s,o))}),l}function Th(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function ku(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;U(n)?u=r:u=new Q(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=t.serverCache.getNode().getImmediateChild(d),_=Th(e,g,f);a=Lo(e,a,new Z(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const g=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const _=t.serverCache.getNode().getImmediateChild(d),E=Th(e,_,f);a=Lo(e,a,new Z(d),E,i,s,o,l)}}),a}function YA(e,t,n,r,i,s,o){if(Po(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(U(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Lo(e,t,n,a.getNode().getChild(n),i,s,l,o);if(U(n)){let u=new Q(null);return a.getNode().forEachChild(kr,(c,d)=>{u=u.set(new Z(c),d)}),ku(e,t,n,u,i,s,l,o)}else return t}else{let u=new Q(null);return r.foreach((c,d)=>{const f=de(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),ku(e,t,n,u,i,s,l,o)}}function qA(e,t,n,r,i){const s=t.serverCache,o=Ry(t,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return Fy(e,o,n,r,Uy,i)}function QA(e,t,n,r,i,s){let o;if(Po(r,n)!=null)return t;{const l=new Xc(r,t,i),a=t.eventCache.getNode();let u;if(U(n)||M(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Ru(r,Qn(t));else{const d=t.serverCache.getNode();C(d instanceof H,"serverChildren would be complete if leaf node"),c=Ly(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=M(n);let d=Qc(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,X(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,H.EMPTY_NODE,X(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ru(r,Qn(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Po(r,V())!=null,Ni(t,u,o,e.filter.filtersNodes())}}function XA(e,t){const n=Qn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function Ah(e,t,n,r){t.type===Nt.MERGE&&t.source.queryId!==null&&(C(Qn(e.viewCache_),"We should always have a full cache before handling merges"),C(Cu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=zA(e.processor_,i,t,n,r);return WA(e.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,JA(e,s.changes,s.viewCache.eventCache.getNode(),null)}function JA(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return AA(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;function ZA(e){C(!Ch,"__referenceConstructor has already been defined"),Ch=e}function Jc(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return C(s!=null,"SyncTree gave us an op for an invalid query."),Ah(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Ah(o,t,n,r));return s}}function Zc(e,t){let n=null;for(const r of e.views.values())n=n||XA(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;function eC(e){C(!Nh,"__referenceConstructor has already been defined"),Nh=e}class xh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Q(null),this.pendingWriteTree_=BA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jy(e,t,n,r,i){return RA(e.pendingWriteTree_,t,n,r,i),i?fl(e,new qn(Ay(),t,n)):[]}function Un(e,t,n=!1){const r=OA(e.pendingWriteTree_,t);if(kA(e.pendingWriteTree_,t)){let s=new Q(null);return r.snap!=null?s=s.set(V(),!0):at(r.children,o=>{s=s.set(new Z(o),!0)}),fl(e,new Do(r.path,s,n))}else return[]}function dl(e,t,n){return fl(e,new qn(Cy(),t,n))}function tC(e,t,n){const r=Q.fromObject(n);return fl(e,new Zi(Cy(),t,r))}function nC(e,t,n,r){const i=$y(e,r);if(i!=null){const s=Vy(i),o=s.path,l=s.queryId,a=it(o,t),u=new qn(Ny(l),a,n);return Wy(e,o,u)}else return[]}function rC(e,t,n,r){const i=$y(e,r);if(i){const s=Vy(i),o=s.path,l=s.queryId,a=it(o,t),u=Q.fromObject(n),c=new Zi(Ny(l),a,u);return Wy(e,o,c)}else return[]}function ed(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=it(o,t),u=Zc(l,a);if(u)return u});return Py(i,t,s,n,!0)}function fl(e,t){return By(t,e.syncPointTree_,null,ky(e.pendingWriteTree_,V()))}function By(e,t,n,r){if(U(e.path))return Hy(e,t,n,r);{const i=t.get(V());n==null&&i!=null&&(n=Zc(i,V()));let s=[];const o=M(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=by(r,o);s=s.concat(By(l,a,u,c))}return i&&(s=s.concat(Jc(i,e,r,n))),s}}function Hy(e,t,n,r){const i=t.get(V());n==null&&i!=null&&(n=Zc(i,V()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=by(r,o),c=e.operationForChild(o);c&&(s=s.concat(Hy(c,l,a,u)))}),i&&(s=s.concat(Jc(i,e,r,n))),s}function $y(e,t){return e.tagToQueryMap.get(t)}function Vy(e){const t=e.indexOf("$");return C(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z(e.substr(0,t))}}function Wy(e,t,n){const r=e.syncPointTree_.get(t);C(r,"Missing sync point for query tag that we're tracking");const i=ky(e.pendingWriteTree_,t);return Jc(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new td(n)}node(){return this.node_}}class nd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=de(this.path_,t);return new nd(this.syncTree_,n)}node(){return ed(this.syncTree_,this.path_)}}const iC=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Rh=function(e,t,n){if(!e||typeof e!="object")return e;if(C(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return sC(e[".sv"],t,n);if(typeof e[".sv"]=="object")return oC(e[".sv"],t);C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},sC=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+e)}},oC=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);const i=t.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},lC=function(e,t,n,r){return rd(t,new nd(n,e),r)},zy=function(e,t,n){return rd(e,new td(t),n)};function rd(e,t,n){const r=e.getPriority().val(),i=Rh(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Rh(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new he(l,ye(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new he(i))),o.forEachChild(xe,(l,a)=>{const u=rd(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function sd(e,t){let n=t instanceof Z?t:new Z(t),r=e,i=M(n);for(;i!==null;){const s=Hr(r.node.children,i)||{children:{},childCount:0};r=new id(i,r,s),n=X(n),i=M(n)}return r}function Xr(e){return e.node.value}function Gy(e,t){e.node.value=t,Du(e)}function Ky(e){return e.node.childCount>0}function aC(e){return Xr(e)===void 0&&!Ky(e)}function hl(e,t){at(e.node.children,(n,r)=>{t(new id(n,e,r))})}function Yy(e,t,n,r){n&&!r&&t(e),hl(e,i=>{Yy(i,t,!0,r)}),n&&r&&t(e)}function uC(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ps(e){return new Z(e.parent===null?e.name:ps(e.parent)+"/"+e.name)}function Du(e){e.parent!==null&&cC(e.parent,e.name,e)}function cC(e,t,n){const r=aC(n),i=Jt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Du(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Du(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/[\[\].#$\/\u0000-\u001F\u007F]/,fC=/[\[\].#$\u0000-\u001F\u007F]/,oa=10*1024*1024,qy=function(e){return typeof e=="string"&&e.length!==0&&!dC.test(e)},Qy=function(e){return typeof e=="string"&&e.length!==0&&!fC.test(e)},hC=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qy(e)},pC=function(e,t,n,r){r&&t===void 0||od(Bc(e,"value"),t,n)},od=function(e,t,n){const r=n instanceof Z?new qT(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+kn(r));if(typeof t=="function")throw new Error(e+"contains a function "+kn(r)+" with contents = "+t.toString());if(K_(t))throw new Error(e+"contains "+t.toString()+" "+kn(r));if(typeof t=="string"&&t.length>oa/3&&ll(t)>oa)throw new Error(e+"contains a string greater than "+oa+" utf8 bytes "+kn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(at(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qy(o)))throw new Error(e+" contains an invalid key ("+o+") "+kn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QT(r,o),od(e,l,r),XT(r)}),i&&s)throw new Error(e+' contains ".value" child '+kn(r)+" in addition to actual children.")}},Xy=function(e,t,n,r){if(!(r&&n===void 0)&&!Qy(n))throw new Error(Bc(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mC=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xy(e,t,n,r)},gC=function(e,t){if(M(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},_C=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hC(n))throw new Error(Bc(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jy(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!_y(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Qt(e,t,n){Jy(e,n),vC(e,r=>gt(r,t)||gt(t,r))}function vC(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(EC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function EC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();$n&&Ne("event: "+n.toString()),Qr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="repo_interrupt",wC=25;class IC{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new id,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TC(e,t,n){if(e.stats_=Wc(e.repoInfo_),e.forceRestClient_||ET())e.server_=new Oo(e.repoInfo_,(r,i,s,o)=>{Oh(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>kh(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ve(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new $t(e.repoInfo_,t,(r,i,s,o)=>{Oh(e,r,i,s,o)},r=>{kh(e,r)},r=>{CC(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=AT(e.repoInfo_,()=>new TA(e.stats_,e.server_)),e.infoData_=new vA,e.infoSyncTree_=new xh({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=dl(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ad(e,"connected",!1),e.serverSyncTree_=new xh({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Qt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function AC(e){const n=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ld(e){return iC({timestamp:AC(e)})}function Oh(e,t,n,r,i){e.dataUpdateCount++;const s=new Z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Ao(n,u=>ye(u));o=rC(e.serverSyncTree_,s,a,i)}else{const a=ye(n);o=nC(e.serverSyncTree_,s,a,i)}else if(r){const a=Ao(n,u=>ye(u));o=tC(e.serverSyncTree_,s,a)}else{const a=ye(n);o=dl(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=pl(e,s)),Qt(e.eventQueue_,l,o)}function kh(e,t){ad(e,"connected",t),t===!1&&xC(e)}function CC(e,t){at(t,(n,r)=>{ad(e,n,r)})}function ad(e,t,n){const r=new Z("/.info/"+t),i=ye(n);e.infoData_.updateSnapshot(r,i);const s=dl(e.infoSyncTree_,r,i);Qt(e.eventQueue_,r,s)}function Zy(e){return e.nextWriteId_++}function NC(e,t,n,r,i){ud(e,"set",{path:t.toString(),value:n,priority:r});const s=ld(e),o=ye(n,r),l=ed(e.serverSyncTree_,t),a=zy(o,l,s),u=Zy(e),c=jy(e.serverSyncTree_,t,a,u,!0);Jy(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||ze("set at "+t+" failed: "+f);const E=Un(e.serverSyncTree_,u,!_);Qt(e.eventQueue_,t,E),OC(e,i,f,g)});const d=iv(e,t);pl(e,d),Qt(e.eventQueue_,d,[])}function xC(e){ud(e,"onDisconnectEvents");const t=ld(e),n=ko();Au(e.onDisconnect_,V(),(i,s)=>{const o=lC(i,s,e.serverSyncTree_,t);Ty(n,i,o)});let r=[];Au(n,V(),(i,s)=>{r=r.concat(dl(e.serverSyncTree_,i,s));const o=iv(e,i);pl(e,o)}),e.onDisconnect_=ko(),Qt(e.eventQueue_,V(),r)}function RC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SC)}function ud(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ne(n,...t)}function OC(e,t,n,r){t&&Qr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function ev(e,t,n){return ed(e.serverSyncTree_,t,n)||H.EMPTY_NODE}function cd(e,t=e.transactionQueueTree_){if(t||ml(e,t),Xr(t)){const n=nv(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&kC(e,ps(t),n)}else Ky(t)&&hl(t,n=>{cd(e,n)})}function kC(e,t,n){const r=n.map(u=>u.currentWriteId),i=ev(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];C(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=it(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{ud(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Un(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ml(e,sd(e.transactionQueueTree_,t)),cd(e,e.transactionQueueTree_),Qt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Qr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ze("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}pl(e,t)}},o)}function pl(e,t){const n=tv(e,t),r=ps(n),i=nv(e,n);return DC(e,i,r),r}function DC(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=it(n,a.path);let c=!1,d;if(C(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=wC)c=!0,d="maxretry",i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0));else{const f=ev(e,a.path,o);a.currentInputSnapshot=f;const g=t[l].update(f.val());if(g!==void 0){od("transaction failed: Data returned ",g,a.path);let _=ye(g);typeof g=="object"&&g!=null&&Jt(g,".priority")||(_=_.updatePriority(f.getPriority()));const v=a.currentWriteId,m=ld(e),h=zy(_,f,m);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=Zy(e),o.splice(o.indexOf(v),1),i=i.concat(jy(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Un(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0))}Qt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}ml(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Qr(r[l]);cd(e,e.transactionQueueTree_)}function tv(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&Xr(r)===void 0;)r=sd(r,n),t=X(t),n=M(t);return r}function nv(e,t){const n=[];return rv(e,t,n),n.sort((r,i)=>r.order-i.order),n}function rv(e,t,n){const r=Xr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hl(t,i=>{rv(e,i,n)})}function ml(e,t){const n=Xr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Gy(t,n.length>0?n:void 0)}hl(t,r=>{ml(e,r)})}function iv(e,t){const n=ps(tv(e,t)),r=sd(e.transactionQueueTree_,t);return uC(r,i=>{la(e,i)}),la(e,r),Yy(r,i=>{la(e,i)}),n}function la(e,t){const n=Xr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Un(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Gy(t,void 0):n.length=s+1,Qt(e.eventQueue_,ps(t),i);for(let o=0;o<r.length;o++)Qr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function LC(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ze(`Invalid query segment '${n}' in query '${e}'`)}return t}const Dh=function(e,t){const n=bC(e),r=n.namespace;n.domain==="firebase.com"&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sy(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z(n.pathString)}},bC=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=PC(e.substring(c,d)));const f=LC(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:py(this._path)}get ref(){return new sr(this._repo,this._path)}get _queryIdentifier(){const t=_h(this._queryParams),n=$c(t);return n==="{}"?"default":n}get _queryObject(){return _h(this._queryParams)}isEqual(t){if(t=rr(t),!(t instanceof dd))return!1;const n=this._repo===t._repo,r=_y(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YT(this._path)}}class sr extends dd{constructor(t,n){super(t,n,new Yc,!1)}get parent(){const t=gy(this._path);return t===null?null:new sr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function MC(e,t){return e=rr(e),e._checkNotDeleted("ref"),t!==void 0?UC(e._root,t):e._root}function UC(e,t){return e=rr(e),M(e._path)===null?mC("child","path",t,!1):Xy("child","path",t,!1),new sr(e._repo,de(e._path,t))}function FC(e,t){e=rr(e),gC("set",e._path),pC("set",t,e._path,!1);const n=new sl;return NC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}ZA(sr);eC(sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="FIREBASE_DATABASE_EMULATOR_HOST",Pu={};let BC=!1;function HC(e,t,n,r){e.repoInfo_=new sy(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function $C(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ne("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Dh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[jC]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Dh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new Or(Or.OWNER):new wT(e.name,e.options,t);_C("Invalid Firebase Database URL",o),U(o.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=WC(l,e,c,new ST(e.name,n));return new zC(d,e)}function VC(e,t){const n=Pu[t];(!n||n[e.key]!==e)&&qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),RC(e),delete n[e.key]}function WC(e,t,n,r){let i=Pu[t.name];i||(i={},Pu[t.name]=i);let s=i[e.toURLString()];return s&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new IC(e,BC,n,r),i[e.toURLString()]=s,s}class zC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sr(this._repo,V())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qt("Cannot call "+t+" on a deleted database.")}}function GC(e=H_(),t){const n=ul(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=jw("database");r&&KC(n,...r)}return n}function KC(e,t,n,r={}){e=rr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&qt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Or(Or.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Bw(r.mockUserToken,e.app.options.projectId);s=new Or(o)}HC(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){lT(qI),wn(new Kt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return $C(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ot(Zf,eh,e),Ot(Zf,eh,"esm2017")}$t.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};$t.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YC();const sv="@firebase/installations",fd="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=1e4,lv=`w:${fd}`,av="FIS_v2",qC="https://firebaseinstallations.googleapis.com/v1",QC=60*60*1e3,XC="installations",JC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xn=new ol(XC,JC,ZC);function uv(e){return e instanceof Yr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv({projectId:e}){return`${qC}/projects/${e}/installations`}function dv(e){return{token:e.token,requestStatus:2,expiresIn:tN(e.expiresIn),creationTime:Date.now()}}async function fv(e,t){const r=(await t.json()).error;return Xn.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function eN(e,{refreshToken:t}){const n=hv(e);return n.append("Authorization",nN(t)),n}async function pv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function tN(e){return Number(e.replace("s","000"))}function nN(e){return`${av} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=cv(e),i=hv(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:av,appId:e.appId,sdkVersion:lv},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await pv(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:dv(u.authToken)}}else throw await fv("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^[cdef][\w-]{21}$/,Lu="";function oN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=lN(e);return sN.test(n)?n:Lu}catch{return Lu}}function lN(e){return iN(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function _v(e,t){const n=gl(e);yv(n,t),aN(n,t)}function yv(e,t){const n=gv.get(e);if(n)for(const r of n)r(t)}function aN(e,t){const n=uN();n&&n.postMessage({key:e,fid:t}),cN()}let Fn=null;function uN(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=e=>{yv(e.data.key,e.data.fid)}),Fn}function cN(){gv.size===0&&Fn&&(Fn.close(),Fn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebase-installations-database",fN=1,Jn="firebase-installations-store";let aa=null;function hd(){return aa||(aa=al(dN,fN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Jn)}}})),aa}async function bo(e,t){const n=gl(e),i=(await hd()).transaction(Jn,"readwrite"),s=i.objectStore(Jn),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&_v(e,t.fid),t}async function vv(e){const t=gl(e),r=(await hd()).transaction(Jn,"readwrite");await r.objectStore(Jn).delete(t),await r.done}async function _l(e,t){const n=gl(e),i=(await hd()).transaction(Jn,"readwrite"),s=i.objectStore(Jn),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&_v(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(e){let t;const n=await _l(e.appConfig,r=>{const i=hN(r),s=pN(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Lu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function hN(e){const t=e||{fid:oN(),registrationStatus:0};return Ev(t)}function pN(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=mN(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:gN(e)}:{installationEntry:t}}async function mN(e,t){try{const n=await rN(e,t);return bo(e.appConfig,n)}catch(n){throw uv(n)&&n.customData.serverCode===409?await vv(e.appConfig):await bo(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function gN(e){let t=await Ph(e.appConfig);for(;t.registrationStatus===1;)await mv(100),t=await Ph(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pd(e);return r||n}return t}function Ph(e){return _l(e,t=>{if(!t)throw Xn.create("installation-not-found");return Ev(t)})}function Ev(e){return _N(e)?{fid:e.fid,registrationStatus:0}:e}function _N(e){return e.registrationStatus===1&&e.registrationTime+ov<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN({appConfig:e,heartbeatServiceProvider:t},n){const r=vN(e,n),i=eN(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:lv,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await pv(()=>fetch(r,l));if(a.ok){const u=await a.json();return dv(u)}else throw await fv("Generate Auth Token",a)}function vN(e,{fid:t}){return`${cv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(e,t=!1){let n;const r=await _l(e.appConfig,s=>{if(!Sv(s))throw Xn.create("not-registered");const o=s.authToken;if(!t&&wN(o))return s;if(o.requestStatus===1)return n=EN(e,t),s;{if(!navigator.onLine)throw Xn.create("app-offline");const l=TN(s);return n=SN(e,l),l}});return n?await n:r.authToken}async function EN(e,t){let n=await Lh(e.appConfig);for(;n.authToken.requestStatus===1;)await mv(100),n=await Lh(e.appConfig);const r=n.authToken;return r.requestStatus===0?md(e,t):r}function Lh(e){return _l(e,t=>{if(!Sv(t))throw Xn.create("not-registered");const n=t.authToken;return AN(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function SN(e,t){try{const n=await yN(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await bo(e.appConfig,r),n}catch(n){if(uv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vv(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bo(e.appConfig,r)}throw n}}function Sv(e){return e!==void 0&&e.registrationStatus===2}function wN(e){return e.requestStatus===2&&!IN(e)}function IN(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+QC}function TN(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function AN(e){return e.requestStatus===1&&e.requestTime+ov<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(e){const t=e,{installationEntry:n,registrationPromise:r}=await pd(t);return r?r.catch(console.error):md(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(e,t=!1){const n=e;return await xN(n),(await md(n,t)).token}async function xN(e){const{registrationPromise:t}=await pd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e){if(!e||!e.options)throw ua("App Configuration");if(!e.name)throw ua("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ua(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ua(e){return Xn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="installations",ON="installations-internal",kN=e=>{const t=e.getProvider("app").getImmediate(),n=RN(t),r=ul(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},DN=e=>{const t=e.getProvider("app").getImmediate(),n=ul(t,wv).getImmediate();return{getId:()=>CN(n),getToken:i=>NN(n,i)}};function PN(){wn(new Kt(wv,kN,"PUBLIC")),wn(new Kt(ON,DN,"PRIVATE"))}PN();Ot(sv,fd);Ot(sv,fd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="/firebase-messaging-sw.js",bN="/firebase-cloud-messaging-push-scope",Iv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",MN="https://fcmregistrations.googleapis.com/v1",Tv="google.c.a.c_id",UN="google.c.a.c_l",FN="google.c.a.ts",jN="google.c.a.e";var bh;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(bh||(bh={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var es;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(es||(es={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function BN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="fcm_token_details_db",HN=5,Mh="fcm_token_object_Store";async function $N(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(ca))return null;let t=null;return(await al(ca,HN,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(Mh))return;const a=o.objectStore(Mh),u=await a.index("fcmSenderId").get(e);if(await a.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:(l=c.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:bt(c.vapidKey)}}}else if(i===3){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:bt(c.auth),p256dh:bt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:bt(c.vapidKey)}}}else if(i===4){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:bt(c.auth),p256dh:bt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:bt(c.vapidKey)}}}}}})).close(),await Jl(ca),await Jl("fcm_vapid_details_db"),await Jl("undefined"),VN(t)?t:null}function VN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-messaging-database",zN=1,ts="firebase-messaging-store";let da=null;function Av(){return da||(da=al(WN,zN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ts)}}})),da}async function GN(e){const t=Cv(e),r=await(await Av()).transaction(ts).objectStore(ts).get(t);if(r)return r;{const i=await $N(e.appConfig.senderId);if(i)return await gd(e,i),i}}async function gd(e,t){const n=Cv(e),i=(await Av()).transaction(ts,"readwrite");return await i.objectStore(ts).put(t,n),await i.done,t}function Cv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},be=new ol("messaging","Messaging",KN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(e,t){const n=await yd(e),r=Nv(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(_d(e.appConfig),i)).json()}catch(o){throw be.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw be.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw be.create("token-subscribe-no-token");return s.token}async function qN(e,t){const n=await yd(e),r=Nv(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${_d(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw be.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw be.create("token-update-failed",{errorInfo:o})}if(!s.token)throw be.create("token-update-no-token");return s.token}async function QN(e,t){const r={method:"DELETE",headers:await yd(e)};try{const s=await(await fetch(`${_d(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw be.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw be.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function _d({projectId:e}){return`${MN}/projects/${e}/registrations`}async function yd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Nv({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Iv&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=7*24*60*60*1e3;async function JN(e){const t=await e1(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:bt(t.getKey("auth")),p256dh:bt(t.getKey("p256dh"))},r=await GN(e.firebaseDependencies);if(r){if(t1(r.subscriptionOptions,n))return Date.now()>=r.createTime+XN?ZN(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await QN(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Uh(e.firebaseDependencies,n)}else return Uh(e.firebaseDependencies,n)}async function ZN(e,t){try{const n=await qN(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await gd(e.firebaseDependencies,r),n}catch(n){throw n}}async function Uh(e,t){const r={token:await YN(e,t),createTime:Date.now(),subscriptionOptions:t};return await gd(e,r),r.token}async function e1(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BN(t)})}function t1(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return n1(t,e),r1(t,e),i1(t,e),t}function n1(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function r1(e,t){t.data&&(e.data=t.data)}function i1(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const l=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;l&&(e.fcmOptions.link=l);const a=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(e){return typeof e=="object"&&!!e&&Tv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */o1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function o1(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e){if(!e||!e.options)throw fa("App Configuration Object");if(!e.name)throw fa("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw fa(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function fa(e){return be.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=l1(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(e){try{e.swRegistration=await navigator.serviceWorker.register(LN,{scope:bN}),e.swRegistration.update().catch(()=>{})}catch(t){throw be.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(e,t){if(!t&&!e.swRegistration&&await u1(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw be.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Iv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(e,t){if(!navigator)throw be.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw be.create("permission-blocked");return await d1(e,t==null?void 0:t.vapidKey),await c1(e,t==null?void 0:t.serviceWorkerRegistration),JN(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(e,t,n){const r=h1(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Tv],message_name:n[UN],message_time:n[FN],message_device_time:Math.floor(Date.now()/1e3)})}function h1(e){switch(e){case es.NOTIFICATION_CLICKED:return"notification_open";case es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===es.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Fh(n)):e.onMessageHandler.next(Fh(n)));const r=n.data;s1(r)&&r[jN]==="1"&&await f1(e,n.messageType,r)}const jh="@firebase/messaging",Bh="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=e=>{const t=new a1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>p1(t,n)),t},g1=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>xv(t,r)}};function _1(){wn(new Kt("messaging",m1,"PUBLIC")),wn(new Kt("messaging-internal",g1,"PRIVATE")),Ot(jh,Bh),Ot(jh,Bh,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(){try{await b_()}catch{return!1}return typeof window<"u"&&L_()&&Vw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e=H_()){return y1().then(t=>{if(!t)throw be.create("unsupported-browser")},t=>{throw be.create("indexed-db-unsupported")}),ul(rr(e),"messaging").getImmediate()}async function E1(e,t){return e=rr(e),xv(e,t)}_1();const Rv={apiKey:"AIzaSyBzBlEr1WSMy5ornhdEvEmLvg_9oKsYqDU",authDomain:"japs-parivar-siren.firebaseapp.com",databaseURL:"https://japs-parivar-siren-default-rtdb.firebaseio.com",projectId:"japs-parivar-siren",storageBucket:"japs-parivar-siren.firebasestorage.app",messagingSenderId:"329214308072",appId:"1:329214308072:web:7dfb90b6629e84f590235d",measurementId:"G-18MNV84E8X"},vd=Rv.apiKey!=="PASTE_YOUR_API_KEY_HERE";vd&&console.warn(" Firebase is NOT configured. Push notifications will not work.");const Mo=vd?B_(Rv):null,bu=Mo?GC(Mo):null,Hh=Mo?v1(Mo):null,ha=()=>vd,Mu=async()=>{if(!Hh||!bu)return!1;try{if(await Notification.requestPermission()!=="granted")return console.log(" Notification permission denied"),!1;const t=await E1(Hh,{});return t?(console.log(" FCM Token Generated:",t),await S1(t),!0):!1}catch(e){return console.error("Error initializing notifications:",e),!1}},S1=async e=>{if(bu){e.substring(0,10)+""+e.substring(e.length-5);try{await FC(MC(bu,`fcm_tokens/${e.replace(/[.\#$\[\]]/g,"_")}`),{token:e,updatedAt:Date.now(),userAgent:navigator.userAgent}),console.log(" Token saved to Realtime Database")}catch(t){console.error(" Failed to save token to DB:",t)}}},w1="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAASAAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA",I1=()=>{var Nn;const e=rl(),[t,n]=w.useState([]),[r,i]=w.useState(!1),[s,o]=w.useState(null),[l,a]=w.useState(null),[u,c]=w.useState(!1),[d,f]=w.useState(!1),[g,_]=w.useState(!1),[E,v]=w.useState(!1),[m,h]=w.useState(null),[y,S]=w.useState(!1),[A,N]=w.useState(Date.now()),[k,R]=w.useState(!1),[B,L]=w.useState(!0),[Oe,ct]=w.useState("default"),le=w.useRef(null),Ze=w.useRef(null),St=w.useRef(null),wt=w.useRef(null),kt=w.useRef(()=>{});w.useEffect(()=>{localStorage.getItem("sentinel_armed")==="true"&&D(!0),window.matchMedia("(display-mode: standalone)").matches&&f(!0),L(ha()),"Notification"in window&&ct(Notification.permission),Le()&&ha()&&Mu()},[]);const x=async()=>{if(!("Notification"in window))return;const P=await Notification.requestPermission();ct(P),P==="granted"&&ha()&&Mu()},T=async()=>{if("wakeLock"in navigator)try{const P=await navigator.wakeLock.request("screen");h(P),S(!1),console.log(" Screen Wake Lock acquired"),P.addEventListener("release",()=>{console.log(" Screen Wake Lock released"),h(null),document.visibilityState==="visible"&&localStorage.getItem("sentinel_armed")==="true"&&T()})}catch(P){console.error(`Wake Lock failed: ${P.name}, ${P.message}`),S(!0)}else S(!0)};w.useEffect(()=>{const P=()=>{document.visibilityState==="visible"&&r&&(T(),le.current&&le.current.state==="suspended"&&le.current.resume())};return document.addEventListener("visibilitychange",P),()=>document.removeEventListener("visibilitychange",P)},[r]);const D=(P=!1)=>{if(!le.current){const Ie=window.AudioContext||window.webkitAudioContext;le.current=new Ie}const Y=le.current;if(Y.state==="suspended"&&Y.resume().catch(()=>console.log("Auto-resume waiting for gesture")),Ze.current){const Ie=Ze.current.play();Ie!==void 0&&Ie.then(()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:"Sentinel Active",artist:"Emergency Broadcast System",artwork:[{src:"https://cdn-icons-png.flaticon.com/512/564/564619.png",sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",()=>{var Ge;(Ge=Ze.current)==null||Ge.play()}),navigator.mediaSession.playbackState="playing")}).catch(()=>console.log("Auto-play prevented"))}if(i(!0),localStorage.setItem("sentinel_armed","true"),x(),T(),!P)try{const Ie=Y.createOscillator(),Ge=Y.createGain();Ie.connect(Ge),Ge.connect(Y.destination),Ie.frequency.setValueAtTime(880,Y.currentTime),Ge.gain.setValueAtTime(.1,Y.currentTime),Ge.gain.exponentialRampToValueAtTime(1e-5,Y.currentTime+.1),Ie.start(),Ie.stop(Y.currentTime+.1)}catch(Ie){console.error(Ie)}},W=()=>{i(!1),localStorage.removeItem("sentinel_armed"),_(!1),z(),m&&m.release().then(()=>h(null)),le.current&&le.current.suspend(),Ze.current&&Ze.current.pause()},z=()=>{St.current&&(clearInterval(St.current),St.current=null),navigator.vibrate&&navigator.vibrate(0)},Dt=w.useCallback(()=>{if(_(!0),setTimeout(()=>{_(!1),z()},15e3),navigator.vibrate&&(navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100]),St.current&&clearInterval(St.current),St.current=setInterval(()=>{navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100])},3e3)),!r||!le.current)return;const P=le.current;P.state==="suspended"&&P.resume();try{const Y=P.createOscillator(),Ie=P.createGain();Y.connect(Ie),Ie.connect(P.destination),Y.type="sawtooth";const Ge=P.currentTime;for(let Sl=0;Sl<15;Sl++){const wl=Ge+Sl;Y.frequency.setValueAtTime(600,wl),Y.frequency.linearRampToValueAtTime(1200,wl+.5),Y.frequency.linearRampToValueAtTime(600,wl+1)}Ie.gain.setValueAtTime(.5,Ge),Ie.gain.linearRampToValueAtTime(.001,Ge+15),Y.start(Ge),Y.stop(Ge+15)}catch(Y){console.error(Y)}},[r]),et=w.useCallback(async()=>{v(Le());const P=await A_();n(P),s!==null&&P.length>s&&(Dt(),document.visibilityState==="hidden"&&P.length>0&&Jr(P[0])),o(P.length)},[s,Dt]);w.useEffect(()=>{kt.current=et},[et]),w.useEffect(()=>{if(A){R(!0);const P=setTimeout(()=>R(!1),500);return()=>clearTimeout(P)}},[A]),w.useEffect(()=>{try{wt.current=new Worker(new URL("./polling-worker.js",window.location.origin+window.location.pathname.replace(/\/[^/]*$/,"/")).href),wt.current.onmessage=P=>{P.data==="tick"&&(N(Date.now()),kt.current&&kt.current())},wt.current.postMessage("start")}catch{}return()=>{var P;return(P=wt.current)==null?void 0:P.terminate()}},[]);const Jr=P=>{if(!(!("Notification"in window)||Notification.permission!=="granted"))try{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.ready.then(Y=>{Y.showNotification(` ${P.severity}`,{body:P.content,icon:"https://cdn-icons-png.flaticon.com/512/564/564619.png",tag:"sentinel-alert",renotify:!0,requireInteraction:!0,vibrate:[500,200,500,200,1e3]})})}catch{}};w.useEffect(()=>{const P=Y=>{Y.preventDefault(),a(Y),c(!0)};return window.addEventListener("beforeinstallprompt",P),window.addEventListener("appinstalled",()=>{f(!0),c(!1)}),()=>window.removeEventListener("beforeinstallprompt",P)},[]);const Pt=()=>{l&&(l.prompt(),l.userChoice.then(P=>{P.outcome==="accepted"&&c(!1),a(null)}))};return p.jsxs("div",{className:`min-h-screen text-white flex flex-col transition-colors duration-500 ${g?"alarm-flash":"bg-slate-900"}`,children:[p.jsx("audio",{ref:Ze,src:w1,loop:!0,playsInline:!0,style:{display:"none"}}),p.jsx("header",{className:"bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-50 shadow-md",children:p.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 bg-red-600 rounded-full flex items-center justify-center ${g?"animate-spin":"animate-pulse"}`,children:p.jsx("i",{className:"fas fa-bullhorn text-white text-xl"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold tracking-wider text-red-500",children:"SENTINEL"}),p.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[10px] font-mono",children:[E?p.jsx("span",{className:"text-green-400",children:" CLOUD"}):p.jsx("span",{className:"text-yellow-500",children:" LOCAL"}),r&&(m?p.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[p.jsx("i",{className:"fas fa-desktop"})," SCREEN ON"]}):p.jsxs("span",{className:`${y?"text-red-400":"text-slate-500"} flex items-center gap-1`,children:[p.jsx("i",{className:"fas fa-desktop"})," ",y?"LOCK FAILED":"NORMAL"]})),p.jsx("span",{className:`transition-opacity duration-200 ${k?"opacity-100 text-blue-400":"opacity-20 text-slate-500"}`,children:p.jsx("i",{className:"fas fa-heartbeat"})})]})]})]}),p.jsx("div",{className:"flex gap-2 items-center",children:r?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center text-green-400 text-sm font-mono bg-green-900/20 px-3 py-1 rounded border border-green-900 h-10",children:[p.jsx("i",{className:"fas fa-satellite-dish mr-2 animate-pulse"})," ARMED"]}),p.jsx(an,{onClick:W,variant:"secondary",className:"text-xs opacity-60 hover:opacity-100",children:"STOP"})]}):p.jsx(an,{onClick:()=>D(!1),variant:"danger",className:"animate-bounce font-bold shadow-lg shadow-red-900/50",children:"ACTIVATE SYSTEM"})})]})}),!B&&p.jsx("div",{className:"bg-red-900 text-white p-2 text-center text-xs font-bold border-b border-red-500",children:" PUSH NOTIFICATIONS DISABLED: Missing Firebase Config in 'services/firebase.ts'"}),B&&Oe==="denied"&&p.jsx("div",{className:"bg-yellow-900 text-white p-2 text-center text-xs font-bold border-b border-yellow-500",children:" PERMISSION DENIED: Reset site permissions to allow Notifications."}),u&&!d&&p.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-slate-800 border-t border-slate-600 p-4 shadow-2xl animate-pulse",children:p.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-slate-700 p-2 rounded",children:p.jsx("i",{className:"fas fa-download text-blue-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-sm text-white",children:"Install App"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Install Sentinel for reliable background alerts."})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-3 py-1 text-xs text-slate-400 font-medium",children:"Dismiss"}),p.jsx(an,{onClick:Pt,className:"text-xs px-4 py-1",children:"Install"})]})]})}),p.jsx("main",{className:"flex-1 max-w-4xl mx-auto w-full p-4 md:p-8 mb-16",children:t.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[p.jsx("i",{className:"fas fa-shield-alt text-6xl mb-4 opacity-20"}),p.jsx("p",{className:"text-xl",children:"Monitoring Active"}),r&&((Nn=le.current)==null?void 0:Nn.state)==="suspended"&&p.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/30 text-yellow-500 border border-yellow-800 rounded text-sm animate-pulse cursor-pointer",onClick:()=>D(!1),children:[p.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," Audio suspended. Tap to fix."]}),p.jsx("div",{className:"mt-8 text-center max-w-sm mx-auto",children:p.jsxs("div",{className:"inline-block bg-slate-950 p-4 rounded-lg border border-slate-800 text-xs text-left w-full",children:[p.jsxs("p",{className:"font-bold text-slate-400 mb-2",children:[p.jsx("i",{className:"fas fa-lightbulb text-yellow-500"})," BEST PRACTICES"]}),p.jsxs("ul",{className:"space-y-2 text-slate-500 list-disc pl-4",children:[p.jsxs("li",{children:["Turn Volume ",p.jsx("strong",{children:"MAX"}),"."]}),p.jsxs("li",{children:["Keep this screen ",p.jsx("strong",{children:"OPEN"})," for continuous siren."]}),p.jsxs("li",{children:["Screen will stay ",p.jsx("strong",{children:"ON"})," automatically."]}),!B&&p.jsx("li",{className:"text-red-400 font-bold",children:"Add Keys to services/firebase.ts for screen-off alerts!"})]})]})})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 animate-ping"}),p.jsx("h2",{className:"text-slate-400 uppercase tracking-widest text-sm font-semibold",children:"Live Alert"})]}),t.map(P=>p.jsx(hu,{alert:P},P.id))]})}),p.jsx("footer",{className:"bg-slate-950 p-6 text-center text-slate-600 text-xs border-t border-slate-900",children:p.jsx("button",{onClick:()=>e("/admin"),className:"text-slate-800 hover:text-slate-500",children:"Admin Access"})})]})},T1=({onLogin:e})=>{const t=rl(),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),a=u=>{u.preventDefault(),n===$f.username&&i===$f.password?(e(),t("/dashboard")):l("Invalid credentials")};return p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-lg shadow-2xl border border-slate-700",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("i",{className:"fas fa-shield-alt text-4xl text-blue-500 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-white font-oswald",children:"Admin Access"})]}),p.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o&&p.jsx("div",{className:"bg-red-500/20 text-red-400 p-3 rounded text-sm text-center border border-red-500/50",children:o}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Username"}),p.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Password"}),p.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),p.jsx(an,{type:"submit",fullWidth:!0,children:"Login"}),p.jsx("div",{className:"text-center pt-2",children:p.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-slate-500 hover:text-slate-300",children:" Back to Public Broadcast"})})]}),p.jsxs("div",{className:"mt-8 p-4 bg-slate-900/50 rounded text-xs text-slate-500 font-mono text-center",children:[p.jsx("p",{children:"Demo Credentials:"}),p.jsx("p",{children:"User: admin | Pass: yogiji"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $h;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($h||($h={}));var Vh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Vh||(Vh={}));var Wh;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Wh||(Wh={}));var zh;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(zh||(zh={}));var Gh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Gh||(Gh={}));var Kh;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kh||(Kh={}));var Yh;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Yh||(Yh={}));var qh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qh||(qh={}));var Qh;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Qh||(Qh={}));var Xh;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Xh||(Xh={}));var Jh;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jh||(Jh={}));var Zh;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Zh||(Zh={}));var ep;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ep||(ep={}));var tp;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(tp||(tp={}));var np;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(np||(np={}));var rp;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rp||(rp={}));var ip;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ip||(ip={}));var sp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(sp||(sp={}));var op;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(op||(op={}));var lp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(lp||(lp={}));var ap;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ap||(ap={}));var up;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(up||(up={}));var cp;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cp||(cp={}));var dp;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(dp||(dp={}));var fp;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fp||(fp={}));var hp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(hp||(hp={}));var pp;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(pp||(pp={}));var mp;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(mp||(mp={}));var gp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(gp||(gp={}));var _p;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_p||(_p={}));var yp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(yp||(yp={}));var vp;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(vp||(vp={}));var Ep;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ep||(Ep={}));var Sp;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Sp||(Sp={}));var wp;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wp||(wp={}));var Ip;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ip||(Ip={}));var Tp;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tp||(Tp={}));var Ap;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ap||(Ap={}));var Cp;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Cp||(Cp={}));var Np;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Np||(Np={}));var xp;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(xp||(xp={}));var Rp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Rp||(Rp={}));var Op;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Op||(Op={}));var kp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(kp||(kp={}));var Dp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Dp||(Dp={}));var Pp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Pp||(Pp={}));var Lp;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Lp||(Lp={}));var bp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(bp||(bp={}));var Mp;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Mp||(Mp={}));var Up;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Up||(Up={}));var Fp;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fp||(Fp={}));var jp;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(jp||(jp={}));var Bp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bp||(Bp={}));var Hp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hp||(Hp={}));var $p;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})($p||($p={}));var Vp;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vp||(Vp={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wp;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Wp||(Wp={}));function Uo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(e){return this instanceof te?(this.v=e,this):new te(e)}function Ri(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function l(g,_){r[g]&&(i[g]=function(E){return new Promise(function(v,m){s.push([g,E,v,m])>1||a(g,E)})},_&&(i[g]=_(i[g])))}function a(g,_){try{u(r[g](_))}catch(E){f(s[0][3],E)}}function u(g){g.value instanceof te?Promise.resolve(g.value.v).then(c,d):f(s[0][2],g)}function c(g){a("next",g)}function d(g){a("throw",g)}function f(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Dr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof zp=="function"?zp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ov=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Ov=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const A1=()=>Ov();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Fu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ut extends Error{}class Me extends ut{constructor(t,n,r,i){super(`${Me.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new yl({message:r,cause:Fu(n)});const s=n;return t===400?new Dv(t,s,r,i):t===401?new Pv(t,s,r,i):t===403?new Lv(t,s,r,i):t===404?new bv(t,s,r,i):t===409?new Mv(t,s,r,i):t===422?new Uv(t,s,r,i):t===429?new Fv(t,s,r,i):t>=500?new jv(t,s,r,i):new Me(t,s,r,i)}}class ju extends Me{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class yl extends Me{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class kv extends yl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Dv extends Me{}class Pv extends Me{}class Lv extends Me{}class bv extends Me{}class Mv extends Me{}class Uv extends Me{}class Fv extends Me{}class jv extends Me{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C1=/^[a-z][a-z0-9+.-]*:/i,N1=e=>C1.test(e);let Bu=e=>(Bu=Array.isArray,Bu(e));const x1=Bu;let R1=x1;const Gp=R1;function O1(e){if(!e)return!0;for(const t in e)return!1;return!0}function k1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const D1=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ut(`${e} must be an integer`);if(t<0)throw new ut(`${e} must be a positive integer`);return t},P1=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ar="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const M1=()=>{var e,t,n,r,i;const s=b1();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":Yp(Deno.build.os),"X-Stainless-Arch":Kp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":Yp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Kp((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=U1();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ar,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function U1(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const Kp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Yp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ls;const F1=()=>Ls??(Ls=M1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function B1(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Bv({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Hv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function H1(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $v=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pa(e,t,n){return $v(),new File(e,t??"unknown_file",n)}function V1(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const W1=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",z1=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Vv(e),G1=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function K1(e,t,n){if($v(),e=await e,z1(e))return e instanceof File?e:pa([await e.arrayBuffer()],e.name);if(G1(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),pa(await Hu(i),t,n)}const r=await Hu(e);if(t||(t=V1(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return pa(r,t,n)}async function Hu(e){var t,n,r,i,s;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(Vv(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(W1(e))try{for(var l=!0,a=Dr(e),u;u=await a.next(),t=u.done,!t;l=!0){i=u.value,l=!1;const c=i;o.push(...await Hu(c))}}catch(c){n={error:c}}finally{try{!l&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}else{const c=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${Y1(e)}`)}return o}function Y1(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wv{constructor(t){this._client=t}}Wv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const qp=Object.freeze(Object.create(null)),q1=(e=zv)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((c,d,f)=>{var g,_,E;/[?#]/.test(d)&&(i=!0);const v=r[f];let m=(i?encodeURIComponent:e)(""+v);return f!==r.length&&(v==null||typeof v=="object"&&v.toString===((E=Object.getPrototypeOf((_=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:qp))!==null&&_!==void 0?_:qp))===null||E===void 0?void 0:E.toString))&&(m=v+"",s.push({start:c.length+d.length,length:m.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":m)},""),l=o.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=a.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((c,d)=>c.start-d.start),s.length>0){let c=0;const d=s.reduce((f,g)=>{const _=" ".repeat(g.start-c),E="^".repeat(g.length);return c=g.start+g.length,f+_+E},"");throw new ut(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},bs=q1(zv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gv extends Wv{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,s=Uo(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new ut("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ut("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(bs`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(bs`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(bs`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=Uo(s,["api_version"]);return this._client.get(bs`/${o}/interactions/${t}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Gv._key=Object.freeze(["interactions"]);class Kv extends Gv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Ms;function Ed(e){let t;return(Ms??(t=new globalThis.TextEncoder,Ms=t.encode.bind(t)))(e)}let Us;function Qp(e){let t;return(Us??(t=new globalThis.TextDecoder,Us=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ed(t):t;this.buffer=Q1([this.buffer,n]);const r=[];let i;for(;(i=X1(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Qp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Qp(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}vl.NEWLINE_CHARS=new Set([`
`,"\r"]);vl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function X1(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function J1(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fo={off:0,error:200,warn:300,info:400,debug:500},Xp=(e,t,n)=>{if(e){if(k1(Fo,e))return e;ke(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Fo))}`)}};function gi(){}function Fs(e,t,n){return!t||Fo[e]>Fo[n]?gi:t[e].bind(t)}const Z1={error:gi,warn:gi,info:gi,debug:gi};let Jp=new WeakMap;function ke(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Z1;const i=Jp.get(n);if(i&&i[0]===r)return i[1];const s={error:Fs("error",n,r),warn:Fs("warn",n,r),info:Fs("info",n,r),debug:Fs("debug",n,r)};return Jp.set(n,[r,s]),s}const Dn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const s=r?ke(r):console;function o(){return Ri(this,arguments,function*(){var a,u,c,d;if(i)throw new ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Dr(ex(t,n)),E;E=yield te(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;if(!f)if(v.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield te(JSON.parse(v.data))}catch(m){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),m}}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield te(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Uu(v))return yield te(void 0);throw v}finally{f||n.abort()}})}return new wr(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function s(){return Ri(this,arguments,function*(){var a,u,c,d;const f=new vl,g=Hv(t);try{for(var _=!0,E=Dr(g),v;v=yield te(E.next()),a=v.done,!a;_=!0){d=v.value,_=!1;const m=d;for(const h of f.decode(m))yield yield te(h)}}catch(m){u={error:m}}finally{try{!_&&!a&&(c=E.return)&&(yield te(c.call(E)))}finally{if(u)throw u.error}}for(const m of f.flush())yield yield te(m)})}function o(){return Ri(this,arguments,function*(){var a,u,c,d;if(i)throw new ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Dr(s()),E;E=yield te(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;f||v&&(yield yield te(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield te(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Uu(v))return yield te(void 0);throw v}finally{f||n.abort()}})}return new wr(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new wr(()=>i(t),this.controller,this.client),new wr(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Bv({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=Ed(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ex(e,t){return Ri(this,arguments,function*(){var r,i,s,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ut("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ut("Attempted to iterate over a response with no body");const l=new nx,a=new vl,u=Hv(e.body);try{for(var c=!0,d=Dr(tx(u)),f;f=yield te(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;const g=o;for(const _ of a.decode(g)){const E=l.decode(_);E&&(yield yield te(E))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(s=d.return)&&(yield te(s.call(d)))}finally{if(i)throw i.error}}for(const g of a.flush()){const _=l.decode(g);_&&(yield yield te(_))}})}function tx(e){return Ri(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,a=Dr(e),u;u=yield te(a.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const c=s;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Ed(c):c;let f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let g;for(;(g=J1(o))!==-1;)yield yield te(o.slice(0,g)),o=o.slice(g)}}catch(c){r={error:c}}finally{try{!l&&!n&&(i=a.return)&&(yield te(i.call(a)))}finally{if(r)throw r.error}}o.length>0&&(yield yield te(o))})}class nx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=rx(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function rx(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ix(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,o=await(async()=>{var l;if(t.options.stream)return ke(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):wr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),u=(l=a==null?void 0:a.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return ke(e).debug(`[${r}] response parsed`,Dn({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sd extends Promise{constructor(t,n,r=ix){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Sd(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yv=Symbol("brand.privateNullableHeaders");function*sx(e){if(!e)return;if(Yv in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Gp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Gp(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(t&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const di=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,o]of sx(r)){const l=s.toLowerCase();i.has(l)||(t.delete(s),i.add(l)),o===null?(t.delete(s),n.add(l)):(t.append(s,o),n.delete(l))}}return{[Yv]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ma=e=>{var t,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qv;class El{constructor(t){var n,r,i,s,o,l,a,{baseURL:u=ma("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=ma("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,f=Uo(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:El.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(o=(s=Xp(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Xp(ma("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(a=g.fetch)!==null&&a!==void 0?a:j1(),this.encoder=$1,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=di([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return di([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return di([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ut(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ar}`}defaultIdempotencyKey(){return`stainless-node-retry-${A1()}`}makeStatusError(t,n,r,i){return Me.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=N1(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return O1(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Sd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,s,o;const l=await t,a=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=a),await this.prepareOptions(l);const{req:u,url:c,timeout:d}=await this.buildRequest(l,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:l});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(ke(this).debug(`[${f}] sending request`,Dn({retryOfRequestLogID:r,method:l.method,url:c,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new ju;const E=new AbortController,v=await this.fetchWithTimeout(c,u,d,E).catch(Fu),m=Date.now();if(v instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new ju;const S=Uu(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return ke(this).info(`[${f}] connection ${S?"timed out":"failed"} - ${y}`),ke(this).debug(`[${f}] connection ${S?"timed out":"failed"} (${y})`,Dn({retryOfRequestLogID:r,url:c,durationMs:m-_,message:v.message})),this.retryRequest(l,n,r??f);throw ke(this).info(`[${f}] connection ${S?"timed out":"failed"} - error; no more retries left`),ke(this).debug(`[${f}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Dn({retryOfRequestLogID:r,url:c,durationMs:m-_,message:v.message})),S?new kv:new yl({cause:v})}const h=`[${f}${g}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${m-_}ms`;if(!v.ok){const y=await this.shouldRetry(v);if(n&&y){const B=`retrying, ${n} attempts remaining`;return await H1(v.body),ke(this).info(`${h} - ${B}`),ke(this).debug(`[${f}] response error (${B})`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:m-_})),this.retryRequest(l,n,r??f,v.headers)}const S=y?"error; no more retries left":"error; not retryable";ke(this).info(`${h} - ${S}`);const A=await v.text().catch(B=>Fu(B).message),N=P1(A),k=N?void 0:A;throw ke(this).debug(`[${f}] response error (${S})`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:k,durationMs:Date.now()-_})),this.makeStatusError(v.status,N,k,v.headers)}return ke(this).info(h),ke(this).debug(`[${f}] response start`,Dn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:m-_})),{response:v,options:l,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(t,n,r,i){const s=n||{},{signal:o,method:l}=s,a=Uo(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),a);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const a=i==null?void 0:i.get("retry-after");if(a&&!o){const u=parseFloat(a);Number.isNaN(u)?o=Date.parse(a)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await L1(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},t),{method:l,path:a,query:u,defaultBaseURL:c}=o,d=this.buildURL(a,u,c);"timeout"in o&&D1("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:g}=this.buildBody({options:o}),_=await this.buildHeaders({options:t,method:l,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:_},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:d,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let l=di([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),F1()),this._options.defaultHeaders,r,t.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=di([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:B1(t)}:this.encoder({body:t,headers:r})}}El.DEFAULT_TIMEOUT=6e4;class we extends El{constructor(){super(...arguments),this.interactions=new Kv(this)}}qv=we;we.GeminiNextGenAPIClient=qv;we.GeminiNextGenAPIClientError=ut;we.APIError=Me;we.APIConnectionError=yl;we.APIConnectionTimeoutError=kv;we.APIUserAbortError=ju;we.NotFoundError=bv;we.ConflictError=Mv;we.RateLimitError=Fv;we.BadRequestError=Dv;we.AuthenticationError=Pv;we.InternalServerError=jv;we.PermissionDeniedError=Lv;we.UnprocessableEntityError=Uv;we.toFile=K1;we.Interactions=Kv;const ox=async(e,t)=>(console.warn("API Key is missing. AI generation disabled."),"Error: API Key missing. Please check configuration."),lx=({onLogout:e})=>{const t=rl(),[n,r]=w.useState(""),[i,s]=w.useState(At.INFO),[o,l]=w.useState(""),[a,u]=w.useState([]),[c,d]=w.useState([]),[f,g]=w.useState([]),[_,E]=w.useState("checking"),[v,m]=w.useState(!1),[h,y]=w.useState("create"),[S,A]=w.useState(qi()),[N,k]=w.useState(Le()),R=w.useCallback(async()=>{if(u(await Rw()),d(await A_()),g(await cs()),k(Le()),A(qi()),Le()){const T=await Sw();if(T){const D=Date.now()-T.last_seen<15e3&&T.online;E(D?"online":"offline")}else E("offline")}else E("offline")},[]);w.useEffect(()=>{R();const T=setInterval(R,5e3);return()=>clearInterval(T)},[R]);const B=()=>{e(),t("/")},L=async T=>{if(T.preventDefault(),!n||!o||N&&_==="offline"&&!window.confirm(` WARNING: The Monitor Script is OFFLINE.

Push notifications will NOT be sent to closed apps.

Run 'npm run monitor' on your PC to fix this.

Schedule anyway?`))return;const D=new Date,[W,z]=o.split(":").map(Number),Dt=new Date(D.getFullYear(),D.getMonth(),D.getDate(),W,z,0,0),et=Iw(n,Dt.getTime(),i);await ww(et),ct(),await R(),alert("One-time Alert Scheduled Successfully")},Oe=async T=>{if(T.preventDefault(),!n||!o)return;const D=Cw(n,o,i);await Aw(D),ct(),await R(),alert("Recurring Alert Created Successfully")},ct=()=>{r(""),l(""),s(At.INFO)},le=async()=>{if(!n){alert("Please enter a topic first.");return}m(!0);try{const T=await ox(n,i);r(T)}catch{alert("Failed to generate content")}finally{m(!1)}},Ze=async T=>{window.confirm("Remove this alert?")&&(await Tw(T),await R())},St=async T=>{await xw(T),await R()},wt=async T=>{await Nw(T),await R()},kt=()=>{Ew(S),R(),alert("Database connection updated.")},x=T=>{if(!T)return"";const[D,W]=T.split(":"),z=new Date;return z.setHours(parseInt(D),parseInt(W)),z.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})};return p.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col md:flex-row",children:[p.jsxs("aside",{className:"w-full md:w-64 bg-slate-800 border-r border-slate-700 flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-700",children:[p.jsx("h2",{className:"text-2xl font-bold font-oswald text-blue-400",children:"ADMIN PANEL"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"SENTINEL CONTROL"}),p.jsxs("div",{className:"mt-4 bg-slate-900 p-3 rounded border border-slate-700 space-y-2",children:[N?p.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[p.jsx("i",{className:"fas fa-wifi"})," DB Connected"]}):p.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-500",children:[p.jsx("i",{className:"fas fa-exclamation-triangle"})," Local Mode"]}),N&&p.jsxs("div",{className:`flex items-center gap-2 text-xs font-bold ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${_==="online"?"bg-green-500 animate-pulse":_==="checking"?"bg-yellow-500":"bg-red-500"}`}),_==="online"?"Monitor: ONLINE":_==="checking"?"Monitor: CHECKING...":"Monitor: OFFLINE"]}),N&&_==="offline"&&p.jsx("p",{className:"text-[10px] text-red-400 leading-tight mt-1",children:"Run 'npm run monitor' on PC."})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[p.jsxs("button",{onClick:()=>y("create"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="create"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsx("i",{className:"fas fa-plus-circle mr-3"})," One-Time Alert"]}),p.jsxs("button",{onClick:()=>y("recurring"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="recurring"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsx("i",{className:"fas fa-sync-alt mr-3"})," Recurring Alerts"]}),p.jsxs("button",{onClick:()=>y("scheduled"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="scheduled"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsx("i",{className:"fas fa-clock mr-3"})," Scheduled",a.length>0&&p.jsx("span",{className:"ml-auto bg-slate-900 px-2 py-0.5 rounded-full text-xs float-right",children:a.length})]}),p.jsxs("button",{onClick:()=>y("history"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="history"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsx("i",{className:"fas fa-history mr-3"})," History"]}),p.jsxs("button",{onClick:()=>y("settings"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="settings"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[p.jsx("i",{className:"fas fa-cog mr-3"})," Settings & Keys"]})]}),p.jsx("div",{className:"p-4 border-t border-slate-700",children:p.jsx(an,{variant:"outline",fullWidth:!0,onClick:B,children:"Logout"})})]}),p.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[h==="create"&&p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald",children:"One-Time Broadcast"}),p.jsxs("form",{onSubmit:L,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx(Zp,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:le}),p.jsx("div",{className:"pt-4",children:p.jsxs(an,{type:"submit",fullWidth:!0,disabled:v,children:[p.jsx("i",{className:"fas fa-paper-plane mr-2"})," Schedule Today"]})})]})]}),h==="recurring"&&p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-purple-400",children:"Recurring Rule"}),p.jsxs("form",{onSubmit:Oe,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx(Zp,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:le}),p.jsx("div",{className:"pt-4",children:p.jsxs(an,{type:"submit",fullWidth:!0,disabled:v,className:"bg-purple-600 hover:bg-purple-500",children:[p.jsx("i",{className:"fas fa-save mr-2"})," Save Rule"]})})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-6 font-oswald text-slate-400",children:"Active Rules"}),f.length===0?p.jsx("div",{className:"text-slate-500 italic border border-dashed border-slate-700 p-8 rounded text-center",children:"No recurring rules."}):p.jsx("div",{className:"space-y-4",children:f.map(T=>p.jsxs("div",{className:`p-4 rounded border-l-4 flex flex-col gap-2 shadow bg-slate-800 ${T.isActive?"border-purple-500":"border-slate-600 opacity-60"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"font-mono text-xl font-bold text-white",children:x(T.scheduledTime)}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",onClick:()=>wt(T.id),className:`px-2 py-1 text-xs rounded font-bold uppercase ${T.isActive?"bg-green-900 text-green-400":"bg-slate-700 text-slate-400"}`,children:T.isActive?"Active":"Paused"}),p.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),St(T.id)},className:"w-8 h-8 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded",children:p.jsx("i",{className:"fas fa-trash text-xs"})})]})]}),p.jsx("div",{className:`text-xs font-bold uppercase ${T.severity==="CRITICAL"?"text-red-400":T.severity==="WARNING"?"text-yellow-400":"text-blue-400"}`,children:T.severity}),p.jsx("p",{className:"text-sm text-slate-300",children:T.content})]},T.id))})]})]})}),h==="scheduled"&&p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-blue-400",children:"Scheduled Queue"}),a.length===0?p.jsx("p",{className:"text-slate-500 italic",children:"No alerts scheduled."}):a.map(T=>p.jsx(hu,{alert:T,isAdmin:!0,onDelete:Ze},T.id))]}),h==="history"&&p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-400",children:"History"}),c.length===0?p.jsx("p",{className:"text-slate-500 italic",children:"No history."}):c.map(T=>p.jsx("div",{className:"opacity-75",children:p.jsx(hu,{alert:T,isAdmin:!0,onDelete:T.id.startsWith("recurring")?void 0:Ze})},T.id))]}),h==="settings"&&p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-200",children:"System Configuration"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"1. Database Connection"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Firebase Database URL"}),p.jsx("input",{type:"text",placeholder:"https://your-project.firebaseio.com",value:S,onChange:T=>A(T.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),p.jsxs("div",{className:"flex justify-between items-center pt-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${N?"bg-green-500":"bg-red-500"}`}),p.jsx("span",{className:"text-sm font-medium",children:N?"Cloud Connected":"Local Mode"})]}),p.jsx(an,{onClick:kt,children:"Save & Connect"})]})]}),p.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"2. Server Keys (Secret Generation)"}),p.jsx("p",{className:"text-sm text-slate-400 mb-4",children:'To enable the "Monitor" script (which sends Push Notifications to closed apps), you need a Service Account Key file.'}),p.jsxs("div",{className:"bg-slate-900 p-4 rounded border border-slate-600 text-sm space-y-2 font-mono text-slate-300",children:[p.jsx("p",{className:"text-blue-400 font-bold",children:"// HOW TO GENERATE KEY:"}),p.jsx("p",{children:"1. Go to Firebase Console  Project Settings."}),p.jsxs("p",{children:["2. Tab: ",p.jsx("strong",{children:"Service Accounts"}),"."]}),p.jsxs("p",{children:["3. Click ",p.jsx("strong",{children:"Generate New Private Key"}),"."]}),p.jsxs("p",{children:["4. Save the file as ",p.jsx("span",{className:"text-yellow-400",children:"service-account.json"})," in your project root."]}),p.jsxs("p",{children:["5. Run ",p.jsx("span",{className:"text-green-400",children:"npm run monitor"}),"."]})]}),p.jsxs("div",{className:"mt-6 border-t border-slate-700 pt-4",children:[p.jsx("h4",{className:"font-bold text-slate-300 mb-2",children:"Monitor Status Check"}),p.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 p-3 rounded",children:[p.jsx("span",{className:"text-sm",children:"Current Status:"}),p.jsx("span",{className:`text-sm font-bold ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:_==="online"?"ONLINE":_==="checking"?"CHECKING...":"OFFLINE"})]})]})]})]})]})]})]})},Zp=({severity:e,setSeverity:t,timeInput:n,setTimeInput:r,content:i,setContent:s,isGenerating:o,onGenerate:l})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Severity Level"}),p.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.values(At).map(a=>p.jsx("button",{type:"button",onClick:()=>t(a),className:`py-3 rounded border-2 font-bold ${e===a?a==="CRITICAL"?"border-red-500 bg-red-500/20 text-red-500":a==="WARNING"?"border-yellow-500 bg-yellow-500/20 text-yellow-500":"border-blue-500 bg-blue-500/20 text-blue-500":"border-slate-600 text-slate-500"}`,children:a},a))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Time (HH:MM)"}),p.jsx("input",{type:"time",required:!0,value:n,onChange:a=>r(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none font-mono text-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Message Content"}),p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{required:!0,value:i,onChange:a=>s(a.target.value),rows:4,placeholder:"Enter alert message...",className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none pr-12"}),p.jsx("button",{type:"button",onClick:l,disabled:o,className:"absolute top-2 right-2 text-slate-400 hover:text-blue-400 p-2",children:p.jsx("i",{className:`fas ${o?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`})})]})]})]}),ax=()=>{const[e,t]=w.useState(!1);return w.useEffect(()=>{Le()&&Mu()},[]),p.jsx(vw,{children:p.jsx("div",{className:"antialiased text-slate-200",children:p.jsxs(gw,{children:[p.jsx(Xs,{path:"/",element:p.jsx(I1,{})}),p.jsx(Xs,{path:"/admin",element:p.jsx(T1,{onLogin:()=>t(!0)})}),p.jsx(Xs,{path:"/dashboard",element:e?p.jsx(lx,{onLogout:()=>t(!1)}):p.jsx(pw,{to:"/admin",replace:!0})})]})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const Qv=document.getElementById("root");if(!Qv)throw new Error("Could not find root element to mount to");const ux=ga.createRoot(Qv);ux.render(p.jsx(cm.StrictMode,{children:p.jsx(ax,{})}));
