function e0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function t0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nm={exports:{}},Ho={},rm={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),n0=Symbol.for("react.portal"),r0=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),c0=Symbol.for("react.memo"),d0=Symbol.for("react.lazy"),Id=Symbol.iterator;function f0(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sm=Object.assign,om={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=om,this.updater=n||im}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lm(){}lm.prototype=Gr.prototype;function Vu(e,t,n){this.props=e,this.context=t,this.refs=om,this.updater=n||im}var Wu=Vu.prototype=new lm;Wu.constructor=Vu;sm(Wu,Gr.prototype);Wu.isPureReactComponent=!0;var Td=Array.isArray,am=Object.prototype.hasOwnProperty,zu={current:null},um={key:!0,ref:!0,__self:!0,__source:!0};function cm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)am.call(t,r)&&!um.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rs,type:e,key:s,ref:o,props:i,_owner:zu.current}}function h0(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function p0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ad=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p0(""+e.key):t.toString(36)}function Hs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rs:case n0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Tl(o,0):r,Td(i)?(n="",e!=null&&(n=e.replace(Ad,"$&/")+"/"),Hs(i,t,n,"",function(u){return u})):i!=null&&(Gu(i)&&(i=h0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ad,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Td(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Tl(s,l);o+=Hs(s,t,n,a,i)}else if(a=f0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Tl(s,l++),o+=Hs(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _s(e,t,n){if(e==null)return e;var r=[],i=0;return Hs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function m0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},$s={transition:null},g0={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:$s,ReactCurrentOwner:zu};function dm(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:_s,forEach:function(e,t,n){_s(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=Gr;M.Fragment=r0;M.Profiler=s0;M.PureComponent=Vu;M.StrictMode=i0;M.Suspense=u0;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;M.act=dm;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=zu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)am.call(t,a)&&!um.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:rs,type:e.type,key:i,ref:s,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:l0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o0,_context:e},e.Consumer=e};M.createElement=cm;M.createFactory=function(e){var t=cm.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:a0,render:e}};M.isValidElement=Gu;M.lazy=function(e){return{$$typeof:d0,_payload:{_status:-1,_result:e},_init:m0}};M.memo=function(e,t){return{$$typeof:c0,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};M.unstable_act=dm;M.useCallback=function(e,t){return je.current.useCallback(e,t)};M.useContext=function(e){return je.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return je.current.useDeferredValue(e)};M.useEffect=function(e,t){return je.current.useEffect(e,t)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return je.current.useMemo(e,t)};M.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};M.useRef=function(e){return je.current.useRef(e)};M.useState=function(e){return je.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";rm.exports=M;var w=rm.exports;const fm=t0(w),_0=e0({__proto__:null,default:fm},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=w,v0=Symbol.for("react.element"),E0=Symbol.for("react.fragment"),S0=Object.prototype.hasOwnProperty,w0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I0={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)S0.call(t,r)&&!I0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:v0,type:e,key:s,ref:o,props:i,_owner:w0.current}}Ho.Fragment=E0;Ho.jsx=hm;Ho.jsxs=hm;nm.exports=Ho;var m=nm.exports,ga={},pm={exports:{}},Je={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var P=N.length;N.push(D);e:for(;0<P;){var x=P-1>>>1,H=N[x];if(0<i(H,D))N[x]=D,N[P]=H,P=x;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],P=N.pop();if(P!==D){N[0]=P;e:for(var x=0,H=N.length,dt=H>>>1;x<dt;){var Te=2*(x+1)-1,Zt=N[Te],ft=Te+1,or=N[ft];if(0>i(Zt,P))ft<H&&0>i(or,Zt)?(N[x]=or,N[ft]=P,x=ft):(N[x]=Zt,N[Te]=P,x=Te);else if(ft<H&&0>i(or,P))N[x]=or,N[ft]=P,x=ft;else break e}}return D}function i(N,D){var P=N.sortIndex-D.sortIndex;return P!==0?P:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,t(a,D);else break;D=n(u)}}function S(N){if(E=!1,y(N),!_)if(n(a)!==null)_=!0,et(T);else{var D=n(u);D!==null&&Tt(S,D.startTime-N)}}function T(N,D){_=!1,E&&(E=!1,p(R),R=-1),g=!0;var P=f;try{for(y(D),d=n(a);d!==null&&(!(d.expirationTime>D)||N&&!De());){var x=d.callback;if(typeof x=="function"){d.callback=null,f=d.priorityLevel;var H=x(d.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(a)&&r(a),y(D)}else r(a);d=n(a)}if(d!==null)var dt=!0;else{var Te=n(u);Te!==null&&Tt(S,Te.startTime-D),dt=!1}return dt}finally{d=null,f=P,g=!1}}var C=!1,k=null,R=-1,$=5,b=-1;function De(){return!(e.unstable_now()-b<$)}function Pt(){if(k!==null){var N=e.unstable_now();b=N;var D=!0;try{D=k(!0,N)}finally{D?ct():(C=!1,k=null)}}else C=!1}var ct;if(typeof h=="function")ct=function(){h(Pt)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,It=_e.port2;_e.port1.onmessage=Pt,ct=function(){It.postMessage(null)}}else ct=function(){v(Pt,0)};function et(N){k=N,C||(C=!0,ct())}function Tt(N,D){R=v(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,et(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var P=f;f=D;try{return N()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=f;f=N;try{return D()}finally{f=P}},e.unstable_scheduleCallback=function(N,D,P){var x=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?x+P:x):P=x,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=P+H,N={id:c++,callback:D,priorityLevel:N,startTime:P,expirationTime:H,sortIndex:-1},P>x?(N.sortIndex=P,t(u,N),n(a)===null&&N===n(u)&&(E?(p(R),R=-1):E=!0,Tt(S,P-x))):(N.sortIndex=H,t(a,N),_||g||(_=!0,et(T))),N},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(N){var D=f;return function(){var P=f;f=D;try{return N.apply(this,arguments)}finally{f=P}}}})(gm);mm.exports=gm;var T0=mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=w,Xe=T0;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,Di={};function Zn(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(Di[e]=t,e=0;e<t.length;e++)_m.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=Object.prototype.hasOwnProperty,C0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cd={},Nd={};function N0(e){return _a.call(Nd,e)?!0:_a.call(Cd,e)?!1:C0.test(e)?Nd[e]=!0:(Cd[e]=!0,!1)}function x0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R0(e,t,n,r){if(t===null||typeof t>"u"||x0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ku=/[\-:]([a-z])/g;function Yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ku,Yu);we[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ku,Yu);we[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ku,Yu);we[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,n,r){var i=we.hasOwnProperty(t)?we[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R0(t,n,i,r)&&(n=null),r||i===null?N0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),ya=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Em=Symbol.for("react.offscreen"),xd=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=xd&&e[xd]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Al;function pi(e){if(Al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||""}return`
`+Al+e}var Cl=!1;function Nl(e,t){if(!e||Cl)return"";Cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pi(e):""}function O0(e){switch(e.tag){case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function Sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case cr:return"Portal";case ya:return"Profiler";case Qu:return"StrictMode";case va:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vm:return(e.displayName||"Context")+".Consumer";case ym:return(e._context.displayName||"Context")+".Provider";case Xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:Sa(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Sa(e(t))}catch{}}return null}function k0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(t);case 8:return t===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D0(e){var t=Sm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=D0(e))}function wm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wa(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Im(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function Ia(e,t){Im(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ta(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Od(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ta(e,t,n){(t!=="number"||eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mi=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Aa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(mi(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function Tm(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Am(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Am(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,Cm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P0=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){P0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function Nm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var L0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(e,t){if(t){if(L0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,Ar=null,Cr=null;function Pd(e){if(e=os(e)){if(typeof Oa!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Go(t),Oa(e.stateNode,e.type,t))}}function Rm(e){Ar?Cr?Cr.push(e):Cr=[e]:Ar=e}function Om(){if(Ar){var e=Ar,t=Cr;if(Cr=Ar=null,Pd(e),t)for(e=0;e<t.length;e++)Pd(t[e])}}function km(e,t){return e(t)}function Dm(){}var xl=!1;function Pm(e,t,n){if(xl)return e(t,n);xl=!0;try{return km(e,t,n)}finally{xl=!1,(Ar!==null||Cr!==null)&&(Dm(),Om())}}function Li(e,t){var n=e.stateNode;if(n===null)return null;var r=Go(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ka=!1;if(Vt)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){ka=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{ka=!1}function b0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ei=!1,to=null,no=!1,Da=null,M0={onError:function(e){Ei=!0,to=e}};function U0(e,t,n,r,i,s,o,l,a){Ei=!1,to=null,b0.apply(M0,arguments)}function F0(e,t,n,r,i,s,o,l,a){if(U0.apply(this,arguments),Ei){if(Ei){var u=to;Ei=!1,to=null}else throw Error(I(198));no||(no=!0,Da=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ld(e){if(er(e)!==e)throw Error(I(188))}function j0(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ld(i),e;if(s===r)return Ld(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function bm(e){return e=j0(e),e!==null?Mm(e):null}function Mm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mm(e);if(t!==null)return t;e=e.sibling}return null}var Um=Xe.unstable_scheduleCallback,bd=Xe.unstable_cancelCallback,B0=Xe.unstable_shouldYield,H0=Xe.unstable_requestPaint,oe=Xe.unstable_now,$0=Xe.unstable_getCurrentPriorityLevel,ec=Xe.unstable_ImmediatePriority,Fm=Xe.unstable_UserBlockingPriority,ro=Xe.unstable_NormalPriority,V0=Xe.unstable_LowPriority,jm=Xe.unstable_IdlePriority,$o=null,Ot=null;function W0(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:K0,z0=Math.log,G0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(z0(e)/G0|0)|0}var Ss=64,ws=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function io(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=gi(l):(s&=o,s!==0&&(r=gi(s)))}else o=n&~i,o!==0?r=gi(o):s!==0&&(r=gi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),i=1<<n,r|=e[n],t&=~i;return r}function Y0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-vt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Y0(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bm(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function Rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Q0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function tc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var z=0;function Hm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $m,nc,Vm,Wm,zm,La=!1,Is=[],un=null,cn=null,dn=null,bi=new Map,Mi=new Map,rn=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ri(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=os(t),t!==null&&nc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function J0(e,t,n,r,i){switch(t){case"focusin":return un=ri(un,e,t,n,r,i),!0;case"dragenter":return cn=ri(cn,e,t,n,r,i),!0;case"mouseover":return dn=ri(dn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bi.set(s,ri(bi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mi.set(s,ri(Mi.get(s)||null,e,t,n,r,i)),!0}return!1}function Gm(e){var t=Dn(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=Lm(n),t!==null){e.blockedOn=t,zm(e.priority,function(){Vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ra=r,n.target.dispatchEvent(r),Ra=null}else return t=os(n),t!==null&&nc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ud(e,t,n){Vs(e)&&n.delete(t)}function Z0(){La=!1,un!==null&&Vs(un)&&(un=null),cn!==null&&Vs(cn)&&(cn=null),dn!==null&&Vs(dn)&&(dn=null),bi.forEach(Ud),Mi.forEach(Ud)}function ii(e,t){e.blockedOn===t&&(e.blockedOn=null,La||(La=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Z0)))}function Ui(e){function t(i){return ii(i,e)}if(0<Is.length){ii(Is[0],e);for(var n=1;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&ii(un,e),cn!==null&&ii(cn,e),dn!==null&&ii(dn,e),bi.forEach(t),Mi.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Gm(n),n.blockedOn===null&&rn.shift()}var Nr=Xt.ReactCurrentBatchConfig,so=!0;function eE(e,t,n,r){var i=z,s=Nr.transition;Nr.transition=null;try{z=1,rc(e,t,n,r)}finally{z=i,Nr.transition=s}}function tE(e,t,n,r){var i=z,s=Nr.transition;Nr.transition=null;try{z=4,rc(e,t,n,r)}finally{z=i,Nr.transition=s}}function rc(e,t,n,r){if(so){var i=ba(e,t,n,r);if(i===null)jl(e,t,r,oo,n),Md(e,r);else if(J0(i,e,t,n,r))r.stopPropagation();else if(Md(e,r),t&4&&-1<X0.indexOf(e)){for(;i!==null;){var s=os(i);if(s!==null&&$m(s),s=ba(e,t,n,r),s===null&&jl(e,t,r,oo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var oo=null;function ba(e,t,n,r){if(oo=null,e=Zu(r),e=Dn(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oo=e,null}function Km(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($0()){case ec:return 1;case Fm:return 4;case ro:case V0:return 16;case jm:return 536870912;default:return 16}default:return 16}}var on=null,ic=null,Ws=null;function Ym(){if(Ws)return Ws;var e,t=ic,n=t.length,r,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ws=i.slice(e,1<r?1-r:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function Fd(){return!1}function Ze(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ts:Fd,this.isPropagationStopped=Fd,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Ze(Kr),ss=ie({},Kr,{view:0,detail:0}),nE=Ze(ss),Ol,kl,si,Vo=ie({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Ol=e.screenX-si.screenX,kl=e.screenY-si.screenY):kl=Ol=0,si=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),jd=Ze(Vo),rE=ie({},Vo,{dataTransfer:0}),iE=Ze(rE),sE=ie({},ss,{relatedTarget:0}),Dl=Ze(sE),oE=ie({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=Ze(oE),aE=ie({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uE=Ze(aE),cE=ie({},Kr,{data:0}),Bd=Ze(cE),dE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hE[e])?!!t[e]:!1}function oc(){return pE}var mE=ie({},ss,{key:function(e){if(e.key){var t=dE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gE=Ze(mE),_E=ie({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=Ze(_E),yE=ie({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),vE=Ze(yE),EE=ie({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Ze(EE),wE=ie({},Vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=Ze(wE),TE=[9,13,27,32],lc=Vt&&"CompositionEvent"in window,Si=null;Vt&&"documentMode"in document&&(Si=document.documentMode);var AE=Vt&&"TextEvent"in window&&!Si,qm=Vt&&(!lc||Si&&8<Si&&11>=Si),$d=String.fromCharCode(32),Vd=!1;function Qm(e,t){switch(e){case"keyup":return TE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function CE(e,t){switch(e){case"compositionend":return Xm(t);case"keypress":return t.which!==32?null:(Vd=!0,$d);case"textInput":return e=t.data,e===$d&&Vd?null:e;default:return null}}function NE(e,t){if(fr)return e==="compositionend"||!lc&&Qm(e,t)?(e=Ym(),Ws=ic=on=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qm&&t.locale!=="ko"?null:t.data;default:return null}}var xE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xE[e.type]:t==="textarea"}function Jm(e,t,n,r){Rm(r),t=lo(t,"onChange"),0<t.length&&(n=new sc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Fi=null;function RE(e){ug(e,0)}function Wo(e){var t=mr(e);if(wm(t))return e}function OE(e,t){if(e==="change")return t}var Zm=!1;if(Vt){var Pl;if(Vt){var Ll="oninput"in document;if(!Ll){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Ll=typeof zd.oninput=="function"}Pl=Ll}else Pl=!1;Zm=Pl&&(!document.documentMode||9<document.documentMode)}function Gd(){wi&&(wi.detachEvent("onpropertychange",eg),Fi=wi=null)}function eg(e){if(e.propertyName==="value"&&Wo(Fi)){var t=[];Jm(t,Fi,e,Zu(e)),Pm(RE,t)}}function kE(e,t,n){e==="focusin"?(Gd(),wi=t,Fi=n,wi.attachEvent("onpropertychange",eg)):e==="focusout"&&Gd()}function DE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(Fi)}function PE(e,t){if(e==="click")return Wo(t)}function LE(e,t){if(e==="input"||e==="change")return Wo(t)}function bE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:bE;function ji(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_a.call(t,i)||!wt(e[i],t[i]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var n=Kd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ng(){for(var e=window,t=eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=eo(e.document)}return t}function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ME(e){var t=ng(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tg(n.ownerDocument.documentElement,n)){if(r!==null&&ac(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Yd(n,s);var o=Yd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UE=Vt&&"documentMode"in document&&11>=document.documentMode,hr=null,Ma=null,Ii=null,Ua=!1;function qd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||hr==null||hr!==eo(r)||(r=hr,"selectionStart"in r&&ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ii&&ji(Ii,r)||(Ii=r,r=lo(Ma,"onSelect"),0<r.length&&(t=new sc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function As(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},bl={},rg={};Vt&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function zo(e){if(bl[e])return bl[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rg)return bl[e]=t[n];return e}var ig=zo("animationend"),sg=zo("animationiteration"),og=zo("animationstart"),lg=zo("transitionend"),ag=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){ag.set(e,t),Zn(t,[e])}for(var Ml=0;Ml<Qd.length;Ml++){var Ul=Qd[Ml],FE=Ul.toLowerCase(),jE=Ul[0].toUpperCase()+Ul.slice(1);Tn(FE,"on"+jE)}Tn(ig,"onAnimationEnd");Tn(sg,"onAnimationIteration");Tn(og,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(lg,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function Xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,F0(r,t,void 0,e),e.currentTarget=null}function ug(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Xd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Xd(i,l,u),s=a}}}if(no)throw e=Da,no=!1,Da=null,e}function q(e,t){var n=t[$a];n===void 0&&(n=t[$a]=new Set);var r=e+"__bubble";n.has(r)||(cg(t,e,2,!1),n.add(r))}function Fl(e,t,n){var r=0;t&&(r|=4),cg(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Cs]){e[Cs]=!0,_m.forEach(function(n){n!=="selectionchange"&&(BE.has(n)||Fl(n,!1,e),Fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,Fl("selectionchange",!1,t))}}function cg(e,t,n,r){switch(Km(t)){case 1:var i=eE;break;case 4:i=tE;break;default:i=rc}n=i.bind(null,t,n,e),i=void 0,!ka||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Dn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Pm(function(){var u=s,c=Zu(n),d=[];e:{var f=ag.get(e);if(f!==void 0){var g=sc,_=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":g=gE;break;case"focusin":_="focus",g=Dl;break;case"focusout":_="blur",g=Dl;break;case"beforeblur":case"afterblur":g=Dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vE;break;case ig:case sg:case og:g=lE;break;case lg:g=SE;break;case"scroll":g=nE;break;case"wheel":g=IE;break;case"copy":case"cut":case"paste":g=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Hd}var E=(t&4)!==0,v=!E&&e==="scroll",p=E?f!==null?f+"Capture":null:f;E=[];for(var h=u,y;h!==null;){y=h;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=Li(h,p),S!=null&&E.push(Hi(h,S,y)))),v)break;h=h.return}0<E.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Ra&&(_=n.relatedTarget||n.fromElement)&&(Dn(_)||_[Wt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Dn(_):null,_!==null&&(v=er(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(E=jd,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=Hd,S="onPointerLeave",p="onPointerEnter",h="pointer"),v=g==null?f:mr(g),y=_==null?f:mr(_),f=new E(S,h+"leave",g,n,c),f.target=v,f.relatedTarget=y,S=null,Dn(c)===u&&(E=new E(p,h+"enter",_,n,c),E.target=y,E.relatedTarget=v,S=E),v=S,g&&_)t:{for(E=g,p=_,h=0,y=E;y;y=lr(y))h++;for(y=0,S=p;S;S=lr(S))y++;for(;0<h-y;)E=lr(E),h--;for(;0<y-h;)p=lr(p),y--;for(;h--;){if(E===p||p!==null&&E===p.alternate)break t;E=lr(E),p=lr(p)}E=null}else E=null;g!==null&&Jd(d,f,g,E,!1),_!==null&&v!==null&&Jd(d,v,_,E,!0)}}e:{if(f=u?mr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=OE;else if(Wd(f))if(Zm)T=LE;else{T=DE;var C=kE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=PE);if(T&&(T=T(e,u))){Jm(d,T,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ta(f,"number",f.value)}switch(C=u?mr(u):window,e){case"focusin":(Wd(C)||C.contentEditable==="true")&&(hr=C,Ma=u,Ii=null);break;case"focusout":Ii=Ma=hr=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,qd(d,n,c);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":qd(d,n,c)}var k;if(lc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fr?Qm(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(qm&&n.locale!=="ko"&&(fr||R!=="onCompositionStart"?R==="onCompositionEnd"&&fr&&(k=Ym()):(on=c,ic="value"in on?on.value:on.textContent,fr=!0)),C=lo(u,R),0<C.length&&(R=new Bd(R,e,null,n,c),d.push({event:R,listeners:C}),k?R.data=k:(k=Xm(n),k!==null&&(R.data=k)))),(k=AE?CE(e,n):NE(e,n))&&(u=lo(u,"onBeforeInput"),0<u.length&&(c=new Bd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}ug(d,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Li(e,n),s!=null&&r.unshift(Hi(e,s,i)),s=Li(e,t),s!=null&&r.push(Hi(e,s,i))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Li(n,s),a!=null&&o.unshift(Hi(n,a,l))):i||(a=Li(n,s),a!=null&&o.push(Hi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var HE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Zd(e){return(typeof e=="string"?e:""+e).replace(HE,`
`).replace($E,"")}function Ns(e,t,n){if(t=Zd(t),Zd(e)!==t&&n)throw Error(I(425))}function ao(){}var Fa=null,ja=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ha=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(zE)}:Ha;function zE(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ui(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),xt="__reactFiber$"+Yr,$i="__reactProps$"+Yr,Wt="__reactContainer$"+Yr,$a="__reactEvents$"+Yr,GE="__reactListeners$"+Yr,KE="__reactHandles$"+Yr;function Dn(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tf(e);e!==null;){if(n=e[xt])return n;e=tf(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[xt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Go(e){return e[$i]||null}var Va=[],gr=-1;function An(e){return{current:e}}function J(e){0>gr||(e.current=Va[gr],Va[gr]=null,gr--)}function Y(e,t){gr++,Va[gr]=e.current,e.current=t}var En={},ke=An(En),We=An(!1),Vn=En;function br(e,t){var n=e.type.contextTypes;if(!n)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ze(e){return e=e.childContextTypes,e!=null}function uo(){J(We),J(ke)}function nf(e,t,n){if(ke.current!==En)throw Error(I(168));Y(ke,t),Y(We,n)}function dg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,k0(e)||"Unknown",i));return ie({},n,r)}function co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Vn=ke.current,Y(ke,e),Y(We,We.current),!0}function rf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=dg(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,J(We),J(ke),Y(ke,e)):J(We),Y(We,n)}var Mt=null,Ko=!1,Hl=!1;function fg(e){Mt===null?Mt=[e]:Mt.push(e)}function YE(e){Ko=!0,fg(e)}function Cn(){if(!Hl&&Mt!==null){Hl=!0;var e=0,t=z;try{var n=Mt;for(z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,Ko=!1}catch(i){throw Mt!==null&&(Mt=Mt.slice(e+1)),Um(ec,Cn),i}finally{z=t,Hl=!1}}return null}var _r=[],yr=0,fo=null,ho=0,tt=[],nt=0,Wn=null,Ut=1,Ft="";function Nn(e,t){_r[yr++]=ho,_r[yr++]=fo,fo=e,ho=t}function hg(e,t,n){tt[nt++]=Ut,tt[nt++]=Ft,tt[nt++]=Wn,Wn=e;var r=Ut;e=Ft;var i=32-vt(r)-1;r&=~(1<<i),n+=1;var s=32-vt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-vt(t)+i|n<<i|r,Ft=s+e}else Ut=1<<s|n<<i|r,Ft=e}function uc(e){e.return!==null&&(Nn(e,1),hg(e,1,0))}function cc(e){for(;e===fo;)fo=_r[--yr],_r[yr]=null,ho=_r[--yr],_r[yr]=null;for(;e===Wn;)Wn=tt[--nt],tt[nt]=null,Ft=tt[--nt],tt[nt]=null,Ut=tt[--nt],tt[nt]=null}var Qe=null,qe=null,ee=!1,gt=null;function pg(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,qe=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:Ut,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,qe=null,!0):!1;default:return!1}}function Wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function za(e){if(ee){var t=qe;if(t){var n=t;if(!sf(e,t)){if(Wa(e))throw Error(I(418));t=fn(n.nextSibling);var r=Qe;t&&sf(e,t)?pg(r,n):(e.flags=e.flags&-4097|2,ee=!1,Qe=e)}}else{if(Wa(e))throw Error(I(418));e.flags=e.flags&-4097|2,ee=!1,Qe=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function xs(e){if(e!==Qe)return!1;if(!ee)return of(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=qe)){if(Wa(e))throw mg(),Error(I(418));for(;t;)pg(e,t),t=fn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Qe?fn(e.stateNode.nextSibling):null;return!0}function mg(){for(var e=qe;e;)e=fn(e.nextSibling)}function Mr(){qe=Qe=null,ee=!1}function dc(e){gt===null?gt=[e]:gt.push(e)}var qE=Xt.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Rs(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lf(e){var t=e._init;return t(e._payload)}function gg(e){function t(p,h){if(e){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=gn(p,h),p.index=0,p.sibling=null,p}function s(p,h,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,y,S){return h===null||h.tag!==6?(h=Yl(y,p.mode,S),h.return=p,h):(h=i(h,y),h.return=p,h)}function a(p,h,y,S){var T=y.type;return T===dr?c(p,h,y.props.children,S,y.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tn&&lf(T)===h.type)?(S=i(h,y.props),S.ref=oi(p,h,y),S.return=p,S):(S=Js(y.type,y.key,y.props,null,p.mode,S),S.ref=oi(p,h,y),S.return=p,S)}function u(p,h,y,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=ql(y,p.mode,S),h.return=p,h):(h=i(h,y.children||[]),h.return=p,h)}function c(p,h,y,S,T){return h===null||h.tag!==7?(h=Bn(y,p.mode,S,T),h.return=p,h):(h=i(h,y),h.return=p,h)}function d(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Yl(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ys:return y=Js(h.type,h.key,h.props,null,p.mode,y),y.ref=oi(p,null,h),y.return=p,y;case cr:return h=ql(h,p.mode,y),h.return=p,h;case tn:var S=h._init;return d(p,S(h._payload),y)}if(mi(h)||ti(h))return h=Bn(h,p.mode,y,null),h.return=p,h;Rs(p,h)}return null}function f(p,h,y,S){var T=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(p,h,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ys:return y.key===T?a(p,h,y,S):null;case cr:return y.key===T?u(p,h,y,S):null;case tn:return T=y._init,f(p,h,T(y._payload),S)}if(mi(y)||ti(y))return T!==null?null:c(p,h,y,S,null);Rs(p,y)}return null}function g(p,h,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,l(h,p,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ys:return p=p.get(S.key===null?y:S.key)||null,a(h,p,S,T);case cr:return p=p.get(S.key===null?y:S.key)||null,u(h,p,S,T);case tn:var C=S._init;return g(p,h,y,C(S._payload),T)}if(mi(S)||ti(S))return p=p.get(y)||null,c(h,p,S,T,null);Rs(h,S)}return null}function _(p,h,y,S){for(var T=null,C=null,k=h,R=h=0,$=null;k!==null&&R<y.length;R++){k.index>R?($=k,k=null):$=k.sibling;var b=f(p,k,y[R],S);if(b===null){k===null&&(k=$);break}e&&k&&b.alternate===null&&t(p,k),h=s(b,h,R),C===null?T=b:C.sibling=b,C=b,k=$}if(R===y.length)return n(p,k),ee&&Nn(p,R),T;if(k===null){for(;R<y.length;R++)k=d(p,y[R],S),k!==null&&(h=s(k,h,R),C===null?T=k:C.sibling=k,C=k);return ee&&Nn(p,R),T}for(k=r(p,k);R<y.length;R++)$=g(k,p,R,y[R],S),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?R:$.key),h=s($,h,R),C===null?T=$:C.sibling=$,C=$);return e&&k.forEach(function(De){return t(p,De)}),ee&&Nn(p,R),T}function E(p,h,y,S){var T=ti(y);if(typeof T!="function")throw Error(I(150));if(y=T.call(y),y==null)throw Error(I(151));for(var C=T=null,k=h,R=h=0,$=null,b=y.next();k!==null&&!b.done;R++,b=y.next()){k.index>R?($=k,k=null):$=k.sibling;var De=f(p,k,b.value,S);if(De===null){k===null&&(k=$);break}e&&k&&De.alternate===null&&t(p,k),h=s(De,h,R),C===null?T=De:C.sibling=De,C=De,k=$}if(b.done)return n(p,k),ee&&Nn(p,R),T;if(k===null){for(;!b.done;R++,b=y.next())b=d(p,b.value,S),b!==null&&(h=s(b,h,R),C===null?T=b:C.sibling=b,C=b);return ee&&Nn(p,R),T}for(k=r(p,k);!b.done;R++,b=y.next())b=g(k,p,R,b.value,S),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?R:b.key),h=s(b,h,R),C===null?T=b:C.sibling=b,C=b);return e&&k.forEach(function(Pt){return t(p,Pt)}),ee&&Nn(p,R),T}function v(p,h,y,S){if(typeof y=="object"&&y!==null&&y.type===dr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ys:e:{for(var T=y.key,C=h;C!==null;){if(C.key===T){if(T=y.type,T===dr){if(C.tag===7){n(p,C.sibling),h=i(C,y.props.children),h.return=p,p=h;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tn&&lf(T)===C.type){n(p,C.sibling),h=i(C,y.props),h.ref=oi(p,C,y),h.return=p,p=h;break e}n(p,C);break}else t(p,C);C=C.sibling}y.type===dr?(h=Bn(y.props.children,p.mode,S,y.key),h.return=p,p=h):(S=Js(y.type,y.key,y.props,null,p.mode,S),S.ref=oi(p,h,y),S.return=p,p=S)}return o(p);case cr:e:{for(C=y.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=i(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=ql(y,p.mode,S),h.return=p,p=h}return o(p);case tn:return C=y._init,v(p,h,C(y._payload),S)}if(mi(y))return _(p,h,y,S);if(ti(y))return E(p,h,y,S);Rs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,y),h.return=p,p=h):(n(p,h),h=Yl(y,p.mode,S),h.return=p,p=h),o(p)):n(p,h)}return v}var Ur=gg(!0),_g=gg(!1),po=An(null),mo=null,vr=null,fc=null;function hc(){fc=vr=mo=null}function pc(e){var t=po.current;J(po),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){mo=e,fc=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(fc!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(mo===null)throw Error(I(308));vr=e,mo.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Pn=null;function mc(e){Pn===null?Pn=[e]:Pn.push(e)}function yg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mc(t)):(n.next=i.next,i.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zt(e,n)}return i=r.interleaved,i===null?(t.next=t,mc(r)):(t.next=i.next,i.next=t),r.interleaved=t,zt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tc(e,n)}}function af(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function go(e,t,n,r){var i=e.updateQueue;nn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(f=t,g=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=ie({},d,f);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=d}}function uf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var ls={},kt=An(ls),Vi=An(ls),Wi=An(ls);function Ln(e){if(e===ls)throw Error(I(174));return e}function _c(e,t){switch(Y(Wi,t),Y(Vi,e),Y(kt,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}J(kt),Y(kt,t)}function Fr(){J(kt),J(Vi),J(Wi)}function Eg(e){Ln(Wi.current);var t=Ln(kt.current),n=Ca(t,e.type);t!==n&&(Y(Vi,e),Y(kt,n))}function yc(e){Vi.current===e&&(J(kt),J(Vi))}var ne=An(0);function _o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function vc(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Ks=Xt.ReactCurrentDispatcher,Vl=Xt.ReactCurrentBatchConfig,zn=0,re=null,ce=null,pe=null,yo=!1,Ti=!1,zi=0,QE=0;function Ce(){throw Error(I(321))}function Ec(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wt(e[n],t[n]))return!1;return!0}function Sc(e,t,n,r,i,s){if(zn=s,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ks.current=e===null||e.memoizedState===null?eS:tS,e=n(r,i),Ti){s=0;do{if(Ti=!1,zi=0,25<=s)throw Error(I(301));s+=1,pe=ce=null,t.updateQueue=null,Ks.current=nS,e=n(r,i)}while(Ti)}if(Ks.current=vo,t=ce!==null&&ce.next!==null,zn=0,pe=ce=re=null,yo=!1,t)throw Error(I(300));return e}function wc(){var e=zi!==0;return zi=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=e:pe=pe.next=e,pe}function lt(){if(ce===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=pe===null?re.memoizedState:pe.next;if(t!==null)pe=t,ce=e;else{if(e===null)throw Error(I(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},pe===null?re.memoizedState=pe=e:pe=pe.next=e}return pe}function Gi(e,t){return typeof t=="function"?t(e):t}function Wl(e){var t=lt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,re.lanes|=c,Gn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,wt(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,re.lanes|=s,Gn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=lt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wt(s,t.memoizedState)||($e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sg(){}function wg(e,t){var n=re,r=lt(),i=t(),s=!wt(r.memoizedState,i);if(s&&(r.memoizedState=i,$e=!0),r=r.queue,Ic(Ag.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Ki(9,Tg.bind(null,n,r,i,t),void 0,null),ge===null)throw Error(I(349));zn&30||Ig(n,t,i)}return i}function Ig(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tg(e,t,n,r){t.value=n,t.getSnapshot=r,Cg(t)&&Ng(e)}function Ag(e,t,n){return n(function(){Cg(t)&&Ng(e)})}function Cg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wt(e,n)}catch{return!0}}function Ng(e){var t=zt(e,1);t!==null&&Et(t,e,1,-1)}function cf(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=ZE.bind(null,re,e),[t.memoizedState,e]}function Ki(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xg(){return lt().memoizedState}function Ys(e,t,n,r){var i=Ct();re.flags|=e,i.memoizedState=Ki(1|t,n,void 0,r===void 0?null:r)}function Yo(e,t,n,r){var i=lt();r=r===void 0?null:r;var s=void 0;if(ce!==null){var o=ce.memoizedState;if(s=o.destroy,r!==null&&Ec(r,o.deps)){i.memoizedState=Ki(t,n,s,r);return}}re.flags|=e,i.memoizedState=Ki(1|t,n,s,r)}function df(e,t){return Ys(8390656,8,e,t)}function Ic(e,t){return Yo(2048,8,e,t)}function Rg(e,t){return Yo(4,2,e,t)}function Og(e,t){return Yo(4,4,e,t)}function kg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dg(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4,4,kg.bind(null,t,e),n)}function Tc(){}function Pg(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ec(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lg(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ec(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bg(e,t,n){return zn&21?(wt(n,t)||(n=Bm(),re.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=n)}function XE(e,t){var n=z;z=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{z=n,Vl.transition=r}}function Mg(){return lt().memoizedState}function JE(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ug(e))Fg(t,n);else if(n=yg(e,t,n,r),n!==null){var i=be();Et(n,e,r,i),jg(n,t,r)}}function ZE(e,t,n){var r=mn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ug(e))Fg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,wt(l,o)){var a=t.interleaved;a===null?(i.next=i,mc(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=yg(e,t,i,r),n!==null&&(i=be(),Et(n,e,r,i),jg(n,t,r))}}function Ug(e){var t=e.alternate;return e===re||t!==null&&t===re}function Fg(e,t){Ti=yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tc(e,n)}}var vo={readContext:ot,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},eS={readContext:ot,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:df,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,kg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=JE.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:cf,useDebugValue:Tc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=cf(!1),t=e[0];return e=XE.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,i=Ct();if(ee){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ge===null)throw Error(I(349));zn&30||Ig(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,df(Ag.bind(null,r,s,e),[e]),r.flags|=2048,Ki(9,Tg.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ct(),t=ge.identifierPrefix;if(ee){var n=Ft,r=Ut;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=QE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tS={readContext:ot,useCallback:Pg,useContext:ot,useEffect:Ic,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Lg,useReducer:Wl,useRef:xg,useState:function(){return Wl(Gi)},useDebugValue:Tc,useDeferredValue:function(e){var t=lt();return bg(t,ce.memoizedState,e)},useTransition:function(){var e=Wl(Gi)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1},nS={readContext:ot,useCallback:Pg,useContext:ot,useEffect:Ic,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Lg,useReducer:zl,useRef:xg,useState:function(){return zl(Gi)},useDebugValue:Tc,useDeferredValue:function(e){var t=lt();return ce===null?t.memoizedState=e:bg(t,ce.memoizedState,e)},useTransition:function(){var e=zl(Gi)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),i=mn(e),s=Bt(r,i);s.payload=t,n!=null&&(s.callback=n),t=hn(e,s,i),t!==null&&(Et(t,e,i,r),Gs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),i=mn(e),s=Bt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=hn(e,s,i),t!==null&&(Et(t,e,i,r),Gs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=mn(e),i=Bt(n,r);i.tag=2,t!=null&&(i.callback=t),t=hn(e,i,r),t!==null&&(Et(t,e,r,n),Gs(t,e,r))}};function ff(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ji(n,r)||!ji(i,s):!0}function Bg(e,t,n){var r=!1,i=En,s=t.contextType;return typeof s=="object"&&s!==null?s=ot(s):(i=ze(t)?Vn:ke.current,r=t.contextTypes,s=(r=r!=null)?br(e,i):En),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function hf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ot(s):(s=ze(t)?Vn:ke.current,i.context=br(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ka(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),go(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=O0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rS=typeof WeakMap=="function"?WeakMap:Map;function Hg(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){So||(So=!0,su=r),qa(e,t)},n}function $g(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_S.bind(null,e,t,n),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var iS=Xt.ReactCurrentOwner,$e=!1;function Le(e,t,n,r){t.child=e===null?_g(t,null,n,r):Ur(t,e.child,n,r)}function _f(e,t,n,r,i){n=n.render;var s=t.ref;return xr(t,i),r=Sc(e,t,n,r,s,i),n=wc(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&n&&uc(t),t.flags|=1,Le(e,t,r,i),t.child)}function yf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Dc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Vg(e,t,s,r,i)):(e=Js(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(o,r)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Vg(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ji(s,r)&&e.ref===t.ref)if($e=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return Qa(e,t,n,r,i)}function Wg(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Sr,Ye),Ye|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Sr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(Sr,Ye),Ye|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Y(Sr,Ye),Ye|=r;return Le(e,t,i,n),t.child}function zg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,n,r,i){var s=ze(n)?Vn:ke.current;return s=br(t,s),xr(t,i),n=Sc(e,t,n,r,s,i),r=wc(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&r&&uc(t),t.flags|=1,Le(e,t,n,i),t.child)}function vf(e,t,n,r,i){if(ze(n)){var s=!0;co(t)}else s=!1;if(xr(t,i),t.stateNode===null)qs(e,t),Bg(t,n,r),Ya(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=ze(n)?Vn:ke.current,u=br(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&hf(t,o,r,u),nn=!1;var f=t.memoizedState;o.state=f,go(t,r,o,i),a=t.memoizedState,l!==r||f!==a||We.current||nn?(typeof c=="function"&&(Ka(t,n,c,r),a=t.memoizedState),(l=nn||ff(t,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pt(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=ze(n)?Vn:ke.current,a=br(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&hf(t,o,r,a),nn=!1,f=t.memoizedState,o.state=f,go(t,r,o,i);var _=t.memoizedState;l!==d||f!==_||We.current||nn?(typeof g=="function"&&(Ka(t,n,g,r),_=t.memoizedState),(u=nn||ff(t,n,u,r,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Xa(e,t,n,r,s,i)}function Xa(e,t,n,r,i,s){zg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&rf(t,n,!1),Gt(e,t,s);r=t.stateNode,iS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ur(t,e.child,null,s),t.child=Ur(t,null,l,s)):Le(e,t,l,s),t.memoizedState=r.state,i&&rf(t,n,!0),t.child}function Gg(e){var t=e.stateNode;t.pendingContext?nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nf(e,t.context,!1),_c(e,t.containerInfo)}function Ef(e,t,n,r,i){return Mr(),dc(i),t.flags|=256,Le(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function Za(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kg(e,t,n){var r=t.pendingProps,i=ne.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(ne,i&1),e===null)return za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jo(o,r,0,null),e=Bn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Za(n),t.memoizedState=Ja,e):Ac(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=gn(l,s):(s=Bn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Za(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ja,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ac(e,t){return t=Jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Os(e,t,n,r){return r!==null&&dc(r),Ur(t,e.child,null,n),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Gl(Error(I(422))),Os(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jo({mode:"visible",children:r.children},i,0,null),s=Bn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ur(t,e.child,null,o),t.child.memoizedState=Za(o),t.memoizedState=Ja,s);if(!(t.mode&1))return Os(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=Gl(s,r,void 0),Os(e,t,o,r)}if(l=(o&e.childLanes)!==0,$e||l){if(r=ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zt(e,i),Et(r,e,i,-1))}return kc(),r=Gl(Error(I(421))),Os(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,qe=fn(i.nextSibling),Qe=t,ee=!0,gt=null,e!==null&&(tt[nt++]=Ut,tt[nt++]=Ft,tt[nt++]=Wn,Ut=e.id,Ft=e.overflow,Wn=t),t=Ac(t,r.children),t.flags|=4096,t)}function Sf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function Kl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yg(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Le(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,n,t);else if(e.tag===19)Sf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_o(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_o(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kl(t,!0,n,null,s);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oS(e,t,n){switch(t.tag){case 3:Gg(t),Mr();break;case 5:Eg(t);break;case 1:ze(t.type)&&co(t);break;case 4:_c(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(po,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?Kg(e,t,n):(Y(ne,ne.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Y(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Yg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Wg(e,t,n)}return Gt(e,t,n)}var qg,eu,Qg,Xg;qg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};Qg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ln(kt.current);var s=null;switch(n){case"input":i=wa(e,i),r=wa(e,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=Aa(e,i),r=Aa(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ao)}Na(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Di.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Di.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&q("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Xg=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lS(e,t,n){var r=t.pendingProps;switch(cc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return ze(t.type)&&uo(),Ne(t),null;case 3:return r=t.stateNode,Fr(),J(We),J(ke),vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(au(gt),gt=null))),eu(e,t),Ne(t),null;case 5:yc(t);var i=Ln(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Qg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ne(t),null}if(e=Ln(kt.current),xs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xt]=t,r[$i]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<_i.length;i++)q(_i[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Rd(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":kd(r,s),q("invalid",r)}Na(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ns(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ns(r.textContent,l,e),i=["children",""+l]):Di.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":vs(r),Od(r,s,!0);break;case"textarea":vs(r),Dd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ao)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Am(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xt]=t,e[$i]=r,qg(e,t,!1,!1),t.stateNode=e;e:{switch(o=xa(n,r),n){case"dialog":q("cancel",e),q("close",e),i=r;break;case"iframe":case"object":case"embed":q("load",e),i=r;break;case"video":case"audio":for(i=0;i<_i.length;i++)q(_i[i],e);i=r;break;case"source":q("error",e),i=r;break;case"img":case"image":case"link":q("error",e),q("load",e),i=r;break;case"details":q("toggle",e),i=r;break;case"input":Rd(e,r),i=wa(e,r),q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),q("invalid",e);break;case"textarea":kd(e,r),i=Aa(e,r),q("invalid",e);break;default:i=r}Na(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?xm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Cm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Pi(e,a):typeof a=="number"&&Pi(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Di.hasOwnProperty(s)?a!=null&&s==="onScroll"&&q("scroll",e):a!=null&&qu(e,s,a,o))}switch(n){case"input":vs(e),Od(e,r,!1);break;case"textarea":vs(e),Dd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Xg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Ln(Wi.current),Ln(kt.current),xs(t)){if(r=t.stateNode,n=t.memoizedProps,r[xt]=t,(s=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:Ns(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ns(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=t,t.stateNode=r}return Ne(t),null;case 13:if(J(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&qe!==null&&t.mode&1&&!(t.flags&128))mg(),Mr(),t.flags|=98560,s=!1;else if(s=xs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[xt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else gt!==null&&(au(gt),gt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):kc())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Fr(),eu(e,t),e===null&&Bi(t.stateNode.containerInfo),Ne(t),null;case 10:return pc(t.type._context),Ne(t),null;case 17:return ze(t.type)&&uo(),Ne(t),null;case 19:if(J(ne),s=t.memoizedState,s===null)return Ne(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)li(s,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_o(e),o!==null){for(t.flags|=128,li(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ne,ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&oe()>Br&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304)}else{if(!r)if(e=_o(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return Ne(t),null}else 2*oe()-s.renderingStartTime>Br&&n!==1073741824&&(t.flags|=128,r=!0,li(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=oe(),t.sibling=null,n=ne.current,Y(ne,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Oc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function aS(e,t){switch(cc(t),t.tag){case 1:return ze(t.type)&&uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),J(We),J(ke),vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yc(t),null;case 13:if(J(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ne),null;case 4:return Fr(),null;case 10:return pc(t.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var ks=!1,xe=!1,uS=typeof WeakSet=="function"?WeakSet:Set,O=null;function Er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){se(e,t,r)}}var wf=!1;function cS(e,t){if(Fa=so,e=ng(),ac(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ja={focusedElem:e,selectionRange:n},so=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,v=_.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?E:pt(t.type,E),v);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=wf,wf=!1,_}function Ai(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&tu(t,n,s)}i=i.next}while(i!==r)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jg(e){var t=e.alternate;t!==null&&(e.alternate=null,Jg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[$i],delete t[$a],delete t[GE],delete t[KE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zg(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ao));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iu(e,t,n),e=e.sibling;e!==null;)iu(e,t,n),e=e.sibling}var ye=null,mt=!1;function en(e,t,n){for(n=n.child;n!==null;)e_(e,t,n),n=n.sibling}function e_(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount($o,n)}catch{}switch(n.tag){case 5:xe||Er(n,t);case 6:var r=ye,i=mt;ye=null,en(e,t,n),ye=r,mt=i,ye!==null&&(mt?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(mt?(e=ye,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Ui(e)):Bl(ye,n.stateNode));break;case 4:r=ye,i=mt,ye=n.stateNode.containerInfo,mt=!0,en(e,t,n),ye=r,mt=i;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tu(n,t,o),i=i.next}while(i!==r)}en(e,t,n);break;case 1:if(!xe&&(Er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,en(e,t,n),xe=r):en(e,t,n);break;default:en(e,t,n)}}function Tf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uS),t.forEach(function(r){var i=vS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,mt=!1;break e;case 3:ye=l.stateNode.containerInfo,mt=!0;break e;case 4:ye=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(ye===null)throw Error(I(160));e_(s,o,i),ye=null,mt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t_(t,e),t=t.sibling}function t_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),At(e),r&4){try{Ai(3,e,e.return),Qo(3,e)}catch(E){se(e,e.return,E)}try{Ai(5,e,e.return)}catch(E){se(e,e.return,E)}}break;case 1:ht(t,e),At(e),r&512&&n!==null&&Er(n,n.return);break;case 5:if(ht(t,e),At(e),r&512&&n!==null&&Er(n,n.return),e.flags&32){var i=e.stateNode;try{Pi(i,"")}catch(E){se(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Im(i,s),xa(l,o);var u=xa(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?xm(i,d):c==="dangerouslySetInnerHTML"?Cm(i,d):c==="children"?Pi(i,d):qu(i,c,d,u)}switch(l){case"input":Ia(i,s);break;case"textarea":Tm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Tr(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tr(i,!!s.multiple,s.defaultValue,!0):Tr(i,!!s.multiple,s.multiple?[]:"",!1))}i[$i]=s}catch(E){se(e,e.return,E)}}break;case 6:if(ht(t,e),At(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){se(e,e.return,E)}}break;case 3:if(ht(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(E){se(e,e.return,E)}break;case 4:ht(t,e),At(e);break;case 13:ht(t,e),At(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xc=oe())),r&4&&Tf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||c,ht(t,e),xe=u):ht(t,e),At(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ai(4,f,f.return);break;case 1:Er(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){se(r,n,E)}}break;case 5:Er(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(d);continue}}g!==null?(g.return=f,O=g):Cf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nm("display",o))}catch(E){se(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){se(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ht(t,e),At(e),r&4&&Tf(e);break;case 21:break;default:ht(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zg(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pi(i,""),r.flags&=-33);var s=If(e);iu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=If(e);ru(e,l,o);break;default:throw Error(I(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dS(e,t,n){O=e,n_(e)}function n_(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ks;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||xe;l=ks;var u=xe;if(ks=o,(xe=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Nf(i):a!==null?(a.return=o,O=a):Nf(i);for(;s!==null;)O=s,n_(s),s=s.sibling;O=i,ks=l,xe=u}Af(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Af(e)}}function Af(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uf(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ui(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}xe||t.flags&512&&nu(t)}catch(f){se(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Cf(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Nf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qo(4,t)}catch(a){se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){se(t,i,a)}}var s=t.return;try{nu(t)}catch(a){se(t,s,a)}break;case 5:var o=t.return;try{nu(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var fS=Math.ceil,Eo=Xt.ReactCurrentDispatcher,Cc=Xt.ReactCurrentOwner,st=Xt.ReactCurrentBatchConfig,B=0,ge=null,ae=null,Se=0,Ye=0,Sr=An(0),fe=0,Yi=null,Gn=0,Xo=0,Nc=0,Ci=null,He=null,xc=0,Br=1/0,Lt=null,So=!1,su=null,pn=null,Ds=!1,ln=null,wo=0,Ni=0,ou=null,Qs=-1,Xs=0;function be(){return B&6?oe():Qs!==-1?Qs:Qs=oe()}function mn(e){return e.mode&1?B&2&&Se!==0?Se&-Se:qE.transition!==null?(Xs===0&&(Xs=Bm()),Xs):(e=z,e!==0||(e=window.event,e=e===void 0?16:Km(e.type)),e):1}function Et(e,t,n,r){if(50<Ni)throw Ni=0,ou=null,Error(I(185));is(e,n,r),(!(B&2)||e!==ge)&&(e===ge&&(!(B&2)&&(Xo|=n),fe===4&&sn(e,Se)),Ge(e,r),n===1&&B===0&&!(t.mode&1)&&(Br=oe()+500,Ko&&Cn()))}function Ge(e,t){var n=e.callbackNode;q0(e,t);var r=io(e,e===ge?Se:0);if(r===0)n!==null&&bd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bd(n),t===1)e.tag===0?YE(xf.bind(null,e)):fg(xf.bind(null,e)),WE(function(){!(B&6)&&Cn()}),n=null;else{switch(Hm(r)){case 1:n=ec;break;case 4:n=Fm;break;case 16:n=ro;break;case 536870912:n=jm;break;default:n=ro}n=c_(n,r_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r_(e,t){if(Qs=-1,Xs=0,B&6)throw Error(I(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=io(e,e===ge?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Io(e,r);else{t=r;var i=B;B|=2;var s=s_();(ge!==e||Se!==t)&&(Lt=null,Br=oe()+500,jn(e,t));do try{mS();break}catch(l){i_(e,l)}while(1);hc(),Eo.current=s,B=i,ae!==null?t=0:(ge=null,Se=0,t=fe)}if(t!==0){if(t===2&&(i=Pa(e),i!==0&&(r=i,t=lu(e,i))),t===1)throw n=Yi,jn(e,0),sn(e,r),Ge(e,oe()),n;if(t===6)sn(e,r);else{if(i=e.current.alternate,!(r&30)&&!hS(i)&&(t=Io(e,r),t===2&&(s=Pa(e),s!==0&&(r=s,t=lu(e,s))),t===1))throw n=Yi,jn(e,0),sn(e,r),Ge(e,oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:xn(e,He,Lt);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=xc+500-oe(),10<t)){if(io(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ha(xn.bind(null,e,He,Lt),t);break}xn(e,He,Lt);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-vt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fS(r/1960))-r,10<r){e.timeoutHandle=Ha(xn.bind(null,e,He,Lt),r);break}xn(e,He,Lt);break;case 5:xn(e,He,Lt);break;default:throw Error(I(329))}}}return Ge(e,oe()),e.callbackNode===n?r_.bind(null,e):null}function lu(e,t){var n=Ci;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Io(e,t),e!==2&&(t=He,He=n,t!==null&&au(t)),e}function au(e){He===null?He=e:He.push.apply(He,e)}function hS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Nc,t&=~Xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function xf(e){if(B&6)throw Error(I(327));Rr();var t=io(e,0);if(!(t&1))return Ge(e,oe()),null;var n=Io(e,t);if(e.tag!==0&&n===2){var r=Pa(e);r!==0&&(t=r,n=lu(e,r))}if(n===1)throw n=Yi,jn(e,0),sn(e,t),Ge(e,oe()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,He,Lt),Ge(e,oe()),null}function Rc(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Br=oe()+500,Ko&&Cn())}}function Kn(e){ln!==null&&ln.tag===0&&!(B&6)&&Rr();var t=B;B|=1;var n=st.transition,r=z;try{if(st.transition=null,z=1,e)return e()}finally{z=r,st.transition=n,B=t,!(B&6)&&Cn()}}function Oc(){Ye=Sr.current,J(Sr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VE(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uo();break;case 3:Fr(),J(We),J(ke),vc();break;case 5:yc(r);break;case 4:Fr();break;case 13:J(ne);break;case 19:J(ne);break;case 10:pc(r.type._context);break;case 22:case 23:Oc()}n=n.return}if(ge=e,ae=e=gn(e.current,null),Se=Ye=t,fe=0,Yi=null,Nc=Xo=Gn=0,He=Ci=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pn=null}return e}function i_(e,t){do{var n=ae;try{if(hc(),Ks.current=vo,yo){for(var r=re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yo=!1}if(zn=0,pe=ce=re=null,Ti=!1,zi=0,Cc.current=null,n===null||n.return===null){fe=1,Yi=t,ae=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Se,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=mf(o);if(g!==null){g.flags&=-257,gf(g,o,l,s,t),g.mode&1&&pf(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(a),t.updateQueue=E}else _.add(a);break e}else{if(!(t&1)){pf(s,u,t),kc();break e}a=Error(I(426))}}else if(ee&&l.mode&1){var v=mf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gf(v,o,l,s,t),dc(jr(a,l));break e}}s=a=jr(a,l),fe!==4&&(fe=2),Ci===null?Ci=[s]:Ci.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Hg(s,a,t);af(s,p);break e;case 1:l=a;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pn===null||!pn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=$g(s,l,t);af(s,S);break e}}s=s.return}while(s!==null)}l_(n)}catch(T){t=T,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(1)}function s_(){var e=Eo.current;return Eo.current=vo,e===null?vo:e}function kc(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Gn&268435455)&&!(Xo&268435455)||sn(ge,Se)}function Io(e,t){var n=B;B|=2;var r=s_();(ge!==e||Se!==t)&&(Lt=null,jn(e,t));do try{pS();break}catch(i){i_(e,i)}while(1);if(hc(),B=n,Eo.current=r,ae!==null)throw Error(I(261));return ge=null,Se=0,fe}function pS(){for(;ae!==null;)o_(ae)}function mS(){for(;ae!==null&&!B0();)o_(ae)}function o_(e){var t=u_(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?l_(e):ae=t,Cc.current=null}function l_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aS(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ae=null;return}}else if(n=lS(n,t,Ye),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);fe===0&&(fe=5)}function xn(e,t,n){var r=z,i=st.transition;try{st.transition=null,z=1,gS(e,t,n,r)}finally{st.transition=i,z=r}return null}function gS(e,t,n,r){do Rr();while(ln!==null);if(B&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Q0(e,s),e===ge&&(ae=ge=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,c_(ro,function(){return Rr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=st.transition,st.transition=null;var o=z;z=1;var l=B;B|=4,Cc.current=null,cS(e,n),t_(n,e),ME(ja),so=!!Fa,ja=Fa=null,e.current=n,dS(n),H0(),B=l,z=o,st.transition=s}else e.current=n;if(Ds&&(Ds=!1,ln=e,wo=i),s=e.pendingLanes,s===0&&(pn=null),W0(n.stateNode),Ge(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(So)throw So=!1,e=su,su=null,e;return wo&1&&e.tag!==0&&Rr(),s=e.pendingLanes,s&1?e===ou?Ni++:(Ni=0,ou=e):Ni=0,Cn(),null}function Rr(){if(ln!==null){var e=Hm(wo),t=st.transition,n=z;try{if(st.transition=null,z=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,wo=0,B&6)throw Error(I(331));var i=B;for(B|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Ai(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,g=c.return;if(Jg(c),c===u){O=null;break}if(f!==null){f.return=g,O=f;break}O=g}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var v=E.sibling;E.sibling=null,E=v}while(E!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ai(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var h=e.current;for(O=h;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qo(9,l)}}catch(T){se(l,l.return,T)}if(l===o){O=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,O=S;break e}O=l.return}}if(B=i,Cn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot($o,e)}catch{}r=!0}return r}finally{z=n,st.transition=t}}return!1}function Rf(e,t,n){t=jr(n,t),t=Hg(e,t,1),e=hn(e,t,1),t=be(),e!==null&&(is(e,1,t),Ge(e,t))}function se(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=jr(n,e),e=$g(t,e,1),t=hn(t,e,1),e=be(),t!==null&&(is(t,1,e),Ge(t,e));break}}t=t.return}}function _S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Se&n)===n&&(fe===4||fe===3&&(Se&130023424)===Se&&500>oe()-xc?jn(e,0):Nc|=n),Ge(e,t)}function a_(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var n=be();e=zt(e,t),e!==null&&(is(e,t,n),Ge(e,n))}function yS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a_(e,n)}function vS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),a_(e,n)}var u_;u_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)$e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $e=!1,oS(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ee&&t.flags&1048576&&hg(t,ho,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=br(t,ke.current);xr(t,n),i=Sc(null,t,r,e,i,n);var s=wc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(s=!0,co(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gc(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Ya(t,r,e,n),t=Xa(null,t,r,!0,s,n)):(t.tag=0,ee&&s&&uc(t),Le(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SS(r),e=pt(r,e),i){case 0:t=Qa(null,t,r,e,n);break e;case 1:t=vf(null,t,r,e,n);break e;case 11:t=_f(null,t,r,e,n);break e;case 14:t=yf(null,t,r,pt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),Qa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),vf(e,t,r,i,n);case 3:e:{if(Gg(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,vg(e,t),go(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=jr(Error(I(423)),t),t=Ef(e,t,r,n,i);break e}else if(r!==i){i=jr(Error(I(424)),t),t=Ef(e,t,r,n,i);break e}else for(qe=fn(t.stateNode.containerInfo.firstChild),Qe=t,ee=!0,gt=null,n=_g(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===i){t=Gt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Eg(t),e===null&&za(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ba(r,i)?o=null:s!==null&&Ba(r,s)&&(t.flags|=32),zg(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&za(t),null;case 13:return Kg(e,t,n);case 4:return _c(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),_f(e,t,r,i,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Y(po,r._currentValue),r._currentValue=o,s!==null)if(wt(s.value,o)){if(s.children===i.children&&!We.current){t=Gt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Bt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ga(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ga(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Le(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xr(t,n),i=ot(i),r=r(i),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,i=pt(r,t.pendingProps),i=pt(r.type,i),yf(e,t,r,i,n);case 15:return Vg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pt(r,i),qs(e,t),t.tag=1,ze(r)?(e=!0,co(t)):e=!1,xr(t,n),Bg(t,r,i),Ya(t,r,i,n),Xa(null,t,r,!0,e,n);case 19:return Yg(e,t,n);case 22:return Wg(e,t,n)}throw Error(I(156,t.tag))};function c_(e,t){return Um(e,t)}function ES(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new ES(e,t,n,r)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SS(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xu)return 11;if(e===Ju)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Js(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Dc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dr:return Bn(n.children,i,s,t);case Qu:o=8,i|=8;break;case ya:return e=rt(12,n,t,i|2),e.elementType=ya,e.lanes=s,e;case va:return e=rt(13,n,t,i),e.elementType=va,e.lanes=s,e;case Ea:return e=rt(19,n,t,i),e.elementType=Ea,e.lanes=s,e;case Em:return Jo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ym:o=10;break e;case vm:o=9;break e;case Xu:o=11;break e;case Ju:o=14;break e;case tn:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=rt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Bn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Jo(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Em,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function ql(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pc(e,t,n,r,i,s,o,l,a){return e=new wS(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=rt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(s),e}function IS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function d_(e){if(!e)return En;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ze(n))return dg(e,n,t)}return t}function f_(e,t,n,r,i,s,o,l,a){return e=Pc(n,r,!0,e,i,s,o,l,a),e.context=d_(null),n=e.current,r=be(),i=mn(n),s=Bt(r,i),s.callback=t??null,hn(n,s,i),e.current.lanes=i,is(e,i,r),Ge(e,r),e}function Zo(e,t,n,r){var i=t.current,s=be(),o=mn(i);return n=d_(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(i,t,o),e!==null&&(Et(e,i,o,s),Gs(e,i,o)),o}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lc(e,t){Of(e,t),(e=e.alternate)&&Of(e,t)}function TS(){return null}var h_=typeof reportError=="function"?reportError:function(e){console.error(e)};function bc(e){this._internalRoot=e}el.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Zo(e,t,null,null)};el.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Zo(null,e,null,null)}),t[Wt]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&Gm(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function AS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=To(o);s.call(u)}}var o=f_(t,r,e,0,null,!1,!1,"",kf);return e._reactRootContainer=o,e[Wt]=o.current,Bi(e.nodeType===8?e.parentNode:e),Kn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=To(a);l.call(u)}}var a=Pc(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=a,e[Wt]=a.current,Bi(e.nodeType===8?e.parentNode:e),Kn(function(){Zo(t,a,n,r)}),a}function nl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=To(o);l.call(a)}}Zo(t,o,e,i)}else o=AS(n,t,e,i,r);return To(o)}$m=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gi(t.pendingLanes);n!==0&&(tc(t,n|1),Ge(t,oe()),!(B&6)&&(Br=oe()+500,Cn()))}break;case 13:Kn(function(){var r=zt(e,1);if(r!==null){var i=be();Et(r,e,1,i)}}),Lc(e,1)}};nc=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=be();Et(t,e,134217728,n)}Lc(e,134217728)}};Vm=function(e){if(e.tag===13){var t=mn(e),n=zt(e,t);if(n!==null){var r=be();Et(n,e,t,r)}Lc(e,t)}};Wm=function(){return z};zm=function(e,t){var n=z;try{return z=e,t()}finally{z=n}};Oa=function(e,t,n){switch(t){case"input":if(Ia(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Go(r);if(!i)throw Error(I(90));wm(r),Ia(r,i)}}}break;case"textarea":Tm(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};km=Rc;Dm=Kn;var CS={usingClientEntryPoint:!1,Events:[os,mr,Go,Rm,Om,Rc]},ai={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NS={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bm(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||TS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{$o=Ps.inject(NS),Ot=Ps}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(t))throw Error(I(200));return IS(e,t,null,n)};Je.createRoot=function(e,t){if(!Mc(e))throw Error(I(299));var n=!1,r="",i=h_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pc(e,1,!1,null,null,n,!1,r,i),e[Wt]=t.current,Bi(e.nodeType===8?e.parentNode:e),new bc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=bm(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Kn(e)};Je.hydrate=function(e,t,n){if(!tl(t))throw Error(I(200));return nl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!Mc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=f_(t,null,e,1,n??null,i,!1,s,o),e[Wt]=t.current,Bi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new el(t)};Je.render=function(e,t,n){if(!tl(t))throw Error(I(200));return nl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!tl(e))throw Error(I(40));return e._reactRootContainer?(Kn(function(){nl(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};Je.unstable_batchedUpdates=Rc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return nl(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function p_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p_)}catch(e){console.error(e)}}p_(),pm.exports=Je;var xS=pm.exports,Df=xS;ga.createRoot=Df.createRoot,ga.hydrateRoot=Df.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Pf="popstate";function RS(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=tr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),uu("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:m_(s))}function r(i,s){rl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return kS(t,n,r,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OS(){return Math.random().toString(36).substr(2,8)}function Lf(e,t){return{usr:e.state,key:e.key,idx:t}}function uu(e,t,n,r){return n===void 0&&(n=null),qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||OS()})}function m_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=an.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(qi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=an.Pop;let v=c(),p=v==null?null:v-u;u=v,a&&a({action:l,location:E.location,delta:p})}function f(v,p){l=an.Push;let h=uu(E.location,v,p);n&&n(h,v),u=c()+1;let y=Lf(h,u),S=E.createHref(h);try{o.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&a&&a({action:l,location:E.location,delta:1})}function g(v,p){l=an.Replace;let h=uu(E.location,v,p);n&&n(h,v),u=c();let y=Lf(h,u),S=E.createHref(h);o.replaceState(y,"",S),s&&a&&a({action:l,location:E.location,delta:0})}function _(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof v=="string"?v:m_(v);return h=h.replace(/ $/,"%20"),ue(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let E={get action(){return l},get location(){return e(i,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Pf,d),a=v,()=>{i.removeEventListener(Pf,d),a=null}},createHref(v){return t(i,v)},createURL:_,encodeLocation(v){let p=_(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(v){return o.go(v)}};return E}var bf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bf||(bf={}));function DS(e,t,n){return n===void 0&&(n="/"),PS(e,t,n,!1)}function PS(e,t,n,r){let i=typeof t=="string"?tr(t):t,s=y_(i.pathname||"/",n);if(s==null)return null;let o=g_(e);LS(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=zS(s);l=VS(o[a],u,r)}return l}function g_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ue(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Hn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:HS(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of __(s.path))i(s,o,a)}),t}function __(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=__(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function LS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$S(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bS=/^:[\w-]+$/,MS=3,US=2,FS=1,jS=10,BS=-2,Mf=e=>e==="*";function HS(e,t){let n=e.split("/"),r=n.length;return n.some(Mf)&&(r+=BS),t&&(r+=US),n.filter(i=>!Mf(i)).reduce((i,s)=>i+(bS.test(s)?MS:s===""?FS:jS),r)}function $S(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function VS(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Uf({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Uf({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Hn([s,d.pathname]),pathnameBase:QS(Hn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Hn([s,d.pathnameBase]))}return o}function Uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=WS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let E=l[d]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=l[d];return g&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function WS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function zS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function y_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const GS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KS=e=>GS.test(e);function YS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?tr(e):e,s;if(n)if(KS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),rl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Ff(n.substring(1),"/"):s=Ff(n,t)}else s=t;return{pathname:s,search:XS(r),hash:JS(i)}}function Ff(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ql(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v_(e,t){let n=qS(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=tr(e):(i=qi({},e),ue(!i.pathname||!i.pathname.includes("?"),Ql("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),Ql("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),Ql("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=YS(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),QS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const S_=["post","put","patch","delete"];new Set(S_);const ew=["get",...S_];new Set(ew);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}const Uc=w.createContext(null),tw=w.createContext(null),as=w.createContext(null),il=w.createContext(null),nr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),w_=w.createContext(null);function us(){return w.useContext(il)!=null}function sl(){return us()||ue(!1),w.useContext(il).location}function I_(e){w.useContext(as).static||w.useLayoutEffect(e)}function cs(){let{isDataRoute:e}=w.useContext(nr);return e?pw():nw()}function nw(){us()||ue(!1);let e=w.useContext(Uc),{basename:t,future:n,navigator:r}=w.useContext(as),{matches:i}=w.useContext(nr),{pathname:s}=sl(),o=JSON.stringify(v_(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return I_(()=>{l.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=E_(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Hn([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function rw(e,t){return iw(e,t)}function iw(e,t,n,r){us()||ue(!1);let{navigator:i}=w.useContext(as),{matches:s}=w.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=sl(),c;if(t){var d;let v=typeof t=="string"?tr(t):t;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||ue(!1),c=v}else c=u;let f=c.pathname||"/",g=f;if(a!=="/"){let v=a.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=DS(e,{pathname:g}),E=uw(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Hn([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Hn([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&E?w.createElement(il.Provider,{value:{location:Qi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:an.Pop}},E):E}function sw(){let e=hw(),t=ZS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}const ow=w.createElement(sw,null);class lw extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(w_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aw(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(Uc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(nr.Provider,{value:t},r)}function uw(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ue(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:g}=n,_=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||_){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let g,_=!1,E=null,v=null;n&&(g=l&&d.route.id?l[d.route.id]:void 0,E=d.route.errorElement||ow,a&&(u<0&&f===0?(mw("route-fallback",!1),_=!0,v=null):u===f&&(_=!0,v=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),h=()=>{let y;return g?y=E:_?y=v:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(aw,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(lw,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var T_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T_||{}),Ao=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ao||{});function cw(e){let t=w.useContext(Uc);return t||ue(!1),t}function dw(e){let t=w.useContext(tw);return t||ue(!1),t}function fw(e){let t=w.useContext(nr);return t||ue(!1),t}function A_(e){let t=fw(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function hw(){var e;let t=w.useContext(w_),n=dw(Ao.UseRouteError),r=A_(Ao.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function pw(){let{router:e}=cw(T_.UseNavigateStable),t=A_(Ao.UseNavigateStable),n=w.useRef(!1);return I_(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qi({fromRouteId:t},s)))},[e,t])}const jf={};function mw(e,t,n){!t&&!jf[e]&&(jf[e]=!0)}function gw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _w(e){let{to:t,replace:n,state:r,relative:i}=e;us()||ue(!1);let{future:s,static:o}=w.useContext(as),{matches:l}=w.useContext(nr),{pathname:a}=sl(),u=cs(),c=E_(t,v_(l,s.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Zs(e){ue(!1)}function yw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=an.Pop,navigator:s,static:o=!1,future:l}=e;us()&&ue(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o,future:Qi({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=tr(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:_="default"}=r,E=w.useMemo(()=>{let v=y_(c,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:_},navigationType:i}},[a,c,d,f,g,_,i]);return E==null?null:w.createElement(as.Provider,{value:u},w.createElement(il.Provider,{children:n,value:E}))}function vw(e){let{children:t,location:n}=e;return rw(cu(t),n)}new Promise(()=>{});function cu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,cu(r.props.children,s));return}r.type!==Zs&&ue(!1),!r.props.index||!r.props.children||ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Ew(e,t){let n=du(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Sw="6";try{window.__reactRouterVersion=Sw}catch{}const ww="startTransition",Bf=_0[ww];function Iw(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=RS({window:i,v5Compat:!0}));let o=s.current,[l,a]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(d=>{u&&Bf?Bf(()=>a(d)):a(d)},[a,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.useEffect(()=>gw(r),[r]),w.createElement(yw,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Hf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hf||(Hf={}));var $f;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($f||($f={}));function Tw(e){let t=w.useRef(du(e)),n=w.useRef(!1),r=sl(),i=w.useMemo(()=>Ew(r.search,n.current?null:t.current),[r.search]),s=cs(),o=w.useCallback((l,a)=>{const u=du(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,a)},[s,i]);return[i,o]}const fu="SENTINEL_REMOTE_DB_URL",Aw="https://japs-parivar-siren-default-rtdb.firebaseio.com",Hr=()=>(localStorage.getItem(fu)||Aw).replace(/\/$/,""),Cw=e=>{if(!e)localStorage.removeItem(fu);else{const t=e.replace(/\/$/,"");localStorage.setItem(fu,t)}},Me=()=>{const e=Hr();return!!e&&e.length>0},$r="sentinel_alerts_v1",Sn="sentinel_recurring_v1",hu="sentinel_status/monitor",C_=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),Fc=async e=>{if(!Me())return null;const t=Hr();try{const n=await fetch(`${t}/${e}.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return e!==hu&&localStorage.setItem(`cache_${e}`,JSON.stringify(r)),r}catch(n){if(e!==hu){console.warn(`Cloud fetch error for ${e}, falling back to cache:`,n);const r=localStorage.getItem(`cache_${e}`);return r?JSON.parse(r):null}return null}},ds=async(e,t)=>{if(!Me())return;const n=Hr();localStorage.setItem(`cache_${e}`,JSON.stringify(t));try{await fetch(`${n}/${e}.json`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}catch(r){console.error("Cloud write error:",r)}},Nw=async()=>await Fc(hu),ol=async()=>{if(Me()){const e=await Fc($r);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem($r);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load alerts",e),[]}},xw=async e=>{const n=[...await ol(),e];Me()?await ds($r,n):localStorage.setItem($r,JSON.stringify(n))},Rw=(e,t,n)=>({id:C_(),content:e,scheduledTime:t,createdAt:Date.now(),severity:n,isSent:!1}),Ow=async e=>{const n=(await ol()).filter(r=>r.id!==e);Me()?await ds($r,n):localStorage.setItem($r,JSON.stringify(n))},fs=async()=>{if(Me()){const e=await Fc(Sn);return e?Array.isArray(e)?e:Object.values(e):[]}try{const e=localStorage.getItem(Sn);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load recurring alerts",e),[]}},kw=async e=>{const n=[...await fs(),e];Me()?await ds(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},Dw=(e,t,n)=>({id:C_(),content:e,scheduledTime:t,severity:n,isActive:!0,createdAt:Date.now()}),Pw=async e=>{const n=(await fs()).map(r=>r.id===e?{...r,isActive:!r.isActive}:r);Me()?await ds(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},Lw=async e=>{const n=(await fs()).filter(r=>r.id!==e);Me()?await ds(Sn,n):localStorage.setItem(Sn,JSON.stringify(n))},bw=async()=>{const e=Date.now();return(await ol()).filter(n=>n.scheduledTime>e).sort((n,r)=>n.scheduledTime-r.scheduledTime)},N_=async()=>{const e=new Date,t=e.getTime(),n=e.toDateString(),i=(await ol()).filter(a=>a.scheduledTime<=t),o=(await fs()).filter(a=>a.isActive),l=[];return o.forEach(a=>{try{const[u,c]=a.scheduledTime.split(":").map(Number),d=new Date(e);d.setHours(u,c,0,0),t>=d.getTime()&&l.push({id:`recurring-${a.id}-${n}`,content:`[DAILY REPEAT] ${a.content}`,scheduledTime:d.getTime(),createdAt:a.createdAt,severity:a.severity,isSent:!0})}catch(u){console.error("Error parsing recurring time",u)}}),[...i,...l].sort((a,u)=>u.scheduledTime-a.scheduledTime)};var Nt=(e=>(e.INFO="INFO",e.WARNING="WARNING",e.CRITICAL="CRITICAL",e))(Nt||{});const Vf={username:"admin",password:"yogiji"},pu=({alert:e,isAdmin:t,onDelete:n})=>{const r={[Nt.INFO]:"border-l-blue-500 bg-blue-900/20 text-blue-100",[Nt.WARNING]:"border-l-yellow-500 bg-yellow-900/20 text-yellow-100",[Nt.CRITICAL]:"border-l-red-500 bg-red-900/20 text-red-100 animate-pulse-fast"},i={[Nt.INFO]:"fa-info-circle",[Nt.WARNING]:"fa-exclamation-triangle",[Nt.CRITICAL]:"fa-radiation"},s=o=>{const l=new Date(o),a=new Date,u=l.getDate()===a.getDate()&&l.getMonth()===a.getMonth()&&l.getFullYear()===a.getFullYear(),c=l.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0});return u?c:`${l.toLocaleDateString()} ${c}`};return m.jsxs("div",{className:`p-4 rounded-r-lg border-l-4 mb-3 relative flex items-start gap-4 shadow-lg backdrop-blur-sm ${r[e.severity]}`,children:[m.jsx("div",{className:"text-2xl pt-1",children:m.jsx("i",{className:`fas ${i[e.severity]}`})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("h3",{className:"font-bold text-lg uppercase tracking-wider",children:[e.severity," ALERT"]}),m.jsx("span",{className:"text-xs opacity-70 font-mono bg-black/30 px-2 py-1 rounded",children:s(e.scheduledTime)})]}),m.jsx("p",{className:"mt-2 text-lg font-medium leading-relaxed",children:e.content}),t&&m.jsx("div",{className:"mt-3 flex justify-end",children:m.jsx("button",{onClick:o=>{o.stopPropagation(),n&&n(e.id)},className:"text-xs text-red-400 hover:text-red-300 underline",children:"Recall/Delete"})})]})]})},bn=({children:e,variant:t="primary",fullWidth:n=!1,className:r="",...i})=>{const s="px-4 py-2 rounded-md font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900",o={primary:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-500",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-500",secondary:"bg-slate-700 hover:bg-slate-600 text-white focus:ring-slate-500",outline:"border border-slate-600 text-slate-300 hover:bg-slate-800 focus:ring-slate-500"};return m.jsx("button",{className:`${s} ${o[t]} ${n?"w-full":""} ${r}`,...i,children:e})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e,t){if(!e)throw qr(t)},qr=function(e){return new Error("Firebase Database ("+x_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Mw=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},jc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(R_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Mw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new Uw;const f=s<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Uw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O_=function(e){const t=R_(e);return jc.encodeByteArray(t,!0)},Co=function(e){return O_(e).replace(/\./g,"")},mu=function(e){try{return jc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e){return k_(void 0,e)}function k_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!jw(n)||(e[n]=k_(e[n],t[n]));return e}function jw(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=()=>Bw().__FIREBASE_DEFAULTS__,$w=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Vw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mu(e[1]);return t&&JSON.parse(t)},D_=()=>{try{return Hw()||$w()||Vw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ww=e=>{var t,n;return(n=(t=D_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zw=e=>{const t=Ww(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},P_=()=>{var e;return(e=D_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Co(JSON.stringify(n)),Co(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kw())}function Yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b_(){return x_.NODE_ADMIN===!0}function M_(){try{return typeof indexedDB=="object"}catch{return!1}}function U_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="FirebaseError";class Qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Qw,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Xw(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,l,r)}}function Xw(e,t){return e.replace(Jw,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Jw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e){return JSON.parse(e)}function Ee(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Xi(mu(s[0])||""),n=Xi(mu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Zw=function(e){const t=F_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eI=function(e){const t=F_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Wf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function No(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function gu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(zf(s)&&zf(o)){if(!gu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Bc(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,A(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ul=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e){return e&&e._delegate?e._delegate:e}class Kt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oI(t))try{this.getOrInitializeService({instanceIdentifier:Rn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Rn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rn){return this.instances.has(t)}getOptions(t=Rn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rn){return this.component?this.component.multipleInstances?t:Rn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(e){return e===Rn?void 0:e}function oI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(K||(K={}));const aI={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},uI=K.INFO,cI={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},dI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=cI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class j_{constructor(t){this.name=t,this._logLevel=uI,this._logHandler=dI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in K))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...t),this._logHandler(this,K.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...t),this._logHandler(this,K.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,K.INFO,...t),this._logHandler(this,K.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,K.WARN,...t),this._logHandler(this,K.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...t),this._logHandler(this,K.ERROR,...t)}}const fI=(e,t)=>t.some(n=>e instanceof n);let Gf,Kf;function hI(){return Gf||(Gf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pI(){return Kf||(Kf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,_u=new WeakMap,H_=new WeakMap,Xl=new WeakMap,Hc=new WeakMap;function mI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ht(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&B_.set(n,e)}).catch(()=>{}),Hc.set(t,e),t}function gI(e){if(_u.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});_u.set(e,t)}let yu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _u.get(e);if(t==="objectStoreNames")return e.objectStoreNames||H_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _I(e){yu=e(yu)}function yI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Jl(this),t,...n);return H_.set(r,t.sort?t.sort():[t]),Ht(r)}:pI().includes(e)?function(...t){return e.apply(Jl(this),t),Ht(B_.get(this))}:function(...t){return Ht(e.apply(Jl(this),t))}}function vI(e){return typeof e=="function"?yI(e):(e instanceof IDBTransaction&&gI(e),fI(e,hI())?new Proxy(e,yu):e)}function Ht(e){if(e instanceof IDBRequest)return mI(e);if(Xl.has(e))return Xl.get(e);const t=vI(e);return t!==e&&(Xl.set(e,t),Hc.set(t,e)),t}const Jl=e=>Hc.get(e);function cl(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Ht(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ht(o.result),a.oldVersion,a.newVersion,Ht(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function Zl(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Ht(n).then(()=>{})}const EI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],ea=new Map;function Yf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ea.get(t))return ea.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=SI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EI.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ea.set(t,s),s}_I(e=>({...e,get:(t,n,r)=>Yf(t,n)||e.get(t,n,r),has:(t,n)=>!!Yf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(II(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function II(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vu="@firebase/app",qf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new j_("@firebase/app"),TI="@firebase/app-compat",AI="@firebase/analytics-compat",CI="@firebase/analytics",NI="@firebase/app-check-compat",xI="@firebase/app-check",RI="@firebase/auth",OI="@firebase/auth-compat",kI="@firebase/database",DI="@firebase/data-connect",PI="@firebase/database-compat",LI="@firebase/functions",bI="@firebase/functions-compat",MI="@firebase/installations",UI="@firebase/installations-compat",FI="@firebase/messaging",jI="@firebase/messaging-compat",BI="@firebase/performance",HI="@firebase/performance-compat",$I="@firebase/remote-config",VI="@firebase/remote-config-compat",WI="@firebase/storage",zI="@firebase/storage-compat",GI="@firebase/firestore",KI="@firebase/vertexai-preview",YI="@firebase/firestore-compat",qI="firebase",QI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="[DEFAULT]",XI={[vu]:"fire-core",[TI]:"fire-core-compat",[CI]:"fire-analytics",[AI]:"fire-analytics-compat",[xI]:"fire-app-check",[NI]:"fire-app-check-compat",[RI]:"fire-auth",[OI]:"fire-auth-compat",[kI]:"fire-rtdb",[DI]:"fire-data-connect",[PI]:"fire-rtdb-compat",[LI]:"fire-fn",[bI]:"fire-fn-compat",[MI]:"fire-iid",[UI]:"fire-iid-compat",[FI]:"fire-fcm",[jI]:"fire-fcm-compat",[BI]:"fire-perf",[HI]:"fire-perf-compat",[$I]:"fire-rc",[VI]:"fire-rc-compat",[WI]:"fire-gcs",[zI]:"fire-gcs-compat",[GI]:"fire-fst",[YI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[qI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Map,JI=new Map,Su=new Map;function Qf(e,t){try{e.container.addComponent(t)}catch(n){Yt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wn(e){const t=e.name;if(Su.has(t))return Yt.debug(`There were multiple attempts to register component ${t}.`),!1;Su.set(t,e);for(const n of xo.values())Qf(n,e);for(const n of JI.values())Qf(n,e);return!0}function dl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new al("app","Firebase",ZI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=QI;function $_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Eu,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=P_()),!n)throw _n.create("no-options");const s=xo.get(i);if(s){if(gu(n,s.options)&&gu(r,s.config))return s;throw _n.create("duplicate-app",{appName:i})}const o=new lI(i);for(const a of Su.values())o.addComponent(a);const l=new eT(n,r,o);return xo.set(i,l),l}function V_(e=Eu){const t=xo.get(e);if(!t&&e===Eu&&P_())return $_();if(!t)throw _n.create("no-app",{appName:e});return t}function Dt(e,t,n){var r;let i=(r=XI[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yt.warn(l.join(" "));return}wn(new Kt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebase-heartbeat-database",rT=1,Ji="firebase-heartbeat-store";let ta=null;function W_(){return ta||(ta=cl(nT,rT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ji)}catch(n){console.warn(n)}}}}).catch(e=>{throw _n.create("idb-open",{originalErrorMessage:e.message})})),ta}async function iT(e){try{const n=(await W_()).transaction(Ji),r=await n.objectStore(Ji).get(z_(e));return await n.done,r}catch(t){if(t instanceof Qr)Yt.warn(t.message);else{const n=_n.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yt.warn(n.message)}}}async function Xf(e,t){try{const r=(await W_()).transaction(Ji,"readwrite");await r.objectStore(Ji).put(t,z_(e)),await r.done}catch(n){if(n instanceof Qr)Yt.warn(n.message);else{const r=_n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yt.warn(r.message)}}}function z_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=1024,oT=30*24*60*60*1e3;class lT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=oT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jf(),{heartbeatsToSend:r,unsentEntries:i}=aT(this._heartbeatsCache.heartbeats),s=Co(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yt.warn(n),""}}}function Jf(){return new Date().toISOString().substring(0,10)}function aT(e,t=sT){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Zf(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M_()?U_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Zf(e){return Co(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(e){wn(new Kt("platform-logger",t=>new wI(t),"PRIVATE")),wn(new Kt("heartbeat",t=>new lT(t),"PRIVATE")),Dt(vu,qf,e),Dt(vu,qf,"esm2017"),Dt("fire-js","")}cT("");var dT="firebase",fT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt(dT,fT,"app");const eh="@firebase/database",th="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G_="";function hT(e){G_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ee(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Xi(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Jt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new pT(t)}}catch{}return new mT},Mn=K_("localStorage"),wu=K_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new j_("@firebase/database"),gT=function(){let e=1;return function(){return e++}}(),Y_=function(e){const t=rI(e),n=new nI;n.update(t);const r=n.digest();return jc.encodeByteArray(r)},hs=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=hs.apply(null,r):typeof r=="object"?t+=Ee(r):t+=r,t+=" "}return t};let $n=null,nh=!0;const _T=function(e,t){A(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Or.logLevel=K.VERBOSE,$n=Or.log.bind(Or),t&&wu.set("logging_enabled",!0)):typeof e=="function"?$n=e:($n=null,wu.remove("logging_enabled"))},Re=function(...e){if(nh===!0&&(nh=!1,$n===null&&wu.get("logging_enabled")===!0&&_T(!0)),$n){const t=hs.apply(null,e);$n(t)}},ps=function(e){return function(...t){Re(e,...t)}},Iu=function(...e){const t="FIREBASE INTERNAL ERROR: "+hs(...e);Or.error(t)},qt=function(...e){const t=`FIREBASE FATAL ERROR: ${hs(...e)}`;throw Or.error(t),new Error(t)},Ke=function(...e){const t="FIREBASE WARNING: "+hs(...e);Or.warn(t)},yT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},q_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wr="[MIN_NAME]",Yn="[MAX_NAME]",Xr=function(e,t){if(e===t)return 0;if(e===Wr||t===Yn)return-1;if(t===Wr||e===Yn)return 1;{const n=rh(e),r=rh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},ET=function(e,t){return e===t?0:e<t?-1:1},ui=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ee(t))},$c=function(e){if(typeof e!="object"||e===null)return Ee(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ee(t[r]),n+=":",n+=$c(e[t[r]]);return n+="}",n},Q_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function at(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const X_=function(e){A(!q_(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ST=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},IT=new RegExp("^-?(0*)\\d{1,10}$"),TT=-2147483648,AT=2147483647,rh=function(e){if(IT.test(e)){const t=Number(e);if(t>=TT&&t<=AT)return t}return null},Jr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ke("Exception was thrown by user callback.",n),t},Math.floor(0))}},CT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ke(t)}}class kr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}kr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="5",J_="v",Z_="s",ey="r",ty="f",ny=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ry="ls",iy="p",Tu="ac",sy="websocket",oy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Mn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function RT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ay(e,t,n){A(typeof t=="string","typeof type must == string"),A(typeof n=="object","typeof params must == object");let r;if(t===sy)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===oy)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);RT(e)&&(n.ns=e.namespace);const i=[];return at(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.counters_={}}incrementCounter(t,n=1){Jt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Fw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={},ra={};function Wc(e){const t=e.toString();return na[t]||(na[t]=new OT),na[t]}function kT(e,t){const n=e.toString();return ra[n]||(ra[n]=t()),ra[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="start",PT="close",LT="pLPCommand",bT="pRTLPCB",uy="id",cy="pw",dy="ser",MT="cb",UT="seg",FT="ts",jT="d",BT="dframe",fy=1870,hy=30,HT=fy-hy,$T=25e3,VT=3e4;class wr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(t),this.stats_=Wc(n),this.urlFn=a=>(this.appCheckToken&&(a[Tu]=this.appCheckToken),ay(n,oy,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VT)),vT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ih)this.id=l,this.password=a;else if(o===PT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[ih]="t",r[dy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[MT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[J_]=Vc,this.transportSessionId&&(r[Z_]=this.transportSessionId),this.lastSessionId&&(r[ry]=this.lastSessionId),this.applicationId&&(r[iy]=this.applicationId),this.appCheckToken&&(r[Tu]=this.appCheckToken),typeof location<"u"&&location.hostname&&ny.test(location.hostname)&&(r[ey]=ty);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wr.forceAllow_=!0}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){return wr.forceAllow_?!0:!wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ST()&&!wT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=O_(n),i=Q_(r,HT);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[BT]="t",r[uy]=t,r[cy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ee(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zc{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gT(),window[LT+this.uniqueCallbackIdentifier]=t,window[bT+this.uniqueCallbackIdentifier]=n,this.myIFrame=zc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Re("frame writing exception"),l.stack&&Re(l.stack),Re(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[uy]=this.myID,t[cy]=this.myPW,t[dy]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hy+r.length<=fy;){const o=this.pendingSegs.shift();r=r+"&"+UT+i+"="+o.seg+"&"+FT+i+"="+o.ts+"&"+jT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($T)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=16384,zT=45e3;let Ro=null;typeof MozWebSocket<"u"?Ro=MozWebSocket:typeof WebSocket<"u"&&(Ro=WebSocket);class _t{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=Wc(n),this.connURL=_t.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[J_]=Vc,typeof location<"u"&&location.hostname&&ny.test(location.hostname)&&(o[ey]=ty),n&&(o[Z_]=n),r&&(o[ry]=r),i&&(o[Tu]=i),s&&(o[iy]=s),ay(t,sy,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mn.set("previous_websocket_failure",!0);try{let r;b_(),this.mySock=new Ro(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){_t.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ro!==null&&!_t.forceDisallow_}static previouslyFailed(){return Mn.isInMemoryStorage||Mn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xi(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Q_(n,WT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_t.responsesRequiredToBeHealthy=2;_t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wr,_t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=_t&&_t.isAvailable();let r=n&&!_t.previouslyFailed();if(t.webSocketOnly&&(n||Ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_t];else{const i=this.transports_=[];for(const s of Zi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=6e4,KT=5e3,YT=10*1024,qT=100*1024,ia="t",sh="d",QT="s",oh="r",XT="e",lh="o",ah="a",uh="n",ch="p",JT="h";class ZT{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new Zi(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=xi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ia in t){const n=t[ia];n===ah?this.upgradeIfSecondaryHealthy_():n===oh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ch,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ah,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ui("t",t),r=ui("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ui(ia,t);if(sh in t){const r=t[sh];if(n===JT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===uh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QT?this.onConnectionShutdown_(r):n===oh?this.onReset_(r):n===XT?Iu("Server Error: "+r):n===lh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iu("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vc!==r&&Ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ch,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){A(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends my{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!L_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oo}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=32,fh=768;class Z{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function G(){return new Z("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function In(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z(e.pieces_,t)}function gy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eA(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _y(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z(t,0)}function de(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function it(e,t){const n=U(e),r=U(t);if(n===null)return t;if(n===r)return it(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vy(e,t){if(In(e)!==In(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(In(e)>In(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class tA{constructor(t,n){this.errorPrefix_=n,this.parts_=_y(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ul(this.parts_[r]);Ey(this)}}function nA(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ul(t),Ey(e)}function rA(e){const t=e.parts_.pop();e.byteLength_-=ul(t),e.parts_.length>0&&(e.byteLength_-=1)}function Ey(e){if(e.byteLength_>fh)throw new Error(e.errorPrefix_+"has a key path longer than "+fh+" bytes ("+e.byteLength_+").");if(e.parts_.length>dh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dh+") or object contains a cycle "+On(e))}function On(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends my{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gc}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=1e3,iA=60*5*1e3,hh=30*1e3,sA=1.3,oA=3e4,lA="server_kill",ph=3;class $t extends py{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=$t.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ci,this.maxReconnectDelay_=iA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!b_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Ee(s)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new ll,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;$t.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Jt(t,"w")){const r=Vr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||eI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Zw(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ee(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Iu("Unrecognized action received from server: "+Ee(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oA&&(this.reconnectDelay_=ci),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+$t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){A(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new ZT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Ke(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(lA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ke(d),a())}}}interrupt(t){Re("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Re("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Wf(this.interruptReasons_)&&(this.reconnectDelay_=ci,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>$c(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Z(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Re("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ph&&(this.reconnectDelay_=hh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Re("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ph&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+G_.replace(/\./g,"-")]=1,L_()?t["framework.cordova"]=1:Yw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Oo.getInstance().currentlyOnline();return Wf(this.interruptReasons_)&&t}}$t.nextPersistentConnectionId_=0;$t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new j(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new j(Wr,t),i=new j(Wr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;class Sy extends fl{static get __EMPTY_NODE(){return Ls}static set __EMPTY_NODE(t){Ls=t}compare(t,n){return Xr(t.name,n.name)}isDefinedOn(t){throw qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Yn,Ls)}makePost(t,n){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,Ls)}toString(){return".key"}}const Dr=new Sy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??me.RED,this.left=i??Ve.EMPTY_NODE,this.right=s??Ve.EMPTY_NODE}copy(t,n,r,i,s){return new me(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ve.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ve.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class aA{copy(t,n,r,i,s){return this}insert(t,n,r){return new me(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ve{constructor(t,n=Ve.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ve(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new Ve(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new bs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new bs(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new bs(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new bs(this.root_,null,this.comparator_,!0,t)}}Ve.EMPTY_NODE=new aA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e,t){return Xr(e.name,t.name)}function Kc(e,t){return Xr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;function cA(e){Au=e}const wy=function(e){return typeof e=="number"?"number:"+X_(e):"string:"+e},Iy=function(e){if(e.isLeafNode()){const t=e.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jt(t,".sv"),"Priority must be a string or number.")}else A(e===Au||e.isEmpty(),"priority of unexpected type.");A(e===Au||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh;class he{constructor(t,n=he.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Iy(this.priorityNode_)}static set __childrenNodeConstructor(t){mh=t}static get __childrenNodeConstructor(){return mh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new he(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:U(t)===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:he.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=U(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(A(r!==".priority"||In(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,he.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+wy(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=X_(this.value_):t+=this.value_,this.lazyHash_=Y_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===he.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof he.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=he.VALUE_TYPE_ORDER.indexOf(n),s=he.VALUE_TYPE_ORDER.indexOf(r);return A(i>=0,"Unknown leaf type: "+n),A(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}he.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty,Ay;function dA(e){Ty=e}function fA(e){Ay=e}class hA extends fl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Xr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Yn,new he("[PRIORITY-POST]",Ay))}makePost(t,n){const r=Ty(t);return new j(n,new he("[PRIORITY-POST]",r))}toString(){return".priority"}}const Oe=new hA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=Math.log(2);class mA{constructor(t){const n=s=>parseInt(Math.log(s)/pA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ko=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new me(f,d.node,me.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),E=i(g+1,u);return d=e[g],f=n?n(d):d,new me(f,d.node,me.BLACK,_,E)}},s=function(a){let u=null,c=null,d=e.length;const f=function(_,E){const v=d-_,p=d;d-=_;const h=i(v+1,p),y=e[v],S=n?n(y):y;g(new me(S,y.node,E,null,h))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const E=a.nextBitIsOne(),v=Math.pow(2,a.count-(_+1));E?f(v,me.BLACK):(f(v,me.BLACK),f(v,me.RED))}return c},o=new mA(e.length),l=s(o);return new Ve(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;const ar={};class jt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return A(ar&&Oe,"ChildrenNode.ts has not been loaded"),sa=sa||new jt({".priority":ar},{".priority":Oe}),sa}get(t){const n=Vr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ve?n:null}hasIndex(t){return Jt(this.indexSet_,t.toString())}addIndex(t,n){A(t!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ko(r,t.getCompare()):l=ar;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new jt(c,u)}addToIndexes(t,n){const r=No(this.indexes_,(i,s)=>{const o=Vr(this.indexSet_,s);if(A(o,"Missing index implementation for "+s),i===ar)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),ko(l,o.getCompare())}else return ar;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new j(t.name,l))),a.insert(t,t.node)}});return new jt(r,this.indexSet_)}removeFromIndexes(t,n){const r=No(this.indexes_,i=>{if(i===ar)return i;{const s=n.get(t.name);return s?i.remove(new j(t.name,s)):i}});return new jt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class V{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Iy(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return di||(di=new V(new Ve(Kc),null,jt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||di}updatePriority(t){return this.children_.isEmpty()?this:new V(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?di:n}}getChild(t){const n=U(t);return n===null?this:this.getImmediateChild(n).getChild(X(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(A(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new j(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?di:this.priorityNode_;return new V(i,o,s)}}updateChild(t,n){const r=U(t);if(r===null)return n;{A(U(t)!==".priority"||In(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(X(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Oe,(o,l)=>{n[o]=l.val(t),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+wy(this.getPriority().val())+":"),this.forEachChild(Oe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Y_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new j(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new j(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ms?-1:0}withIndex(t){if(t===Dr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Dr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Oe),i=n.getIterator(Oe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Dr?null:this.indexMap_.get(t.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gA extends V{constructor(){super(new Ve(Kc),V.EMPTY_NODE,jt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}}const ms=new gA;Object.defineProperties(j,{MIN:{value:new j(Wr,V.EMPTY_NODE)},MAX:{value:new j(Yn,ms)}});Sy.__EMPTY_NODE=V.EMPTY_NODE;he.__childrenNodeConstructor=V;cA(ms);fA(ms);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=!0;function ve(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new he(n,ve(t))}if(!(e instanceof Array)&&_A){const n=[];let r=!1;if(at(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=ve(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return V.EMPTY_NODE;const s=ko(n,uA,o=>o.name,Kc);if(r){const o=ko(n,Oe.getCompare());return new V(s,ve(t),new jt({".priority":o},{".priority":Oe}))}else return new V(s,ve(t),jt.Default)}else{let n=V.EMPTY_NODE;return at(e,(r,i)=>{if(Jt(e,r)&&r.substring(0,1)!=="."){const s=ve(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ve(t))}}dA(ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends fl{constructor(t){super(),this.indexPath_=t,A(!F(t)&&U(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Xr(t.name,n.name):s}makePost(t,n){const r=ve(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const t=V.EMPTY_NODE.updateChild(this.indexPath_,ms);return new j(Yn,t)}toString(){return _y(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends fl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Xr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){const r=ve(t);return new j(n,r)}toString(){return".value"}}const EA=new vA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(e){return{type:"value",snapshotNode:e}}function wA(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function IA(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function gh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function TA(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wr}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const t=new Yc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _h(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Oe?n="$priority":e.index_===EA?n="$value":e.index_===Dr?n="$key":(A(e.index_ instanceof yA,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ee(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ee(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ee(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ee(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ee(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function yh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Oe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends py{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ps("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Do.getListenId_(t,r),l={};this.listens_[o]=l;const a=_h(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Vr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Do.getListenId_(t,n);delete this.listens_[r]}get(t){const n=_h(t._queryParams),r=t._path.toString(),i=new ll;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+tI(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Xi(l.responseText)}catch{Ke("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ke("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(){return{value:null,children:new Map}}function Cy(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=U(t);e.children.has(r)||e.children.set(r,Po());const i=e.children.get(r);t=X(t),Cy(i,t,n)}}function Cu(e,t,n){e.value!==null?n(t,e.value):CA(e,(r,i)=>{const s=new Z(t.toString()+"/"+r);Cu(i,s,n)})}function CA(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=10*1e3,xA=30*1e3,RA=5*60*1e3;class OA{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NA(t);const r=vh+(xA-vh)*Math.random();xi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;at(t,(i,s)=>{s>0&&Jt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),xi(this.reportStats_.bind(this),Math.floor(Math.random()*2*RA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));function Ny(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ry(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Rt.ACK_USER_WRITE,this.source=Ny()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(t));return new Lo(G(),n,this.revert)}}else return A(U(this.path)===t,"operationForChild called for unrelated child."),new Lo(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Rt.OVERWRITE}operationForChild(t){return F(this.path)?new qn(this.source,G(),this.snap.getImmediateChild(t)):new qn(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Rt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new Z(t));return n.isEmpty()?null:n.value?new qn(this.source,G(),n.value):new es(this.source,G(),n)}else return A(U(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new es(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=U(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function kA(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(TA(o.childName,o.snapshotNode))}),fi(e,i,"child_removed",t,r,n),fi(e,i,"child_added",t,r,n),fi(e,i,"child_moved",s,r,n),fi(e,i,"child_changed",t,r,n),fi(e,i,"value",t,r,n),i}function fi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>PA(e,l,a)),o.forEach(l=>{const a=DA(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function DA(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function PA(e,t,n){if(t.childName==null||n.childName==null)throw qr("Should only compare child_ events.");const r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t){return{eventCache:e,serverCache:t}}function Ri(e,t,n,r){return Oy(new qc(t,n,r),e.serverCache)}function ky(e,t,n,r){return Oy(e.eventCache,new qc(t,n,r))}function Nu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Qn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa;const LA=()=>(oa||(oa=new Ve(ET)),oa);class Q{constructor(t,n=LA()){this.value=t,this.children=n}static fromObject(t){let n=new Q(null);return at(t,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(F(t))return null;{const r=U(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(X(t),n);return s!=null?{path:de(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=U(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new Q(null)}}set(t,n){if(F(t))return new Q(n,this.children);{const r=U(t),s=(this.children.get(r)||new Q(null)).set(X(t),n),o=this.children.insert(r,s);return new Q(this.value,o)}}remove(t){if(F(t))return this.children.isEmpty()?new Q(null):new Q(null,this.children);{const n=U(t),r=this.children.get(n);if(r){const i=r.remove(X(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Q(null):new Q(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=U(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(F(t))return n;{const r=U(t),s=(this.children.get(r)||new Q(null)).setTree(X(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Q(this.value,o)}}fold(t){return this.fold_(G(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(de(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,G(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(t))return null;{const s=U(t),o=this.children.get(s);return o?o.findOnPath_(X(t),de(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,G(),n)}foreachOnPath_(t,n,r){if(F(t))return this;{this.value&&r(n,this.value);const i=U(t),s=this.children.get(i);return s?s.foreachOnPath_(X(t),de(n,i),r):new Q(null)}}foreach(t){this.foreach_(G(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(de(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.writeTree_=t}static empty(){return new St(new Q(null))}}function Oi(e,t,n){if(F(t))return new St(new Q(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=it(i,t);return s=s.updateChild(o,n),new St(e.writeTree_.set(i,s))}else{const i=new Q(n),s=e.writeTree_.setTree(t,i);return new St(s)}}}function Eh(e,t,n){let r=e;return at(n,(i,s)=>{r=Oi(r,de(t,i),s)}),r}function Sh(e,t){if(F(t))return St.empty();{const n=e.writeTree_.setTree(t,new Q(null));return new St(n)}}function xu(e,t){return ir(e,t)!=null}function ir(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(it(n.path,t)):null}function wh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function yn(e,t){if(F(t))return e;{const n=ir(e,t);return n!=null?new St(new Q(n)):new St(e.writeTree_.subtree(t))}}function Ru(e){return e.writeTree_.isEmpty()}function zr(e,t){return Dy(G(),e.writeTree_,t)}function Dy(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(A(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Dy(de(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(de(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e,t){return Fy(t,e)}function bA(e,t,n,r,i){A(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Oi(e.visibleWrites,t,n)),e.lastWriteId=r}function MA(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function UA(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);A(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&FA(l,r.path)?i=!1:yt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return jA(e),!0;if(r.snap)e.visibleWrites=Sh(e.visibleWrites,r.path);else{const l=r.children;at(l,a=>{e.visibleWrites=Sh(e.visibleWrites,de(r.path,a))})}return!0}else return!1}function FA(e,t){if(e.snap)return yt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&yt(de(e.path,n),t))return!0;return!1}function jA(e){e.visibleWrites=Ly(e.allWrites,BA,G()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function BA(e){return e.visible}function Ly(e,t,n){let r=St.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)yt(n,o)?(l=it(n,o),r=Oi(r,l,s.snap)):yt(o,n)&&(l=it(o,n),r=Oi(r,G(),s.snap.getChild(l)));else if(s.children){if(yt(n,o))l=it(n,o),r=Eh(r,l,s.children);else if(yt(o,n))if(l=it(o,n),F(l))r=Eh(r,G(),s.children);else{const a=Vr(s.children,U(l));if(a){const u=a.getChild(X(l));r=Oi(r,G(),u)}}}else throw qr("WriteRecord should have .snap or .children")}}return r}function by(e,t,n,r,i){if(!r&&!i){const s=ir(e.visibleWrites,t);if(s!=null)return s;{const o=yn(e.visibleWrites,t);if(Ru(o))return n;if(n==null&&!xu(o,G()))return null;{const l=n||V.EMPTY_NODE;return zr(o,l)}}}else{const s=yn(e.visibleWrites,t);if(!i&&Ru(s))return n;if(!i&&n==null&&!xu(s,G()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(yt(u.path,t)||yt(t,u.path))},l=Ly(e.allWrites,o,t),a=n||V.EMPTY_NODE;return zr(l,a)}}}function HA(e,t,n){let r=V.EMPTY_NODE;const i=ir(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=yn(e.visibleWrites,t);return n.forEachChild(Oe,(o,l)=>{const a=zr(yn(s,new Z(o)),l);r=r.updateImmediateChild(o,a)}),wh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=yn(e.visibleWrites,t);return wh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function $A(e,t,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=de(t,n);if(xu(e.visibleWrites,s))return null;{const o=yn(e.visibleWrites,s);return Ru(o)?i.getChild(n):zr(o,i.getChild(n))}}function VA(e,t,n,r){const i=de(t,n),s=ir(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=yn(e.visibleWrites,i);return zr(o,r.getNode().getImmediateChild(n))}else return null}function WA(e,t){return ir(e.visibleWrites,t)}function zA(e,t,n,r,i,s,o){let l;const a=yn(e.visibleWrites,t),u=ir(a,G());if(u!=null)l=u;else if(n!=null)l=zr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function GA(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function Ou(e,t,n,r){return by(e.writeTree,e.treePath,t,n,r)}function My(e,t){return HA(e.writeTree,e.treePath,t)}function Ih(e,t,n,r){return $A(e.writeTree,e.treePath,t,n,r)}function bo(e,t){return WA(e.writeTree,de(e.treePath,t))}function KA(e,t,n,r,i,s){return zA(e.writeTree,e.treePath,t,n,r,i,s)}function Qc(e,t,n){return VA(e.writeTree,e.treePath,t,n)}function Uy(e,t){return Fy(de(e.treePath,t),e.writeTree)}function Fy(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;A(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),A(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,gh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,IA(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,wA(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,gh(r,t.snapshotNode,i.oldSnap));else throw qr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const jy=new qA;class Xc{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new qc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qc(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qn(this.viewCache_),s=KA(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}function QA(e,t){A(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function XA(e,t,n,r,i){const s=new YA;let o,l;if(n.type===Rt.OVERWRITE){const u=n;u.source.fromUser?o=ku(e,t,u.path,u.snap,r,i,s):(A(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!F(u.path),o=Mo(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Rt.MERGE){const u=n;u.source.fromUser?o=ZA(e,t,u.path,u.children,r,i,s):(A(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=Du(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Rt.ACK_USER_WRITE){const u=n;u.revert?o=nC(e,t,u.path,r,i,s):o=eC(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Rt.LISTEN_COMPLETE)o=tC(e,t,n.path,r,s);else throw qr("Unknown operation type: "+n.type);const a=s.getChanges();return JA(t,o,a),{viewCache:o,changes:a}}function JA(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Nu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(SA(Nu(t)))}}function By(e,t,n,r,i,s){const o=t.eventCache;if(bo(r,n)!=null)return t;{let l,a;if(F(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Qn(t),c=u instanceof V?u:V.EMPTY_NODE,d=My(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Ou(r,Qn(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=U(n);if(u===".priority"){A(In(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=Ih(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=X(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=Ih(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Qc(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return Ri(t,l,o.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function Mo(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(F(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=U(n);if(!a.isCompleteForPath(n)&&In(n)>1)return t;const _=X(n),v=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),v):u=c.updateChild(a.getNode(),g,v,_,jy,null)}const d=ky(t,u,a.isFullyInitialized()||F(n),c.filtersNodes()),f=new Xc(i,d,s);return By(e,d,n,i,f,l)}function ku(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Xc(i,t,s);if(F(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=Ri(t,u,!0,e.filter.filtersNodes());else{const d=U(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Ri(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=X(n),g=l.getNode().getImmediateChild(d);let _;if(F(f))_=r;else{const E=c.getCompleteChild(d);E!=null?gy(f)===".priority"&&E.getChild(yy(f)).isEmpty()?_=E:_=E.updateChild(f,r):_=V.EMPTY_NODE}if(g.equals(_))a=t;else{const E=e.filter.updateChild(l.getNode(),d,_,f,c,o);a=Ri(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Th(e,t){return e.eventCache.isCompleteForChild(t)}function ZA(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=de(n,a);Th(t,U(c))&&(l=ku(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=de(n,a);Th(t,U(c))||(l=ku(e,l,c,u,i,s,o))}),l}function Ah(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Du(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;F(n)?u=r:u=new Q(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=t.serverCache.getNode().getImmediateChild(d),_=Ah(e,g,f);a=Mo(e,a,new Z(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const g=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const _=t.serverCache.getNode().getImmediateChild(d),E=Ah(e,_,f);a=Mo(e,a,new Z(d),E,i,s,o,l)}}),a}function eC(e,t,n,r,i,s,o){if(bo(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Mo(e,t,n,a.getNode().getChild(n),i,s,l,o);if(F(n)){let u=new Q(null);return a.getNode().forEachChild(Dr,(c,d)=>{u=u.set(new Z(c),d)}),Du(e,t,n,u,i,s,l,o)}else return t}else{let u=new Q(null);return r.foreach((c,d)=>{const f=de(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),Du(e,t,n,u,i,s,l,o)}}function tC(e,t,n,r,i){const s=t.serverCache,o=ky(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return By(e,o,n,r,jy,i)}function nC(e,t,n,r,i,s){let o;if(bo(r,n)!=null)return t;{const l=new Xc(r,t,i),a=t.eventCache.getNode();let u;if(F(n)||U(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Ou(r,Qn(t));else{const d=t.serverCache.getNode();A(d instanceof V,"serverChildren would be complete if leaf node"),c=My(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=U(n);let d=Qc(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,X(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,V.EMPTY_NODE,X(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ou(r,Qn(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||bo(r,G())!=null,Ri(t,u,o,e.filter.filtersNodes())}}function rC(e,t){const n=Qn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(U(t)).isEmpty())?n.getChild(t):null}function Ch(e,t,n,r){t.type===Rt.MERGE&&t.source.queryId!==null&&(A(Qn(e.viewCache_),"We should always have a full cache before handling merges"),A(Nu(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=XA(e.processor_,i,t,n,r);return QA(e.processor_,s.viewCache),A(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,iC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return kA(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh;function sC(e){A(!Nh,"__referenceConstructor has already been defined"),Nh=e}function Jc(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return A(s!=null,"SyncTree gave us an op for an invalid query."),Ch(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Ch(o,t,n,r));return s}}function Zc(e,t){let n=null;for(const r of e.views.values())n=n||rC(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function oC(e){A(!xh,"__referenceConstructor has already been defined"),xh=e}class Rh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Q(null),this.pendingWriteTree_=GA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hy(e,t,n,r,i){return bA(e.pendingWriteTree_,t,n,r,i),i?pl(e,new qn(Ny(),t,n)):[]}function Un(e,t,n=!1){const r=MA(e.pendingWriteTree_,t);if(UA(e.pendingWriteTree_,t)){let s=new Q(null);return r.snap!=null?s=s.set(G(),!0):at(r.children,o=>{s=s.set(new Z(o),!0)}),pl(e,new Lo(r.path,s,n))}else return[]}function hl(e,t,n){return pl(e,new qn(xy(),t,n))}function lC(e,t,n){const r=Q.fromObject(n);return pl(e,new es(xy(),t,r))}function aC(e,t,n,r){const i=Wy(e,r);if(i!=null){const s=zy(i),o=s.path,l=s.queryId,a=it(o,t),u=new qn(Ry(l),a,n);return Gy(e,o,u)}else return[]}function uC(e,t,n,r){const i=Wy(e,r);if(i){const s=zy(i),o=s.path,l=s.queryId,a=it(o,t),u=Q.fromObject(n),c=new es(Ry(l),a,u);return Gy(e,o,c)}else return[]}function ed(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=it(o,t),u=Zc(l,a);if(u)return u});return by(i,t,s,n,!0)}function pl(e,t){return $y(t,e.syncPointTree_,null,Py(e.pendingWriteTree_,G()))}function $y(e,t,n,r){if(F(e.path))return Vy(e,t,n,r);{const i=t.get(G());n==null&&i!=null&&(n=Zc(i,G()));let s=[];const o=U(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=Uy(r,o);s=s.concat($y(l,a,u,c))}return i&&(s=s.concat(Jc(i,e,r,n))),s}}function Vy(e,t,n,r){const i=t.get(G());n==null&&i!=null&&(n=Zc(i,G()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Uy(r,o),c=e.operationForChild(o);c&&(s=s.concat(Vy(c,l,a,u)))}),i&&(s=s.concat(Jc(i,e,r,n))),s}function Wy(e,t){return e.tagToQueryMap.get(t)}function zy(e){const t=e.indexOf("$");return A(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z(e.substr(0,t))}}function Gy(e,t,n){const r=e.syncPointTree_.get(t);A(r,"Missing sync point for query tag that we're tracking");const i=Py(e.pendingWriteTree_,t);return Jc(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new td(n)}node(){return this.node_}}class nd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=de(this.path_,t);return new nd(this.syncTree_,n)}node(){return ed(this.syncTree_,this.path_)}}const cC=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Oh=function(e,t,n){if(!e||typeof e!="object")return e;if(A(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return dC(e[".sv"],t,n);if(typeof e[".sv"]=="object")return fC(e[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},dC=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:A(!1,"Unexpected server value: "+e)}},fC=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&A(!1,"Unexpected increment value: "+r);const i=t.node();if(A(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},hC=function(e,t,n,r){return rd(t,new nd(n,e),r)},Ky=function(e,t,n){return rd(e,new td(t),n)};function rd(e,t,n){const r=e.getPriority().val(),i=Oh(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Oh(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new he(l,ve(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new he(i))),o.forEachChild(Oe,(l,a)=>{const u=rd(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function sd(e,t){let n=t instanceof Z?t:new Z(t),r=e,i=U(n);for(;i!==null;){const s=Vr(r.node.children,i)||{children:{},childCount:0};r=new id(i,r,s),n=X(n),i=U(n)}return r}function Zr(e){return e.node.value}function Yy(e,t){e.node.value=t,Pu(e)}function qy(e){return e.node.childCount>0}function pC(e){return Zr(e)===void 0&&!qy(e)}function ml(e,t){at(e.node.children,(n,r)=>{t(new id(n,e,r))})}function Qy(e,t,n,r){n&&!r&&t(e),ml(e,i=>{Qy(i,t,!0,r)}),n&&r&&t(e)}function mC(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function gs(e){return new Z(e.parent===null?e.name:gs(e.parent)+"/"+e.name)}function Pu(e){e.parent!==null&&gC(e.parent,e.name,e)}function gC(e,t,n){const r=pC(n),i=Jt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Pu(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Pu(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/[\[\].#$\/\u0000-\u001F\u007F]/,yC=/[\[\].#$\u0000-\u001F\u007F]/,la=10*1024*1024,Xy=function(e){return typeof e=="string"&&e.length!==0&&!_C.test(e)},Jy=function(e){return typeof e=="string"&&e.length!==0&&!yC.test(e)},vC=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Jy(e)},EC=function(e,t,n,r){r&&t===void 0||od(Bc(e,"value"),t,n)},od=function(e,t,n){const r=n instanceof Z?new tA(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+On(r));if(typeof t=="function")throw new Error(e+"contains a function "+On(r)+" with contents = "+t.toString());if(q_(t))throw new Error(e+"contains "+t.toString()+" "+On(r));if(typeof t=="string"&&t.length>la/3&&ul(t)>la)throw new Error(e+"contains a string greater than "+la+" utf8 bytes "+On(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(at(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Xy(o)))throw new Error(e+" contains an invalid key ("+o+") "+On(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nA(r,o),od(e,l,r),rA(r)}),i&&s)throw new Error(e+' contains ".value" child '+On(r)+" in addition to actual children.")}},Zy=function(e,t,n,r){if(!(r&&n===void 0)&&!Jy(n))throw new Error(Bc(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SC=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zy(e,t,n,r)},wC=function(e,t){if(U(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},IC=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Xy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vC(n))throw new Error(Bc(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ev(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!vy(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Qt(e,t,n){ev(e,n),AC(e,r=>yt(r,t)||yt(t,r))}function AC(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(CC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function CC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();$n&&Re("event: "+n.toString()),Jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="repo_interrupt",xC=25;class RC{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Po(),this.transactionQueueTree_=new id,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OC(e,t,n){if(e.stats_=Wc(e.repoInfo_),e.forceRestClient_||CT())e.server_=new Do(e.repoInfo_,(r,i,s,o)=>{kh(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Dh(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new $t(e.repoInfo_,t,(r,i,s,o)=>{kh(e,r,i,s,o)},r=>{Dh(e,r)},r=>{DC(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=kT(e.repoInfo_,()=>new OA(e.stats_,e.server_)),e.infoData_=new AA,e.infoSyncTree_=new Rh({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=hl(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ad(e,"connected",!1),e.serverSyncTree_=new Rh({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Qt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function kC(e){const n=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ld(e){return cC({timestamp:kC(e)})}function kh(e,t,n,r,i){e.dataUpdateCount++;const s=new Z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=No(n,u=>ve(u));o=uC(e.serverSyncTree_,s,a,i)}else{const a=ve(n);o=aC(e.serverSyncTree_,s,a,i)}else if(r){const a=No(n,u=>ve(u));o=lC(e.serverSyncTree_,s,a)}else{const a=ve(n);o=hl(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=gl(e,s)),Qt(e.eventQueue_,l,o)}function Dh(e,t){ad(e,"connected",t),t===!1&&LC(e)}function DC(e,t){at(t,(n,r)=>{ad(e,n,r)})}function ad(e,t,n){const r=new Z("/.info/"+t),i=ve(n);e.infoData_.updateSnapshot(r,i);const s=hl(e.infoSyncTree_,r,i);Qt(e.eventQueue_,r,s)}function tv(e){return e.nextWriteId_++}function PC(e,t,n,r,i){ud(e,"set",{path:t.toString(),value:n,priority:r});const s=ld(e),o=ve(n,r),l=ed(e.serverSyncTree_,t),a=Ky(o,l,s),u=tv(e),c=Hy(e.serverSyncTree_,t,a,u,!0);ev(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||Ke("set at "+t+" failed: "+f);const E=Un(e.serverSyncTree_,u,!_);Qt(e.eventQueue_,t,E),MC(e,i,f,g)});const d=ov(e,t);gl(e,d),Qt(e.eventQueue_,d,[])}function LC(e){ud(e,"onDisconnectEvents");const t=ld(e),n=Po();Cu(e.onDisconnect_,G(),(i,s)=>{const o=hC(i,s,e.serverSyncTree_,t);Cy(n,i,o)});let r=[];Cu(n,G(),(i,s)=>{r=r.concat(hl(e.serverSyncTree_,i,s));const o=ov(e,i);gl(e,o)}),e.onDisconnect_=Po(),Qt(e.eventQueue_,G(),r)}function bC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(NC)}function ud(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function MC(e,t,n,r){t&&Jr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function nv(e,t,n){return ed(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function cd(e,t=e.transactionQueueTree_){if(t||_l(e,t),Zr(t)){const n=iv(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&UC(e,gs(t),n)}else qy(t)&&ml(t,n=>{cd(e,n)})}function UC(e,t,n){const r=n.map(u=>u.currentWriteId),i=nv(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];A(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=it(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{ud(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Un(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_l(e,sd(e.transactionQueueTree_,t)),cd(e,e.transactionQueueTree_),Qt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Jr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ke("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}gl(e,t)}},o)}function gl(e,t){const n=rv(e,t),r=gs(n),i=iv(e,n);return FC(e,i,r),r}function FC(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=it(n,a.path);let c=!1,d;if(A(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=xC)c=!0,d="maxretry",i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0));else{const f=nv(e,a.path,o);a.currentInputSnapshot=f;const g=t[l].update(f.val());if(g!==void 0){od("transaction failed: Data returned ",g,a.path);let _=ve(g);typeof g=="object"&&g!=null&&Jt(g,".priority")||(_=_.updatePriority(f.getPriority()));const v=a.currentWriteId,p=ld(e),h=Ky(_,f,p);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=tv(e),o.splice(o.indexOf(v),1),i=i.concat(Hy(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Un(e.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Un(e.serverSyncTree_,a.currentWriteId,!0))}Qt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}_l(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Jr(r[l]);cd(e,e.transactionQueueTree_)}function rv(e,t){let n,r=e.transactionQueueTree_;for(n=U(t);n!==null&&Zr(r)===void 0;)r=sd(r,n),t=X(t),n=U(t);return r}function iv(e,t){const n=[];return sv(e,t,n),n.sort((r,i)=>r.order-i.order),n}function sv(e,t,n){const r=Zr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ml(t,i=>{sv(e,i,n)})}function _l(e,t){const n=Zr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Yy(t,n.length>0?n:void 0)}ml(t,r=>{_l(e,r)})}function ov(e,t){const n=gs(rv(e,t)),r=sd(e.transactionQueueTree_,t);return mC(r,i=>{aa(e,i)}),aa(e,r),Qy(r,i=>{aa(e,i)}),n}function aa(e,t){const n=Zr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(A(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(A(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Un(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Yy(t,void 0):n.length=s+1,Qt(e.eventQueue_,gs(t),i);for(let o=0;o<r.length;o++)Jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function BC(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ke(`Invalid query segment '${n}' in query '${e}'`)}return t}const Ph=function(e,t){const n=HC(e),r=n.namespace;n.domain==="firebase.com"&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ly(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z(n.pathString)}},HC=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=jC(e.substring(c,d)));const f=BC(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:gy(this._path)}get ref(){return new sr(this._repo,this._path)}get _queryIdentifier(){const t=yh(this._queryParams),n=$c(t);return n==="{}"?"default":n}get _queryObject(){return yh(this._queryParams)}isEqual(t){if(t=rr(t),!(t instanceof dd))return!1;const n=this._repo===t._repo,r=vy(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+eA(this._path)}}class sr extends dd{constructor(t,n){super(t,n,new Yc,!1)}get parent(){const t=yy(this._path);return t===null?null:new sr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function $C(e,t){return e=rr(e),e._checkNotDeleted("ref"),t!==void 0?VC(e._root,t):e._root}function VC(e,t){return e=rr(e),U(e._path)===null?SC("child","path",t,!1):Zy("child","path",t,!1),new sr(e._repo,de(e._path,t))}function WC(e,t){e=rr(e),wC("set",e._path),EC("set",t,e._path,!1);const n=new ll;return PC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}sC(sr);oC(sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="FIREBASE_DATABASE_EMULATOR_HOST",Lu={};let GC=!1;function KC(e,t,n,r){e.repoInfo_=new ly(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function YC(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Ph(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[zC]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Ph(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new kr(kr.OWNER):new xT(e.name,e.options,t);IC("Invalid Firebase Database URL",o),F(o.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=QC(l,e,c,new NT(e.name,n));return new XC(d,e)}function qC(e,t){const n=Lu[t];(!n||n[e.key]!==e)&&qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),bC(e),delete n[e.key]}function QC(e,t,n,r){let i=Lu[t.name];i||(i={},Lu[t.name]=i);let s=i[e.toURLString()];return s&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new RC(e,GC,n,r),i[e.toURLString()]=s,s}class XC{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sr(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qt("Cannot call "+t+" on a deleted database.")}}function JC(e=V_(),t){const n=dl(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=zw("database");r&&ZC(n,...r)}return n}function ZC(e,t,n,r={}){e=rr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&qt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kr(kr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Gw(r.mockUserToken,e.app.options.projectId);s=new kr(o)}KC(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){hT(tT),wn(new Kt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return YC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Dt(eh,th,e),Dt(eh,th,"esm2017")}$t.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};$t.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};eN();const lv="@firebase/installations",fd="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=1e4,uv=`w:${fd}`,cv="FIS_v2",tN="https://firebaseinstallations.googleapis.com/v1",nN=60*60*1e3,rN="installations",iN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xn=new al(rN,iN,sN);function dv(e){return e instanceof Qr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv({projectId:e}){return`${tN}/projects/${e}/installations`}function hv(e){return{token:e.token,requestStatus:2,expiresIn:lN(e.expiresIn),creationTime:Date.now()}}async function pv(e,t){const r=(await t.json()).error;return Xn.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function mv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function oN(e,{refreshToken:t}){const n=mv(e);return n.append("Authorization",aN(t)),n}async function gv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function lN(e){return Number(e.replace("s","000"))}function aN(e){return`${cv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=fv(e),i=mv(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:cv,appId:e.appId,sdkVersion:uv},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await gv(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:hv(u.authToken)}}else throw await pv("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^[cdef][\w-]{21}$/,bu="";function fN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=hN(e);return dN.test(n)?n:bu}catch{return bu}}function hN(e){return cN(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function vv(e,t){const n=yl(e);Ev(n,t),pN(n,t)}function Ev(e,t){const n=yv.get(e);if(n)for(const r of n)r(t)}function pN(e,t){const n=mN();n&&n.postMessage({key:e,fid:t}),gN()}let Fn=null;function mN(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=e=>{Ev(e.data.key,e.data.fid)}),Fn}function gN(){yv.size===0&&Fn&&(Fn.close(),Fn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-installations-database",yN=1,Jn="firebase-installations-store";let ua=null;function hd(){return ua||(ua=cl(_N,yN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Jn)}}})),ua}async function Uo(e,t){const n=yl(e),i=(await hd()).transaction(Jn,"readwrite"),s=i.objectStore(Jn),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&vv(e,t.fid),t}async function Sv(e){const t=yl(e),r=(await hd()).transaction(Jn,"readwrite");await r.objectStore(Jn).delete(t),await r.done}async function vl(e,t){const n=yl(e),i=(await hd()).transaction(Jn,"readwrite"),s=i.objectStore(Jn),o=await s.get(n),l=t(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&vv(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(e){let t;const n=await vl(e.appConfig,r=>{const i=vN(r),s=EN(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===bu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function vN(e){const t=e||{fid:fN(),registrationStatus:0};return wv(t)}function EN(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=SN(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wN(e)}:{installationEntry:t}}async function SN(e,t){try{const n=await uN(e,t);return Uo(e.appConfig,n)}catch(n){throw dv(n)&&n.customData.serverCode===409?await Sv(e.appConfig):await Uo(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function wN(e){let t=await Lh(e.appConfig);for(;t.registrationStatus===1;)await _v(100),t=await Lh(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pd(e);return r||n}return t}function Lh(e){return vl(e,t=>{if(!t)throw Xn.create("installation-not-found");return wv(t)})}function wv(e){return IN(e)?{fid:e.fid,registrationStatus:0}:e}function IN(e){return e.registrationStatus===1&&e.registrationTime+av<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN({appConfig:e,heartbeatServiceProvider:t},n){const r=AN(e,n),i=oN(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:uv,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await gv(()=>fetch(r,l));if(a.ok){const u=await a.json();return hv(u)}else throw await pv("Generate Auth Token",a)}function AN(e,{fid:t}){return`${fv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(e,t=!1){let n;const r=await vl(e.appConfig,s=>{if(!Iv(s))throw Xn.create("not-registered");const o=s.authToken;if(!t&&xN(o))return s;if(o.requestStatus===1)return n=CN(e,t),s;{if(!navigator.onLine)throw Xn.create("app-offline");const l=ON(s);return n=NN(e,l),l}});return n?await n:r.authToken}async function CN(e,t){let n=await bh(e.appConfig);for(;n.authToken.requestStatus===1;)await _v(100),n=await bh(e.appConfig);const r=n.authToken;return r.requestStatus===0?md(e,t):r}function bh(e){return vl(e,t=>{if(!Iv(t))throw Xn.create("not-registered");const n=t.authToken;return kN(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function NN(e,t){try{const n=await TN(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Uo(e.appConfig,r),n}catch(n){if(dv(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Sv(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Uo(e.appConfig,r)}throw n}}function Iv(e){return e!==void 0&&e.registrationStatus===2}function xN(e){return e.requestStatus===2&&!RN(e)}function RN(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+nN}function ON(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function kN(e){return e.requestStatus===1&&e.requestTime+av<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(e){const t=e,{installationEntry:n,registrationPromise:r}=await pd(t);return r?r.catch(console.error):md(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t=!1){const n=e;return await LN(n),(await md(n,t)).token}async function LN(e){const{registrationPromise:t}=await pd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){if(!e||!e.options)throw ca("App Configuration");if(!e.name)throw ca("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ca(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ca(e){return Xn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="installations",MN="installations-internal",UN=e=>{const t=e.getProvider("app").getImmediate(),n=bN(t),r=dl(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FN=e=>{const t=e.getProvider("app").getImmediate(),n=dl(t,Tv).getImmediate();return{getId:()=>DN(n),getToken:i=>PN(n,i)}};function jN(){wn(new Kt(Tv,UN,"PUBLIC")),wn(new Kt(MN,FN,"PRIVATE"))}jN();Dt(lv,fd);Dt(lv,fd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="/firebase-messaging-sw.js",HN="/firebase-cloud-messaging-push-scope",Av="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$N="https://fcmregistrations.googleapis.com/v1",Cv="google.c.a.c_id",VN="google.c.a.c_l",WN="google.c.a.ts",zN="google.c.a.e";var Mh;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var ts;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ts||(ts={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function GN(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="fcm_token_details_db",KN=5,Uh="fcm_token_object_Store";async function YN(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(da))return null;let t=null;return(await cl(da,KN,{upgrade:async(r,i,s,o)=>{var l;if(i<2||!r.objectStoreNames.contains(Uh))return;const a=o.objectStore(Uh),u=await a.index("fcmSenderId").get(e);if(await a.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:(l=c.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:bt(c.vapidKey)}}}else if(i===3){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:bt(c.auth),p256dh:bt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:bt(c.vapidKey)}}}else if(i===4){const c=u;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:bt(c.auth),p256dh:bt(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:bt(c.vapidKey)}}}}}})).close(),await Zl(da),await Zl("fcm_vapid_details_db"),await Zl("undefined"),qN(t)?t:null}function qN(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firebase-messaging-database",XN=1,ns="firebase-messaging-store";let fa=null;function Nv(){return fa||(fa=cl(QN,XN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ns)}}})),fa}async function JN(e){const t=xv(e),r=await(await Nv()).transaction(ns).objectStore(ns).get(t);if(r)return r;{const i=await YN(e.appConfig.senderId);if(i)return await gd(e,i),i}}async function gd(e,t){const n=xv(e),i=(await Nv()).transaction(ns,"readwrite");return await i.objectStore(ns).put(t,n),await i.done,t}function xv({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ue=new al("messaging","Messaging",ZN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(e,t){const n=await yd(e),r=Rv(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(_d(e.appConfig),i)).json()}catch(o){throw Ue.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ue.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Ue.create("token-subscribe-no-token");return s.token}async function t1(e,t){const n=await yd(e),r=Rv(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${_d(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw Ue.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Ue.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Ue.create("token-update-no-token");return s.token}async function n1(e,t){const r={method:"DELETE",headers:await yd(e)};try{const s=await(await fetch(`${_d(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw Ue.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Ue.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function _d({projectId:e}){return`${$N}/projects/${e}/registrations`}async function yd({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Rv({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Av&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=7*24*60*60*1e3;async function i1(e){const t=await o1(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:bt(t.getKey("auth")),p256dh:bt(t.getKey("p256dh"))},r=await JN(e.firebaseDependencies);if(r){if(l1(r.subscriptionOptions,n))return Date.now()>=r.createTime+r1?s1(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await n1(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Fh(e.firebaseDependencies,n)}else return Fh(e.firebaseDependencies,n)}async function s1(e,t){try{const n=await t1(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await gd(e.firebaseDependencies,r),n}catch(n){throw n}}async function Fh(e,t){const r={token:await e1(e,t),createTime:Date.now(),subscriptionOptions:t};return await gd(e,r),r.token}async function o1(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:GN(t)})}function l1(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return a1(t,e),u1(t,e),c1(t,e),t}function a1(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function u1(e,t){t.data&&(e.data=t.data)}function c1(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const l=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;l&&(e.fcmOptions.link=l);const a=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(e){return typeof e=="object"&&!!e&&Cv in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */f1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function f1(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(e){if(!e||!e.options)throw ha("App Configuration Object");if(!e.name)throw ha("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw ha(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ha(e){return Ue.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=h1(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(e){try{e.swRegistration=await navigator.serviceWorker.register(BN,{scope:HN}),e.swRegistration.update().catch(()=>{})}catch(t){throw Ue.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(e,t){if(!t&&!e.swRegistration&&await m1(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ue.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Av)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(e,t){if(!navigator)throw Ue.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ue.create("permission-blocked");return await _1(e,t==null?void 0:t.vapidKey),await g1(e,t==null?void 0:t.serviceWorkerRegistration),i1(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(e,t,n){const r=v1(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Cv],message_name:n[VN],message_time:n[WN],message_device_time:Math.floor(Date.now()/1e3)})}function v1(e){switch(e){case ts.NOTIFICATION_CLICKED:return"notification_open";case ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===ts.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(jh(n)):e.onMessageHandler.next(jh(n)));const r=n.data;d1(r)&&r[zN]==="1"&&await y1(e,n.messageType,r)}const Bh="@firebase/messaging",Hh="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=e=>{const t=new p1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>E1(t,n)),t},w1=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>Ov(t,r)}};function I1(){wn(new Kt("messaging",S1,"PUBLIC")),wn(new Kt("messaging-internal",w1,"PRIVATE")),Dt(Bh,Hh),Dt(Bh,Hh,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(){try{await U_()}catch{return!1}return typeof window<"u"&&M_()&&qw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(e=V_()){return T1().then(t=>{if(!t)throw Ue.create("unsupported-browser")},t=>{throw Ue.create("indexed-db-unsupported")}),dl(rr(e),"messaging").getImmediate()}async function C1(e,t){return e=rr(e),Ov(e,t)}I1();const kv={apiKey:"AIzaSyBzBlEr1WSMy5ornhdEvEmLvg_9oKsYqDU",authDomain:"japs-parivar-siren.firebaseapp.com",databaseURL:"https://japs-parivar-siren-default-rtdb.firebaseio.com",projectId:"japs-parivar-siren",storageBucket:"japs-parivar-siren.firebasestorage.app",messagingSenderId:"329214308072",appId:"1:329214308072:web:7dfb90b6629e84f590235d",measurementId:"G-18MNV84E8X"},Dv="BD7XDu-yQd39uk_PPx1Xs_djDjWlQ1g3eTVAwohs4Ga4Jryk8FQ16Jhj2mLvL4P2KMpFNtLUdhwIk0yBzVxmCd8",vd=kv.apiKey!=="PASTE_YOUR_API_KEY_HERE";vd?console.log(" Firebase Configured"):console.warn(" Firebase is NOT configured. Push notifications will not work.");const Fo=vd?$_(kv):null,Mu=Fo?JC(Fo):null,$h=Fo?A1(Fo):null,Vh=()=>vd&&Dv.length>50,Uu=async()=>{if(!$h||!Mu)return!1;try{if(await Notification.requestPermission()!=="granted")return console.log(" Notification permission denied"),!1;const t=await C1($h,{vapidKey:Dv});return t?(console.log(" FCM Token Generated:",t),await N1(t),!0):!1}catch(e){return console.error("Error initializing notifications:",e),!1}},N1=async e=>{if(Mu){e.substring(0,10)+""+e.substring(e.length-5);try{await WC($C(Mu,`fcm_tokens/${e.replace(/[.\#$\[\]]/g,"_")}`),{token:e,updatedAt:Date.now(),userAgent:navigator.userAgent}),console.log(" Token saved to Realtime Database")}catch(t){console.error(" Failed to save token to DB:",t)}}},x1="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAASAAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA//OEZAAAAAABIAAAAAAAAAAAASAAK8AAAASAAAAA",R1=()=>{var wd;const e=cs(),[t]=Tw(),[n,r]=w.useState([]),[i,s]=w.useState(!1),[o,l]=w.useState(null),[a,u]=w.useState(!1),[c,d]=w.useState(null),[f,g]=w.useState(!1),[_,E]=w.useState(!1),[v,p]=w.useState(!1),[h,y]=w.useState(null),[S,T]=w.useState(!1),[C,k]=w.useState(Date.now()),[R,$]=w.useState(!1),[b,De]=w.useState(!0),[Pt,ct]=w.useState("default"),_e=w.useRef(null),It=w.useRef(null),et=w.useRef(null),Tt=w.useRef(null),N=w.useRef(()=>{});w.useEffect(()=>{localStorage.getItem("sentinel_armed")==="true"&&x(!0);const W=()=>{const ei=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;g(!!ei)};W(),window.matchMedia("(display-mode: standalone)").addEventListener("change",W);const le=Vh();De(le),"Notification"in window&&ct(Notification.permission);const Ae=Hr();p(!!Ae&&Ae.length>0),Me()&&le&&Uu(),t.get("emergency")==="true"&&(console.log("Opened via Emergency Notification"),u(!0))},[]);const D=async()=>{if(!("Notification"in window))return;const L=await Notification.requestPermission();ct(L),L==="granted"&&Vh()&&Uu()},P=async()=>{if("wakeLock"in navigator)try{const L=await navigator.wakeLock.request("screen");y(L),T(!1),L.addEventListener("release",()=>{y(null),document.visibilityState==="visible"&&localStorage.getItem("sentinel_armed")==="true"&&P()})}catch{T(!0)}else T(!0)};w.useEffect(()=>{const L=()=>{document.visibilityState==="visible"&&i&&(P(),_e.current&&_e.current.state==="suspended"&&_e.current.resume())};return document.addEventListener("visibilitychange",L),()=>document.removeEventListener("visibilitychange",L)},[i]);const x=(L=!1)=>{if(!_e.current){const le=window.AudioContext||window.webkitAudioContext;_e.current=new le}const W=_e.current;if(W.state==="suspended"&&W.resume().catch(()=>console.log("Auto-resume waiting for gesture")),It.current){const le=It.current.play();le!==void 0&&le.then(()=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:"Sentinel Active",artist:"Emergency Broadcast System",artwork:[{src:"https://cdn-icons-png.flaticon.com/512/564/564619.png",sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",()=>{var Ae;(Ae=It.current)==null||Ae.play()}),navigator.mediaSession.playbackState="playing")}).catch(()=>console.log("Auto-play prevented"))}if(s(!0),localStorage.setItem("sentinel_armed","true"),u(!1),D(),P(),!L)try{const le=W.createOscillator(),Ae=W.createGain();le.connect(Ae),Ae.connect(W.destination),le.frequency.setValueAtTime(1e3,W.currentTime),le.frequency.exponentialRampToValueAtTime(2e3,W.currentTime+.1),Ae.gain.setValueAtTime(.3,W.currentTime),Ae.gain.exponentialRampToValueAtTime(1e-4,W.currentTime+.3),le.start(),le.stop(W.currentTime+.3),(t.get("emergency")==="true"||a)&&Te()}catch(le){console.error(le)}},H=()=>{s(!1),localStorage.removeItem("sentinel_armed"),E(!1),dt(),h&&h.release().then(()=>y(null)),_e.current&&_e.current.suspend(),It.current&&It.current.pause()},dt=()=>{et.current&&(clearInterval(et.current),et.current=null),navigator.vibrate&&navigator.vibrate(0)},Te=w.useCallback(()=>{if(E(!0),setTimeout(()=>{E(!1),dt()},15e3),navigator.vibrate&&(navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100]),et.current&&clearInterval(et.current),et.current=setInterval(()=>{navigator.vibrate([200,100,200,100,200,100,500,100,500,100,500,100])},3e3)),!_e.current)return;const L=_e.current;L.state==="suspended"&&L.resume();try{const W=L.createOscillator(),le=L.createGain();W.connect(le),le.connect(L.destination),W.type="sawtooth";const Ae=L.currentTime;for(let ei=0;ei<15;ei++){const Il=Ae+ei;W.frequency.setValueAtTime(600,Il),W.frequency.linearRampToValueAtTime(1200,Il+.5),W.frequency.linearRampToValueAtTime(600,Il+1)}le.gain.setValueAtTime(.5,Ae),le.gain.linearRampToValueAtTime(.001,Ae+15),W.start(Ae),W.stop(Ae+15)}catch(W){console.error(W)}},[i]),Zt=w.useCallback(async()=>{p(Me());const L=await N_();r(L),o!==null&&L.length>o&&(Te(),document.visibilityState==="hidden"&&L.length>0&&ft(L[0])),l(L.length)},[o,Te]);w.useEffect(()=>{N.current=Zt},[Zt]),w.useEffect(()=>{if(C){$(!0);const L=setTimeout(()=>$(!1),500);return()=>clearTimeout(L)}},[C]),w.useEffect(()=>{try{Tt.current=new Worker(new URL("./polling-worker.js",window.location.origin+window.location.pathname.replace(/\/[^/]*$/,"/")).href),Tt.current.onmessage=L=>{L.data==="tick"&&(k(Date.now()),N.current&&N.current())},Tt.current.postMessage("start")}catch{}return()=>{var L;return(L=Tt.current)==null?void 0:L.terminate()}},[]);const ft=L=>{if(!(!("Notification"in window)||Notification.permission!=="granted"))try{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.ready.then(W=>{W.showNotification(` ${L.severity}`,{body:L.content,icon:"https://cdn-icons-png.flaticon.com/512/564/564619.png",tag:"sentinel-alert",renotify:!0,requireInteraction:!0,vibrate:[500,200,500,200,1e3]})})}catch{}};w.useEffect(()=>{const L=W=>{W.preventDefault(),d(W)};return window.addEventListener("beforeinstallprompt",L),window.addEventListener("appinstalled",()=>{g(!0),d(null)}),()=>window.removeEventListener("beforeinstallprompt",L)},[]);const or=()=>{if(c)c.prompt(),c.userChoice.then(L=>{L.outcome==="accepted"&&d(null)});else{const L=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;alert(L?` To Install on iPhone:

1. Tap the 'Share' button at the bottom of Safari.
2. Scroll down and tap 'Add to Home Screen'.`:` To Install:

Tap the browser menu (three dots ) and select 'Install App' or 'Add to Home Screen'.`)}};return m.jsxs("div",{className:`min-h-screen text-white flex flex-col transition-colors duration-500 ${_?"alarm-flash":"bg-slate-900"}`,children:[m.jsx("audio",{ref:It,src:x1,loop:!0,playsInline:!0,style:{display:"none"}}),a&&m.jsxs("div",{className:"fixed inset-0 z-[100] bg-red-600 flex flex-col items-center justify-center cursor-pointer animate-pulse",onClick:()=>x(!1),children:[m.jsx("i",{className:"fas fa-radiation text-9xl text-white mb-8 animate-bounce"}),m.jsx("h1",{className:"text-4xl font-bold text-center text-white font-oswald mb-4",children:"EMERGENCY ALERT"}),m.jsx("p",{className:"text-2xl text-white font-bold blink",children:"TAP SCREEN TO LISTEN"})]}),m.jsx("header",{className:"bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-50 shadow-md",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 bg-red-600 rounded-full flex items-center justify-center ${_?"animate-spin":"animate-pulse"}`,children:m.jsx("i",{className:"fas fa-bullhorn text-white text-xl"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold tracking-wider text-red-500",children:"SENTINEL"}),m.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[10px] font-mono",children:[v?m.jsx("span",{className:"text-green-400",children:" ONLINE"}):m.jsx("span",{className:"text-red-500 animate-pulse",children:" NO CONNECTION"}),i&&(h?m.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[m.jsx("i",{className:"fas fa-desktop"})," SCREEN ON"]}):m.jsxs("span",{className:`${S?"text-red-400":"text-slate-500"} flex items-center gap-1`,children:[m.jsx("i",{className:"fas fa-desktop"})," ",S?"LOCK FAILED":"NORMAL"]})),m.jsx("span",{className:`transition-opacity duration-200 ${R?"opacity-100 text-blue-400":"opacity-20 text-slate-500"}`,children:m.jsx("i",{className:"fas fa-heartbeat"})})]})]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[!f&&m.jsx("button",{onClick:or,className:"bg-blue-600 hover:bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center shadow-lg shadow-blue-900/50 animate-pulse mr-2 border border-blue-400",title:"Download / Install App",children:m.jsx("i",{className:"fas fa-download"})}),i?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center text-green-400 text-sm font-mono bg-green-900/20 px-3 py-1 rounded border border-green-900 h-10",children:[m.jsx("i",{className:"fas fa-satellite-dish mr-2 animate-pulse"})," ARMED"]}),m.jsx(bn,{onClick:H,variant:"secondary",className:"text-xs opacity-60 hover:opacity-100",children:"STOP"})]}):m.jsx(bn,{onClick:()=>x(!1),variant:"danger",className:"animate-bounce font-bold shadow-lg shadow-red-900/50",children:"ACTIVATE SYSTEM"})]})]})}),!v&&m.jsx("div",{className:"bg-red-600 text-white p-3 text-center text-sm font-bold animate-pulse",children:" NOT CONNECTED TO CLOUD. Alerts may not arrive. Refresh or check internet."}),m.jsx("main",{className:"flex-1 max-w-4xl mx-auto w-full p-4 md:p-8 mb-16",children:n.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[m.jsx("i",{className:"fas fa-shield-alt text-6xl mb-4 opacity-20"}),m.jsx("p",{className:"text-xl",children:"Monitoring Active"}),i&&((wd=_e.current)==null?void 0:wd.state)==="suspended"&&m.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/30 text-yellow-500 border border-yellow-800 rounded text-sm animate-pulse cursor-pointer",onClick:()=>x(!1),children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"})," Audio suspended. Tap to fix."]}),m.jsx("div",{className:"mt-8 text-center max-w-sm mx-auto",children:m.jsxs("div",{className:"inline-block bg-slate-950 p-4 rounded-lg border border-slate-800 text-xs text-left w-full mb-4",children:[m.jsxs("p",{className:"font-bold text-slate-400 mb-2",children:[m.jsx("i",{className:"fas fa-lightbulb text-yellow-500"})," BEST PRACTICES"]}),m.jsxs("ul",{className:"space-y-2 text-slate-500 list-disc pl-4",children:[m.jsxs("li",{children:["Turn Volume ",m.jsx("strong",{children:"MAX"}),"."]}),m.jsxs("li",{children:["Keep screen ",m.jsx("strong",{children:"OPEN"})," for continuous siren."]}),m.jsx("li",{className:"text-blue-300",children:'Tap "Activate System" to ensure sound works.'})]})]})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 animate-ping"}),m.jsx("h2",{className:"text-slate-400 uppercase tracking-widest text-sm font-semibold",children:"Live Alert"})]}),n.map(L=>m.jsx(pu,{alert:L},L.id))]})}),m.jsx("footer",{className:"bg-slate-950 p-6 text-center text-slate-600 text-xs border-t border-slate-900",children:m.jsx("button",{onClick:()=>e("/admin"),className:"text-slate-800 hover:text-slate-500",children:"Admin Access"})})]})},O1=({onLogin:e})=>{const t=cs(),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,l]=w.useState(""),a=u=>{u.preventDefault(),n===Vf.username&&i===Vf.password?(e(),t("/dashboard")):l("Invalid credentials")};return m.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-lg shadow-2xl border border-slate-700",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("i",{className:"fas fa-shield-alt text-4xl text-blue-500 mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-white font-oswald",children:"Admin Access"})]}),m.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o&&m.jsx("div",{className:"bg-red-500/20 text-red-400 p-3 rounded text-sm text-center border border-red-500/50",children:o}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:i,onChange:u=>s(u.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsx(bn,{type:"submit",fullWidth:!0,children:"Login"}),m.jsx("div",{className:"text-center pt-2",children:m.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-slate-500 hover:text-slate-300",children:" Back to Public Broadcast"})})]}),m.jsxs("div",{className:"mt-8 p-4 bg-slate-900/50 rounded text-xs text-slate-500 font-mono text-center",children:[m.jsx("p",{children:"Demo Credentials:"}),m.jsx("p",{children:"User: admin | Pass: yogiji"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wh;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wh||(Wh={}));var zh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(zh||(zh={}));var Gh;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Gh||(Gh={}));var Kh;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Kh||(Kh={}));var Yh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Yh||(Yh={}));var qh;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qh||(qh={}));var Qh;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Qh||(Qh={}));var Xh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Xh||(Xh={}));var Jh;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jh||(Jh={}));var Zh;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Zh||(Zh={}));var ep;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ep||(ep={}));var tp;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(tp||(tp={}));var np;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(np||(np={}));var rp;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(rp||(rp={}));var ip;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ip||(ip={}));var sp;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sp||(sp={}));var op;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(op||(op={}));var lp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(lp||(lp={}));var ap;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ap||(ap={}));var up;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(up||(up={}));var cp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cp||(cp={}));var dp;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dp||(dp={}));var fp;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fp||(fp={}));var hp;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hp||(hp={}));var pp;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pp||(pp={}));var mp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mp||(mp={}));var gp;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gp||(gp={}));var _p;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(_p||(_p={}));var yp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(yp||(yp={}));var vp;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vp||(vp={}));var Ep;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ep||(Ep={}));var Sp;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Sp||(Sp={}));var wp;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(wp||(wp={}));var Ip;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Ip||(Ip={}));var Tp;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Tp||(Tp={}));var Ap;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ap||(Ap={}));var Cp;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cp||(Cp={}));var Np;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Np||(Np={}));var xp;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(xp||(xp={}));var Rp;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Rp||(Rp={}));var Op;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Op||(Op={}));var kp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(kp||(kp={}));var Dp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Dp||(Dp={}));var Pp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Pp||(Pp={}));var Lp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Lp||(Lp={}));var bp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(bp||(bp={}));var Mp;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mp||(Mp={}));var Up;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Up||(Up={}));var Fp;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fp||(Fp={}));var jp;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jp||(jp={}));var Bp;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bp||(Bp={}));var Hp;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Hp||(Hp={}));var $p;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($p||($p={}));var Vp;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vp||(Vp={}));var Wp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Wp||(Wp={}));var zp;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(zp||(zp={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gp;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Gp||(Gp={}));function jo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Kp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(e){return this instanceof te?(this.v=e,this):new te(e)}function ki(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function l(g,_){r[g]&&(i[g]=function(E){return new Promise(function(v,p){s.push([g,E,v,p])>1||a(g,E)})},_&&(i[g]=_(i[g])))}function a(g,_){try{u(r[g](_))}catch(E){f(s[0][3],E)}}function u(g){g.value instanceof te?Promise.resolve(g.value.v).then(c,d):f(s[0][2],g)}function c(g){a("next",g)}function d(g){a("throw",g)}function f(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Kp=="function"?Kp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(l,a){o=e[s](o),i(l,a,o.done,o.value)})}}function i(s,o,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Pv=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Pv=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const k1=()=>Pv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const ju=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ut extends Error{}class Fe extends ut{constructor(t,n,r,i){super(`${Fe.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new El({message:r,cause:ju(n)});const s=n;return t===400?new bv(t,s,r,i):t===401?new Mv(t,s,r,i):t===403?new Uv(t,s,r,i):t===404?new Fv(t,s,r,i):t===409?new jv(t,s,r,i):t===422?new Bv(t,s,r,i):t===429?new Hv(t,s,r,i):t>=500?new $v(t,s,r,i):new Fe(t,s,r,i)}}class Bu extends Fe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class El extends Fe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Lv extends El{constructor({message:t}={}){super({message:t??"Request timed out."})}}class bv extends Fe{}class Mv extends Fe{}class Uv extends Fe{}class Fv extends Fe{}class jv extends Fe{}class Bv extends Fe{}class Hv extends Fe{}class $v extends Fe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D1=/^[a-z][a-z0-9+.-]*:/i,P1=e=>D1.test(e);let Hu=e=>(Hu=Array.isArray,Hu(e));const L1=Hu;let b1=L1;const Yp=b1;function M1(e){if(!e)return!0;for(const t in e)return!1;return!0}function U1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const F1=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ut(`${e} must be an integer`);if(t<0)throw new ut(`${e} must be a positive integer`);return t},j1=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ur="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $1=()=>{var e,t,n,r,i;const s=H1();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Qp(Deno.build.os),"X-Stainless-Arch":qp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Qp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":qp((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=V1();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function V1(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const qp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Qp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ms;const W1=()=>Ms??(Ms=$1());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Vv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function G1(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Vv({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Wv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function K1(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y1=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pa(e,t,n){return zv(),new File(e,t??"unknown_file",n)}function q1(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Q1=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",X1=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Gv(e),J1=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Z1(e,t,n){if(zv(),e=await e,X1(e))return e instanceof File?e:pa([await e.arrayBuffer()],e.name);if(J1(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),pa(await $u(i),t,n)}const r=await $u(e);if(t||(t=q1(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return pa(r,t,n)}async function $u(e){var t,n,r,i,s;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(Gv(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(Q1(e))try{for(var l=!0,a=Pr(e),u;u=await a.next(),t=u.done,!t;l=!0){i=u.value,l=!1;const c=i;o.push(...await $u(c))}}catch(c){n={error:c}}finally{try{!l&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}else{const c=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${ex(e)}`)}return o}function ex(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kv{constructor(t){this._client=t}}Kv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xp=Object.freeze(Object.create(null)),tx=(e=Yv)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((c,d,f)=>{var g,_,E;/[?#]/.test(d)&&(i=!0);const v=r[f];let p=(i?encodeURIComponent:e)(""+v);return f!==r.length&&(v==null||typeof v=="object"&&v.toString===((E=Object.getPrototypeOf((_=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:Xp))!==null&&_!==void 0?_:Xp))===null||E===void 0?void 0:E.toString))&&(p=v+"",s.push({start:c.length+d.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":p)},""),l=o.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=a.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((c,d)=>c.start-d.start),s.length>0){let c=0;const d=s.reduce((f,g)=>{const _=" ".repeat(g.start-c),E="^".repeat(g.length);return c=g.start+g.length,f+_+E},"");throw new ut(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},Us=tx(Yv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qv extends Kv{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,s=jo(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new ut("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ut("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Us`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Us`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Us`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=jo(s,["api_version"]);return this._client.get(Us`/${o}/interactions/${t}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}qv._key=Object.freeze(["interactions"]);class Qv extends qv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Fs;function Ed(e){let t;return(Fs??(t=new globalThis.TextEncoder,Fs=t.encode.bind(t)))(e)}let js;function Jp(e){let t;return(js??(t=new globalThis.TextDecoder,js=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ed(t):t;this.buffer=nx([this.buffer,n]);const r=[];let i;for(;(i=rx(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Jp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=Jp(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Sl.NEWLINE_CHARS=new Set([`
`,"\r"]);Sl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rx(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ix(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bo={off:0,error:200,warn:300,info:400,debug:500},Zp=(e,t,n)=>{if(e){if(U1(Bo,e))return e;Pe(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Bo))}`)}};function yi(){}function Bs(e,t,n){return!t||Bo[e]>Bo[n]?yi:t[e].bind(t)}const sx={error:yi,warn:yi,info:yi,debug:yi};let em=new WeakMap;function Pe(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return sx;const i=em.get(n);if(i&&i[0]===r)return i[1];const s={error:Bs("error",n,r),warn:Bs("warn",n,r),info:Bs("info",n,r),debug:Bs("debug",n,r)};return em.set(n,[r,s]),s}const kn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ir{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const s=r?Pe(r):console;function o(){return ki(this,arguments,function*(){var a,u,c,d;if(i)throw new ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Pr(ox(t,n)),E;E=yield te(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;if(!f)if(v.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield te(JSON.parse(v.data))}catch(p){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),p}}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield te(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Fu(v))return yield te(void 0);throw v}finally{f||n.abort()}})}return new Ir(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function s(){return ki(this,arguments,function*(){var a,u,c,d;const f=new Sl,g=Wv(t);try{for(var _=!0,E=Pr(g),v;v=yield te(E.next()),a=v.done,!a;_=!0){d=v.value,_=!1;const p=d;for(const h of f.decode(p))yield yield te(h)}}catch(p){u={error:p}}finally{try{!_&&!a&&(c=E.return)&&(yield te(c.call(E)))}finally{if(u)throw u.error}}for(const p of f.flush())yield yield te(p)})}function o(){return ki(this,arguments,function*(){var a,u,c,d;if(i)throw new ut("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var g=!0,_=Pr(s()),E;E=yield te(_.next()),a=E.done,!a;g=!0){d=E.value,g=!1;const v=d;f||v&&(yield yield te(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!a&&(c=_.return)&&(yield te(c.call(_)))}finally{if(u)throw u.error}}f=!0}catch(v){if(Fu(v))return yield te(void 0);throw v}finally{f||n.abort()}})}return new Ir(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();t.push(o),n.push(o)}return s.shift()}});return[new Ir(()=>i(t),this.controller,this.client),new Ir(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Vv({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=Ed(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ox(e,t){return ki(this,arguments,function*(){var r,i,s,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ut("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ut("Attempted to iterate over a response with no body");const l=new ax,a=new Sl,u=Wv(e.body);try{for(var c=!0,d=Pr(lx(u)),f;f=yield te(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;const g=o;for(const _ of a.decode(g)){const E=l.decode(_);E&&(yield yield te(E))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(s=d.return)&&(yield te(s.call(d)))}finally{if(i)throw i.error}}for(const g of a.flush()){const _=l.decode(g);_&&(yield yield te(_))}})}function lx(e){return ki(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,a=Pr(e),u;u=yield te(a.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const c=s;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?Ed(c):c;let f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let g;for(;(g=ix(o))!==-1;)yield yield te(o.slice(0,g)),o=o.slice(g)}}catch(c){r={error:c}}finally{try{!l&&!n&&(i=a.return)&&(yield te(i.call(a)))}finally{if(r)throw r.error}}o.length>0&&(yield yield te(o))})}class ax{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ux(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ux(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cx(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,o=await(async()=>{var l;if(t.options.stream)return Pe(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ir.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const a=n.headers.get("content-type"),u=(l=a==null?void 0:a.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Pe(e).debug(`[${r}] response parsed`,kn({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sd extends Promise{constructor(t,n,r=cx){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Sd(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xv=Symbol("brand.privateNullableHeaders");function*dx(e){if(!e)return;if(Xv in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Yp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Yp(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(t&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const hi=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,o]of dx(r)){const l=s.toLowerCase();i.has(l)||(t.delete(s),i.add(l)),o===null?(t.delete(s),n.add(l)):(t.append(s,o),n.delete(l))}}return{[Xv]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ma=e=>{var t,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jv;class wl{constructor(t){var n,r,i,s,o,l,a,{baseURL:u=ma("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=ma("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,f=jo(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:wl.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(o=(s=Zp(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Zp(ma("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(a=g.fetch)!==null&&a!==void 0?a:z1(),this.encoder=Y1,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=hi([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return hi([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hi([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ut(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ur}`}defaultIdempotencyKey(){return`stainless-node-retry-${k1()}`}makeStatusError(t,n,r,i){return Fe.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=P1(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return M1(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Sd(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,s,o;const l=await t,a=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=a),await this.prepareOptions(l);const{req:u,url:c,timeout:d}=await this.buildRequest(l,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:l});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(Pe(this).debug(`[${f}] sending request`,kn({retryOfRequestLogID:r,method:l.method,url:c,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new Bu;const E=new AbortController,v=await this.fetchWithTimeout(c,u,d,E).catch(ju),p=Date.now();if(v instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Bu;const S=Fu(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return Pe(this).info(`[${f}] connection ${S?"timed out":"failed"} - ${y}`),Pe(this).debug(`[${f}] connection ${S?"timed out":"failed"} (${y})`,kn({retryOfRequestLogID:r,url:c,durationMs:p-_,message:v.message})),this.retryRequest(l,n,r??f);throw Pe(this).info(`[${f}] connection ${S?"timed out":"failed"} - error; no more retries left`),Pe(this).debug(`[${f}] connection ${S?"timed out":"failed"} (error; no more retries left)`,kn({retryOfRequestLogID:r,url:c,durationMs:p-_,message:v.message})),S?new Lv:new El({cause:v})}const h=`[${f}${g}] ${u.method} ${c} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${p-_}ms`;if(!v.ok){const y=await this.shouldRetry(v);if(n&&y){const $=`retrying, ${n} attempts remaining`;return await K1(v.body),Pe(this).info(`${h} - ${$}`),Pe(this).debug(`[${f}] response error (${$})`,kn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:p-_})),this.retryRequest(l,n,r??f,v.headers)}const S=y?"error; no more retries left":"error; not retryable";Pe(this).info(`${h} - ${S}`);const T=await v.text().catch($=>ju($).message),C=j1(T),k=C?void 0:T;throw Pe(this).debug(`[${f}] response error (${S})`,kn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:k,durationMs:Date.now()-_})),this.makeStatusError(v.status,C,k,v.headers)}return Pe(this).info(h),Pe(this).debug(`[${f}] response start`,kn({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:p-_})),{response:v,options:l,controller:E,requestLogID:f,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(t,n,r,i){const s=n||{},{signal:o,method:l}=s,a=jo(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),a);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const a=i==null?void 0:i.get("retry-after");if(a&&!o){const u=parseFloat(a);Number.isNaN(u)?o=Date.parse(a)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await B1(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},t),{method:l,path:a,query:u,defaultBaseURL:c}=o,d=this.buildURL(a,u,c);"timeout"in o&&F1("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:g}=this.buildBody({options:o}),_=await this.buildHeaders({options:t,method:l,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:_},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:d,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let l=hi([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),W1()),this._options.defaultHeaders,r,t.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=hi([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:G1(t)}:this.encoder({body:t,headers:r})}}wl.DEFAULT_TIMEOUT=6e4;class Ie extends wl{constructor(){super(...arguments),this.interactions=new Qv(this)}}Jv=Ie;Ie.GeminiNextGenAPIClient=Jv;Ie.GeminiNextGenAPIClientError=ut;Ie.APIError=Fe;Ie.APIConnectionError=El;Ie.APIConnectionTimeoutError=Lv;Ie.APIUserAbortError=Bu;Ie.NotFoundError=Fv;Ie.ConflictError=jv;Ie.RateLimitError=Hv;Ie.BadRequestError=bv;Ie.AuthenticationError=Mv;Ie.InternalServerError=$v;Ie.PermissionDeniedError=Uv;Ie.UnprocessableEntityError=Bv;Ie.toFile=Z1;Ie.Interactions=Qv;const fx=async(e,t)=>(console.warn("API Key is missing. AI generation disabled."),"Error: API Key missing. Please check configuration."),hx=({onLogout:e})=>{const t=cs(),[n,r]=w.useState(""),[i,s]=w.useState(Nt.INFO),[o,l]=w.useState(""),[a,u]=w.useState([]),[c,d]=w.useState([]),[f,g]=w.useState([]),[_,E]=w.useState("checking"),[v,p]=w.useState(!1),[h,y]=w.useState("create"),[S,T]=w.useState(Hr()),[C,k]=w.useState(Me()),R=w.useCallback(async()=>{if(u(await bw()),d(await N_()),g(await fs()),k(Me()),T(Hr()),Me()){const x=await Nw();if(x){const H=Date.now()-x.last_seen<1e4&&x.online;E(H?"online":"offline")}else E("offline")}else E("offline")},[]);w.useEffect(()=>{R();const x=setInterval(R,2e3);return()=>clearInterval(x)},[R]);const $=()=>{e(),t("/")},b=async x=>{if(x.preventDefault(),!n||!o||C&&_==="offline"&&!window.confirm(` WARNING: The Monitor Script is OFFLINE.

Push notifications will NOT be sent to closed apps.

Run 'npm run monitor' on your PC to fix this.

Schedule anyway?`))return;const H=new Date,[dt,Te]=o.split(":").map(Number),Zt=new Date(H.getFullYear(),H.getMonth(),H.getDate(),dt,Te,0,0),ft=Rw(n,Zt.getTime(),i);await xw(ft),Pt(),await R(),alert("One-time Alert Scheduled Successfully")},De=async x=>{if(x.preventDefault(),!n||!o)return;const H=Dw(n,o,i);await kw(H),Pt(),await R(),alert("Recurring Alert Created Successfully")},Pt=()=>{r(""),l(""),s(Nt.INFO)},ct=async()=>{if(!n){alert("Please enter a topic first.");return}p(!0);try{const x=await fx(n,i);r(x)}catch{alert("Failed to generate content")}finally{p(!1)}},_e=async x=>{window.confirm("Remove this alert?")&&(await Ow(x),await R())},It=async x=>{await Lw(x),await R()},et=async x=>{await Pw(x),await R()},Tt=()=>{if(S&&!S.startsWith("https://")){alert("URL must start with https://");return}Cw(S),R(),alert("Database connection updated.")},N=x=>{if(!x)return"";const[H,dt]=x.split(":"),Te=new Date;return Te.setHours(parseInt(H),parseInt(dt)),Te.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0})},D=S&&!S.includes(".firebaseio.com")&&!S.includes(".firebasedatabase.app"),P=S&&(S.endsWith(".co")||S.endsWith(".c"));return m.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col md:flex-row",children:[m.jsxs("aside",{className:"w-full md:w-64 bg-slate-800 border-r border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-700",children:[m.jsx("h2",{className:"text-2xl font-bold font-oswald text-blue-400",children:"ADMIN PANEL"}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"SENTINEL CONTROL"}),m.jsxs("div",{className:"mt-4 bg-slate-900 p-3 rounded border border-slate-700 space-y-2",children:[C?m.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[m.jsx("i",{className:"fas fa-wifi"})," DB Connected"]}):m.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-500",children:[m.jsx("i",{className:"fas fa-exclamation-triangle"})," Local Mode"]}),C&&m.jsxs("div",{onClick:()=>y("settings"),className:`flex items-center gap-2 text-xs font-bold cursor-pointer hover:opacity-80 transition-opacity ${_==="online"?"text-green-400":_==="checking"?"text-yellow-400":"text-red-500"}`,children:[m.jsx("span",{className:`w-2 h-2 rounded-full ${_==="online"?"bg-green-500 animate-pulse":_==="checking"?"bg-yellow-500":"bg-red-500"}`}),_==="online"?"Monitor: ONLINE":_==="checking"?"Monitor: CHECKING...":"Monitor: OFFLINE"]}),C&&_==="offline"&&m.jsxs("div",{className:"text-[10px] text-red-400 leading-tight mt-1 border-t border-slate-700 pt-1",children:[m.jsx("i",{className:"fas fa-arrow-up mr-1"}),"Click above to fix connection"]})]})]}),m.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[m.jsxs("button",{onClick:()=>y("create"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="create"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-plus-circle mr-3"})," One-Time Alert"]}),m.jsxs("button",{onClick:()=>y("recurring"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="recurring"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-sync-alt mr-3"})," Recurring Alerts"]}),m.jsxs("button",{onClick:()=>y("scheduled"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="scheduled"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-clock mr-3"})," Scheduled",a.length>0&&m.jsx("span",{className:"ml-auto bg-slate-900 px-2 py-0.5 rounded-full text-xs float-right",children:a.length})]}),m.jsxs("button",{onClick:()=>y("history"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="history"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-history mr-3"})," History"]}),m.jsxs("button",{onClick:()=>y("settings"),className:`w-full text-left px-4 py-3 rounded transition-colors ${h==="settings"?"bg-blue-600":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx("i",{className:"fas fa-cog mr-3"})," Settings & Keys"]})]}),m.jsx("div",{className:"p-4 border-t border-slate-700",children:m.jsx(bn,{variant:"outline",fullWidth:!0,onClick:$,children:"Logout"})})]}),m.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[h==="create"&&m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald",children:"One-Time Broadcast"}),m.jsxs("form",{onSubmit:b,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx(tm,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:ct}),m.jsx("div",{className:"pt-4",children:m.jsxs(bn,{type:"submit",fullWidth:!0,disabled:v,children:[m.jsx("i",{className:"fas fa-paper-plane mr-2"})," Schedule Today"]})})]})]}),h==="recurring"&&m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-purple-400",children:"Recurring Rule"}),m.jsxs("form",{onSubmit:De,className:"space-y-6 bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx(tm,{severity:i,setSeverity:s,timeInput:o,setTimeInput:l,content:n,setContent:r,isGenerating:v,onGenerate:ct}),m.jsx("div",{className:"pt-4",children:m.jsxs(bn,{type:"submit",fullWidth:!0,disabled:v,className:"bg-purple-600 hover:bg-purple-500",children:[m.jsx("i",{className:"fas fa-save mr-2"})," Save Rule"]})})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 font-oswald text-slate-400",children:"Active Rules"}),f.length===0?m.jsx("div",{className:"text-slate-500 italic border border-dashed border-slate-700 p-8 rounded text-center",children:"No recurring rules."}):m.jsx("div",{className:"space-y-4",children:f.map(x=>m.jsxs("div",{className:`p-4 rounded border-l-4 flex flex-col gap-2 shadow bg-slate-800 ${x.isActive?"border-purple-500":"border-slate-600 opacity-60"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"font-mono text-xl font-bold text-white",children:N(x.scheduledTime)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:()=>et(x.id),className:`px-2 py-1 text-xs rounded font-bold uppercase ${x.isActive?"bg-green-900 text-green-400":"bg-slate-700 text-slate-400"}`,children:x.isActive?"Active":"Paused"}),m.jsx("button",{type:"button",onClick:H=>{H.preventDefault(),It(x.id)},className:"w-8 h-8 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded",children:m.jsx("i",{className:"fas fa-trash text-xs"})})]})]}),m.jsx("div",{className:`text-xs font-bold uppercase ${x.severity==="CRITICAL"?"text-red-400":x.severity==="WARNING"?"text-yellow-400":"text-blue-400"}`,children:x.severity}),m.jsx("p",{className:"text-sm text-slate-300",children:x.content})]},x.id))})]})]})}),h==="scheduled"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-blue-400",children:"Scheduled Queue"}),a.length===0?m.jsx("p",{className:"text-slate-500 italic",children:"No alerts scheduled."}):a.map(x=>m.jsx(pu,{alert:x,isAdmin:!0,onDelete:_e},x.id))]}),h==="history"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-400",children:"History"}),c.length===0?m.jsx("p",{className:"text-slate-500 italic",children:"No history."}):c.map(x=>m.jsx("div",{className:"opacity-75",children:m.jsx(pu,{alert:x,isAdmin:!0,onDelete:x.id.startsWith("recurring")?void 0:_e})},x.id))]}),h==="settings"&&m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-6 font-oswald text-slate-200",children:"System Configuration"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"1. Database Connection"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Firebase Database URL"}),m.jsx("input",{type:"text",placeholder:"https://your-project.firebaseio.com",value:S,onChange:x=>T(x.target.value.trim()),className:`w-full bg-slate-900 border rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none ${P||D?"border-red-500":"border-slate-700"}`}),P&&m.jsxs("p",{className:"text-red-400 text-xs mt-2 animate-pulse font-bold",children:[" It looks like there is a typo in your URL (ending in .co). It usually ends in ",m.jsx("code",{children:".com"}),"."]}),!P&&D&&m.jsxs("p",{className:"text-yellow-400 text-xs mt-2",children:[" Standard Firebase URLs usually end in ",m.jsx("code",{children:".firebaseio.com"})," or ",m.jsx("code",{children:".firebasedatabase.app"}),"."]})]}),m.jsxs("div",{className:"flex justify-between items-center pt-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${C?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"text-sm font-medium",children:C?"Cloud Connected":"Local Mode"})]}),m.jsx(bn,{onClick:Tt,children:"Save & Connect"})]})]}),m.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg shadow-xl border border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"2. Server Monitor"}),m.jsxs("div",{className:"mt-4 border-t border-slate-700 pt-4",children:[m.jsx("h4",{className:"font-bold text-slate-300 mb-2",children:"Debug Monitor Connection"}),m.jsxs("div",{className:`p-4 rounded border text-sm space-y-2 ${_==="offline"?"bg-red-900/20 border-red-500":"bg-slate-900 border-slate-600"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-slate-400",children:"Current Status:"}),m.jsx("span",{className:`font-bold ${_==="online"?"text-green-400":"text-red-500"}`,children:_==="online"?"ONLINE":"OFFLINE"})]}),_==="offline"&&m.jsxs("div",{className:"text-red-300 text-xs mb-3 font-bold",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),"Action Required: The URL in this dashboard must match the URL used by the monitor script."]}),m.jsxs("p",{className:"text-slate-400 mb-2",children:["To fix OFFLINE, open ",m.jsx("code",{children:"monitor-local.js"})," and change ",m.jsx("strong",{children:"MANUAL_DB_URL"})," to:"]}),m.jsx("div",{className:"flex gap-2",children:m.jsx("code",{className:"block bg-black p-2 rounded text-green-400 flex-1 overflow-x-auto whitespace-nowrap font-mono select-all",children:S||"No Database URL Set"})})]}),m.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:[m.jsx("p",{children:"Running the monitor script:"}),m.jsx("code",{className:"block bg-slate-950 p-2 mt-1 rounded text-slate-300",children:"npm run monitor"})]})]})]})]})]})]})]})},tm=({severity:e,setSeverity:t,timeInput:n,setTimeInput:r,content:i,setContent:s,isGenerating:o,onGenerate:l})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Severity Level"}),m.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.values(Nt).map(a=>m.jsx("button",{type:"button",onClick:()=>t(a),className:`py-3 rounded border-2 font-bold ${e===a?a==="CRITICAL"?"border-red-500 bg-red-500/20 text-red-500":a==="WARNING"?"border-yellow-500 bg-yellow-500/20 text-yellow-500":"border-blue-500 bg-blue-500/20 text-blue-500":"border-slate-600 text-slate-500"}`,children:a},a))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Time (HH:MM)"}),m.jsx("input",{type:"time",required:!0,value:n,onChange:a=>r(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none font-mono text-lg"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Message Content"}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{required:!0,value:i,onChange:a=>s(a.target.value),rows:4,placeholder:"Enter alert message...",className:"w-full bg-slate-900 border border-slate-700 rounded p-3 text-white focus:ring-2 focus:ring-blue-500 outline-none pr-12"}),m.jsx("button",{type:"button",onClick:l,disabled:o,className:"absolute top-2 right-2 text-slate-400 hover:text-blue-400 p-2",children:m.jsx("i",{className:`fas ${o?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`})})]})]})]}),px=()=>{const[e,t]=w.useState(!1);return w.useEffect(()=>{Me()&&Uu()},[]),m.jsx(Iw,{children:m.jsx("div",{className:"antialiased text-slate-200",children:m.jsxs(vw,{children:[m.jsx(Zs,{path:"/",element:m.jsx(R1,{})}),m.jsx(Zs,{path:"/admin",element:m.jsx(O1,{onLogin:()=>t(!0)})}),m.jsx(Zs,{path:"/dashboard",element:e?m.jsx(hx,{onLogout:()=>t(!1)}):m.jsx(_w,{to:"/admin",replace:!0})})]})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const Zv=document.getElementById("root");if(!Zv)throw new Error("Could not find root element to mount to");const mx=ga.createRoot(Zv);mx.render(m.jsx(fm.StrictMode,{children:m.jsx(px,{})}));
